!function(){"use strict";function t(){var t=acfw_edit_coupon.cart_condition_fields,n=acfw_edit_coupon.cart_condition_field_groups,e=acfw_edit_coupon.product_table_buttons,o=acfw_edit_coupon.add_new_and_rule,c=Object.keys(t).map((function(n){return t[n]}));return'\n    <div class="condition-group-actions">\n      <div class="add-condition-form" style="display: none;">\n        <select class="condition-types" data-placeholder="Search/select condition fields">\n          <option value="">Search</option>\n          '.concat(n.map((function(t){return function(t,n){var e=t.group,o=t.label,c=n.filter((function(t){return t.group===e||"others"===e&&void 0===t.group}));if(!c.length)return;return'\n    <optgroup label="'.concat(o,'">\n      ').concat(c.map((function(t){return'<option value="'.concat(t.key,'">').concat(t.title,"</option>")})).join(""),"\n    </optgroup>\n  ")}(t,c)})).join(""),'\n        </select>\n        <button type="button" class="add-condition-field button-primary">').concat(e.add,'</button>\n        <button type="button" class="cancel-add-condition-field button">').concat(e.cancel,'</button>\n      </div>\n      <button type="button" class="add-condition-trigger button">\n        <i class="dashicons dashicons-plus"></i>\n        ').concat(o,"\n      </button>\n    </div>\n  ")}var n=jQuery,e=document.querySelector("#acfw_cart_conditions");function o(){var t=n(this),e=t.closest("div.condition-group-actions");t.hasClass("add-condition-trigger")?(e.find(".add-condition-form").show(),jQuery("select.condition-types").select2(),t.hide()):(e.find(".add-condition-form").hide(),e.find(".add-condition-trigger").show())}function c(t){n(e).data("editing",t),n(e).find("#save-cart-conditions").prop("disabled",!t)}function a(){var t=n(this),o=t.closest(".condition-field"),c=o.find("select.condition-value"),a=t.val()+"",i=o.data("selected_terms"),s=n(e).data("custom_tax_options").filter((function(t){return t.slug==a})),d=s.length?s[0].terms:[];if(c.val(null).find("option").remove(),d.length){for(var l=0,r=d;l<r.length;l++){var u=r[l],p=u.name,f=u.term_id,_=new Option(p,f);c.append(_)}c.val(i).trigger("change")}}function i(){var t=n(this),o=t.closest(".condition-field"),c=o.find("select.condition-value"),a=t.val()+"";if(a){var i=o.data("regions"),s=n(e).data("shipping_regions"),d=o.data("zones")[a].regions;if(c.val(null).find("option").remove(),"object"==typeof d&&d.length){for(var l=0,r=d;l<r.length;l++){var u=r[l],p=new Option(s[u],u);c.append(p)}c.val(i).trigger("change")}}}function s(){var t=n(this),e=n("select.non-qualifying-notice-type-field"),o=e.closest(".condition-settings-field");t.is(":checked")?(o.show(),e.prop("disabled",!1)):(o.hide(),e.prop("disabled",!0))}function d(t,n){void 0===n&&(n=""),n||(n="show");var e="show"===n?"block":"none";jQuery(t).css("display",e)}function l(t){var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039"};return t.replace(/[&<>"']/g,(function(t){return n[t]}))}function r(){var t=acfw_edit_coupon.decimal_separator,n=jQuery(this),e=n.val()+"";e=="0"+t&&n.val("0"),"0"!=e&&e.substring(0,2)!="0"+t&&(e=(e=e.replace(/^0+/,"")).substring(0,1)==t?"0"+e:e,n.val(e))}function u(t){return"<"==t?1:0}function p(t,n){return t==n?"selected":""}function f(t,n){return t.indexOf(n)>=0?"selected":""}function _(t){void 0===t&&(t="");var n=acfw_edit_coupon.condition_field_options,e=n.exactly,o=n.anyexcept,c=n.morethan,a=n.lessthan;return'\n        <option value="=" '.concat(p(t,"="),">").concat(e,'</option>\n        <option value="!=" ').concat(p(t,"!="),">").concat(o,'</option>\n        <option value=">" ').concat(p(t,">"),">").concat(c,'</option>\n        <option value="<" ').concat(p(t,"<"),">").concat(a,"</option>\n    ")}function v(t){var n=acfw_edit_coupon.decimal_separator;return parseFloat(t.replace(n,"."))}function h(t,n){return"percent"!==t&&"fixed"!==t||0<v(n)}function g(t){void 0===t&&(t="");var n=acfw_edit_coupon.logic_field_options,e=n.and,o=n.or;return'\n        <div class="condition-group-logic">\n            <div class="field-control">\n                <select class="cgroup-logic">\n                    <option value="and" '.concat(p(t,"and"),">").concat(e,'</option>\n                    <option value="or" ').concat(p(t,"or"),">").concat(o,"</option>\n                </select>\n            </div>\n        </div>\n    ")}function m(n){void 0===n&&(n="");var e=acfw_edit_coupon.empty_cart_conditions_field,o=t(),c='<div class="empty-conditions">'.concat(e,"</div>");return'\n        <div class="condition-group '.concat(n?"":"new",'">\n            <a class="remove-condition-group" href="javascript:void(0);">\n                <i class="dashicons dashicons-trash"></i>\n            </a>\n            <div class="condition-group-fields">\n                ').concat(n||c,"\n            </div>\n            ").concat(o,"\n        </div>\n    ")}var y=jQuery;function b(){var t=document.querySelector("#acfw_cart_conditions .condition-data-wrap .condition-groups");y(t).find(".condition-group").length&&y(t).append(g("or")),y(t).find(".no-condition-group").remove(),y(t).append(m()),y(this).blur(),y(t).find(".condition-group.new .add-condition-trigger").trigger("click"),y(t).find(".condition-group").removeClass("new"),c(!0)}function w(){var t=y(this),n=document.querySelector("#acfw_cart_conditions"),e=t.closest(".condition-group"),o=0==e.index()?e.next(".condition-group-logic"):e.prev(".condition-group-logic"),a=acfw_edit_coupon.no_condition_group_msg;e.remove(),o.remove(),y(n).find(".condition-group").length<1&&y(n).find(".condition-groups").append('\n            <div class="no-condition-group">\n                '.concat(a,"\n            </div>\n        ")),c(!0)}function x(t){void 0===t&&(t="");var n=acfw_edit_coupon.logic_field_options,e=n.and,o=n.or;return'<div class="logic-condition-field condition-field" data-type="logic">\n        <div class="field-control">\n            <select class="condition-logic">\n                <option value="and" '.concat(p(t,"and"),">").concat(e,'</option>\n                <option value="or" ').concat(p(t,"or"),">").concat(o,"</option>\n            </select>\n        </div>\n    </div>")}var k=acfw_edit_coupon.cart_condition_fields,q=acfw_edit_coupon.condition_field_options;function j(t){var n=t.value,e=t.condition,o=t.quantity,c=k.product_category,a=c.title,i=c.placeholder,s=c.field,d=k.cart_quantity.field,l=acfw_edit_coupon.condition_label,r=q.exactly,u=q.anyexcept,p=q.morethan,_=q.lessthan,v=e||">";return'\n    <div class="product-category-field condition-field" data-type="product-category">\n        <a class="remove-condition-field" href="javascript:void(0);"><i class="dashicons dashicons-trash"></i></a>\n        <h3 class="condition-field-title">'.concat(a,'</h3>\n        <div class="field-control categories">\n            <label>').concat(s,'</label>\n            <select class="condition-value wc-enhanced-select" multiple data-placeholder="').concat(i,'">\n                ').concat(function(t){void 0===t&&(t=[]);var n=k.product_category.options,e="";for(var o in n)e+='<option value="'.concat(o,'" ').concat(f(t,o),">").concat(n[o],"</option>");return e}(n),'\n            </select>\n        </div>\n        <div class="field-control condition">\n            <label>').concat(l,'</label>\n            <select class="condition-select">\n                <option value="=" ').concat("="==v?"selected":"",">").concat(r,'</option>\n                <option value="!=" ').concat("!="==v?"selected":"",">").concat(u,'</option>\n                <option value=">" ').concat(">"==v?"selected":"",">").concat(p,'</option>\n                <option value="<" ').concat("<"==v?"selected":"",">").concat(_,'</option>\n            </select>\n        </div>\n        <div class="field-control quantity">\n            <label>').concat(d,'</label>\n            <input type="number" class="condition-quantity" value="').concat(o,'" min="').concat("<"==e?1:0,'">\n        </div>\n    </div>\n    ')}var F=acfw_edit_coupon.cart_condition_fields;function C(t){var n=F.customer_logged_in_status.title;return'\n        <div class="customer-logged-in-status-field condition-field" data-type="customer-logged-in-status">\n\n        <a class="remove-condition-field" href="javascript:void(0);"><i class="dashicons dashicons-trash"></i></a>\n\n        <h3 class="condition-field-title">'.concat(n,'</h3>\n\n        <div class="field-control">\n            <select class="condition-value">\n                ').concat(function(t){var n=F.customer_logged_in_status.options,e="";for(var o in n)e+='<option value="'.concat(o,'" ').concat(p(o,t),">").concat(n[o],"</option>");return e}(t),"\n            </select>\n        </div>\n    </div>")}var S=acfw_edit_coupon.cart_condition_fields;function D(t){var n=S.customer_user_role,e=n.title,o=n.placeholder;return'\n        <div class="customer-user-role-field condition-field" data-type="customer-user-role">\n            <a class="remove-condition-field" href="javascript:void(0);"><i class="dashicons dashicons-trash"></i></a>\n            <h3 class="condition-field-title">'.concat(e,'</h3>\n            <div class="field-control">\n                <select class="wc-enhanced-select condition-value" multiple data-placeholder="').concat(o,'">\n                    ').concat(function(t){var n=acfw_edit_coupon.user_role_options,e="";for(var o in n)e+='<option value="'.concat(o,'" ').concat(f(t,o),">").concat(n[o],"</option>");return e}(t),"\n                </select>\n            </div>\n        </div>\n    ")}var O=acfw_edit_coupon.cart_condition_fields;function Q(t){var n=O.disallowed_customer_user_role,e=n.title,o=n.placeholder;return'\n        <div class="disallowed-customer-user-role-field condition-field" data-type="disallowed-customer-user-role">\n            <a class="remove-condition-field" href="javascript:void(0);"><i class="dashicons dashicons-trash"></i></a>\n            <h3 class="condition-field-title">'.concat(e,'</h3>\n            <div class="field-control">\n                <select class="wc-enhanced-select condition-value" multiple data-placeholder="').concat(o,'">\n                    ').concat(function(t){var n=acfw_edit_coupon.user_role_options,e="";for(var o in n)e+='<option value="'.concat(o,'" ').concat(f(t,o),">").concat(n[o],"</option>");return e}(t),"\n                </select>\n            </div>\n        </div>\n    ")}var N=acfw_edit_coupon.cart_condition_fields;var I=acfw_edit_coupon.cart_condition_fields;var L=jQuery,M=acfw_edit_coupon.cart_condition_premium_notice,A=acfw_edit_coupon.cart_condition_fields,E=acfw_edit_coupon.upsell;function J(){var t=L(this),n=t.closest(".condition-group-actions").find("select.condition-types"),e=t.closest(".condition-group"),o=e.find(".condition-group-fields"),a=document.querySelector("#acfw_cart_conditions .acfw-overlay"),i=L("#acfw_cart_conditions").data("premium-conditions"),s=n.val()+"",l=o.find(".condition-field,.condition-set").length;if(d(a,"show"),i&&i.indexOf(s)>-1)vex.dialog.alert({unsafeMessage:E.cart_condition_field});else{var r=z(s,null,l);r?(o.find(".empty-conditions").remove(),o.show().append(r),o.find(".".concat(s,"-field")).find("input,select").trigger("change"),L("body").trigger("wc-enhanced-select-init"),c(!0)):vex.dialog.alert(acfw_edit_coupon.fail_add_condition_field)}d(a,"hide"),e.find(".condition-group-actions .add-condition-form").hide(),e.find(".condition-group-actions .add-condition-trigger").show()}function H(){var t=L(this).closest(".condition-field,.condition-set"),n=t.closest(".condition-group"),e=0==t.index()?t.next(".logic-condition-field"):t.prev(".logic-condition-field"),o=acfw_edit_coupon.empty_cart_conditions_field;t.remove(),e.remove(),n.find(".condition-field,.condition-set").length<1&&n.find(".condition-group-fields").append('\n            <div class="empty-conditions">\n                '.concat(o,"\n            </div>\n        ")),c(!0)}function z(t,n,e){void 0===n&&(n=null),void 0===e&&(e=0);var o="";switch(t){case"product-category":(n=n||{}).length&&(n={condition:">",value:n,quantity:0}),o+=j(n);break;case"customer-logged-in-status":o+=C(n);break;case"customer-user-role":o+=D(n=n||[]);break;case"disallowed-customer-user-role":o+=Q(n=n||[]);break;case"cart-quantity":o+=function(t){var n=t.condition,e=t.value,o=N.cart_quantity,c=o.title,a=o.desc,i=o.field,s=acfw_edit_coupon.condition_label;return'\n    <div class="cart-quantity-field condition-field" data-type="cart-quantity">\n        <a class="remove-condition-field" href="javascript:void(0);"><i class="dashicons dashicons-trash"></i></a>\n        <h3 class="condition-field-title">'.concat(c,"</h3>\n        <label>").concat(a,'</label>\n        <div class="field-control">\n            <label>').concat(s,'</label>\n            <select class="condition-select">\n                ').concat(_(n),'\n            </select>\n        </div>\n        <div class="field-control">\n            <label>').concat(i,'</label>\n            <input class="condition-value" type="number" min="0" value="').concat(e>=0?e:"",'">\n        </div>\n    </div>\n    ')}(n=n||{});break;case"cart-subtotal":o+=function(t){var n=t.condition,e=t.value,o=t.include_tax,c=acfw_edit_coupon.cart_condition_fields,a=acfw_edit_coupon.condition_label,i=c.cart_subtotal,s=i.title,d=i.desc,l=i.field,r=i.tax_label;return'\n    <div class="cart-subtotal-field condition-field" data-type="cart-subtotal">\n    <a class="remove-condition-field" href="javascript:void(0);"><i class="dashicons dashicons-trash"></i></a>\n    <h3 class="condition-field-title">'.concat(s,"</h3>\n    <label>").concat(d,'</label>\n    <div class="field-control">\n      <label>').concat(a,'</label>\n      <select class="condition-select">\n        ').concat(_(n),'\n      </select>\n    </div>\n    <div class="field-control">\n      <label>').concat(l,'</label>\n      <input class="condition-value wc_input_price" type="text" value="').concat(e||"",'">\n    </div>\n    <div class="field-control no-label">\n      <label><input type="checkbox" class="condition-include-tax" type="checkbox" ').concat("yes"===o?"checked":""," /> ").concat(r,"</label>\n    </div>\n    </div>\n    ")}(n=n||{});break;default:var c=t.replace(/-/g,"_");if(A[c]){var a=A[c],i=a.template_callback,s=a.default_data_value,d=a.title;if(s&&(n=n||s),i&&(o+=i(n,c)),M){var l=M.label_premium;d&&d.includes(l)&&(o+=function(t,n){var e=n.replace(/-/g,"_"),o=I[e].title,c=acfw_edit_coupon.cart_condition_field_premium_notice;return'\n  <div class="'.concat(n,' condition-field condition-field-premium" data-type="').concat(n,"\" data-premium='").concat(JSON.stringify(t),'\'>\n      <a class="remove-condition-field" href="javascript:void(0);"><i class="dashicons dashicons-trash"></i></a>\n      <h3 class="condition-field-title">').concat(o,'</h3>\n      <div class="field-control">\n          ').concat(c.label,"\n      </div>\n  </div>\n  ")}(n=n||{},t))}}}return o&&e?x()+o:o}function P(t){return acfw_edit_coupon.cart_conditon_field_options.indexOf(t)>-1}var T=jQuery,V=acfw_edit_coupon.cart_condition_premium_notice,W=acfw_edit_coupon.cart_condition_fields;function Y(t){var n,e=t.querySelectorAll(".condition-set,.condition-field"),o=[];return t.classList.contains("condition-group-logic")?{type:"group_logic",value:null===(n=t.querySelector("select"))||void 0===n?void 0:n.value}:(e.forEach((function(t){return o.push(function(t){var n,e,o,c=t.dataset.type,a={type:c,data:null};switch(c){case"logic":n=t.querySelector("select.condition-logic"),a.data=n.value;break;case"product-category":n=t.querySelector(".condition-value"),e=t.querySelector(".condition-select"),o=t.querySelector(".condition-quantity"),a.data={condition:T(e).val(),value:T(n).val(),quantity:T(o).val()};break;case"customer-logged-in-status":case"customer-user-role":case"disallowed-customer-user-role":n=t.querySelector(".condition-value"),a.data=T(n).val();break;case"cart-quantity":n=t.querySelector(".condition-select"),e=t.querySelector(".condition-value"),a.data={condition:T(n).val(),value:parseInt(T(e).val())};break;case"cart-subtotal":var i=t.querySelector("input.condition-include-tax");n=t.querySelector(".condition-select"),e=t.querySelector(".condition-value"),a.data={condition:T(n).val(),value:T(e).val(),include_tax:i.checked?"yes":"no"};break;default:var s=null==c?void 0:c.replace(/-/g,"_");if(W[s]){var d=W[s],l=d.scraper_callback,r=d.title;if(l&&(a.data=l(t)),V){var u=V.label_premium;if(r&&r.includes(u)){var p=t.dataset.premium;a.data=p?JSON.parse(p):""}}}}return a}(t))})),o.length?{type:"group",fields:o}:null)}var B=jQuery,Z=woocommerce_admin_meta_boxes.post_id;function U(){var t=document.querySelector("#acfw_cart_conditions"),n=t.querySelectorAll(".condition-groups .condition-group, .condition-groups .condition-group-logic"),e=t.querySelector(".acfw-overlay"),o=acfw_edit_coupon.post_status,a=woocommerce_admin_meta_boxes.post_id,i=[];if(B(t).find(".acfw-styled-table tr.add-edit-form button.cancel").trigger("click"),n.forEach((function(t){var n=Y(t);n&&i.push(n)})),!function(t){var n,e,o,c,a,i,s,d,l;if(1===t.length&&(null===(n=t[0].fields)||void 0===n?void 0:n.length)<1)return!0;for(var r="",p=0,f=t;p<f.length;p++)if("group_logic"!==(e=f[p]).type){if(r=e.type,void 0===e.fields||e.fields.length<1)return!1;for(var _=0,v=e.fields;_<v.length;_++){if(a=(o=v[_]).type,void 0===(c=o.data)||""===c||null===c)return!1;if("object"==typeof c&&"number"==typeof c.length?i=c:"product-category"===a?(i=c.value,s=c.condition,d=c.quantity):"object"==typeof c&&void 0===c.length?(i=c.products,s=c.condition,d=c.value):d=c,l=u(s),void 0!==i&&i.length<1||void 0!==s&&!s||!Number.isInteger(d)&&void 0!==d&&!d||Number.isInteger(d)&&d<l||"number"==typeof d&&d<l)return!1}}else{if(!r||"group_logic"===r)return!1;r="group_logic"}return!0}(i))return vex.dialog.alert(acfw_edit_coupon.cart_conditions_invalid),void B(t).addClass("save-error");var s={message:B(t).find(".text-input.non-qualifying-message-field").val(),btn_text:B(t).find(".text-input.non-qualifying-btn-text-field").val(),btn_url:B(t).find(".text-input.non-qualifying-btn-url-field").val(),notice_type:B(t).find(".non-qualifying-notice-type-field").val()},l=B(t).find(".display-notice-auto-apply-field").is(":checked")?"yes":"";if(s.btn_url&&!/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(s.btn_url))return vex.dialog.alert(acfw_edit_coupon.cart_notice_url_invalid),void B(t).addClass("save-error");d(e,"show"),$({cart_conditions:i,notice_settings:s,auto_apply_display:l,nonce:B(t).data("nonce")},(function(n){"success"==n.status?"publish"!==o&&(B("input[name='post_title']").val()||B("input[name='post_title']").val("coupon-"+a),B("select[name='post_status']").append(new Option("Published","publish")).val("publish"),B("#publishing-action").append('\n                    <input type="hidden" name="publish" value="Publish">\n                '),B("input#publish").click()):n.error_msg&&vex.dialog.alert(n.error_msg),c(!1),B(t).find("#save-cart-conditions").prop("disabled",!0),d(e,"hide")}))}function R(t){var n=document.querySelector("#acfw_cart_conditions");B(n).data("editing")&&(t.preventDefault(),B(n).find("#save-cart-conditions").trigger("click"),setTimeout((function(){B(n).hasClass("save-error")?B(n).removeClass("save-error"):B("form#post").submit()}),1e3))}function $(t,n){return t.action="acfw_save_cart_conditions",t.coupon_id=Z,B.post(ajaxurl,t,n,"json")}var K=jQuery,G=acfw_edit_coupon.product_table_buttons,X=acfw_edit_coupon.condition_field_options,tt=acfw_edit_coupon.bogo_form_fields;function nt(){var t=K(this).closest(".acfw-styled-table"),n=t.find("tbody"),e=t.data("exclude");n.find("tr.no-result").remove(),n.append(st(e)),K("body").trigger("wc-enhanced-select-init")}function et(){var t=K(this),n=t.closest("tr"),e=t.closest("table"),o=n.closest("tbody"),c=n.find("td.product").data("product"),a=e.data("exclude");a.splice(a.indexOf(c.product_id),1),o.find("tr.no-result").remove(),n.replaceWith(st(a,c)),e.data("exclude",a),e.find(".wc-product-search").data("exclude",a),K("body").trigger("wc-enhanced-select-init")}function ot(){var t=K(this),n=t.closest("tr"),e=t.closest("table.acfw-styled-table"),o=n.find(".wc-product-search"),a=n.find(".condition-select"),i=n.find(".condition-quantity"),s="<"===a.val()?1:0,d=e.data("exclude");if(o.val()&&a.val()&&i.val()&&!(parseInt(i.val())<s)){var r=parseInt(o.val());if(d.includes(r))vex.dialog.alert(acfw_edit_coupon.product_exists_in_table);else{var u={product_id:r,condition:a.val(),quantity:parseInt(i.val()+""),product_label:o.find("option:selected").text(),condition_label:a.find("option:selected").text()},p='\n        <tr>\n            <td class="product" data-product="'.concat(l(JSON.stringify(u)),'">').concat(u.product_label,'</td>\n            <td class="condition">').concat(u.condition_label,'</td>\n            <td class="quantity">').concat(u.quantity,'</td>\n            <td class="actions">\n                <a class="edit" href="javascript:void(0)"><span class="dashicons dashicons-edit"></span></a>\n                <a class="remove" href="javascript:void(0)"><span class="dashicons dashicons-no"></span></a>\n            </td>\n        </tr>\n    ');d.push(u.product_id),n.replaceWith(p),e.data("exclude",d),e.find(".wc-product-search").data("exclude",d),c(!0)}}else vex.dialog.alert(acfw_edit_coupon.fill_form_propery_error_msg)}function ct(){var t=jQuery(this),n=t.closest("tr"),e=t.closest("table"),o=n.closest("tbody"),c=n.find("td.product").data("product"),a=n.find("td").length,i=e.data("exclude");if(i.includes(c.product_id))vex.dialog.alert(acfw_edit_coupon.product_exists_in_table);else if("object"==typeof c){var s=c.product_id,d=c.product_label,r=c.condition_label,u=c.quantity,p='\n            <tr>\n                <td class="product" data-product="'.concat(l(JSON.stringify(c)),'">').concat(d,'</td>\n                <td class="condition">').concat(r,'</td>\n                <td class="quantity">').concat(u,'</td>\n                <td class="actions">\n                    <a class="edit" href="javascript:void(0)"><span class="dashicons dashicons-edit"></span></a>\n                    <a class="remove" href="javascript:void(0)"><span class="dashicons dashicons-no"></span></a>\n                </td>\n            </tr>\n        ');i.push(s),n.replaceWith(p),e.data("exclude",i),e.find(".wc-product-search").data("exclude",i)}else n.remove(),it(o,a)}function at(){var t=jQuery(this).closest("tr"),n=t.closest("table"),e=n.find("tbody"),o=t.find("td").length;t.remove();var a=t.find("td.product").data("product"),i=n.data("exclude"),s=i.indexOf(parseInt(a.product_id));-1!==s&&i.splice(s,1),n.data("exclude",i),n.find(".wc-product-search").data("exclude",i),it(e,o),c(!0)}function it(t,n){void 0===n&&(n=3),t.find("tr").length>0||t.append('\n        <tr class="no-result">\n            <td colspan="'.concat(n,'">').concat(acfw_edit_coupon.no_products_added,"</td>\n        </tr>\n    "))}function st(t,n){void 0===t&&(t=[]),void 0===n&&(n=!1);var e="",o="";if("object"==typeof n){var c=n.product_id,a=n.product_label;e='<option value="'.concat(c,'">').concat(a,"</option>"),o=n.condition}var i=G.add,s=G.edit,d=G.cancel,r=X.exactly,u=X.anyexcept,p=X.morethan,f=X.lessthan,_=tt.type_to_search,v="object"==typeof n?s:i;return'\n        <tr class="add-edit-form adding">\n            <td class="product" data-product="'.concat("object"==typeof n?l(JSON.stringify(n)):0,'">\n                <div class="object-search-wrap">\n                    <select class="product-in-cart wc-product-search"\n                        data-placeholder="').concat(_,'"\n                        data-action="acfw_search_products"\n                        data-exclude="').concat(l(JSON.stringify(t)),'">').concat(e,'</select>\n                </div>\n            </td>\n            <td class="condition">\n                <select class="condition-select">\n                    <option value="=" ').concat("="==o?"selected":"",">").concat(r,'</option>\n                    <option value="!=" ').concat("!="==o?"selected":"",">").concat(u,'</option>\n                    <option value=">" ').concat(">"==o?"selected":"",">").concat(p,'</option>\n                    <option value="<" ').concat("<"==o?"selected":"",">").concat(f,'</option>\n                </select>\n            </td>\n            <td class="quantity">\n                <input type="number" class="condition-quantity" value="').concat("object"==typeof n?n.quantity:1,'" min="').concat("<"==o?1:0,'">\n            </td>\n            <td class="actions">\n                <button type="button" class="condition-product-add button-primary">').concat(v,'</button>\n                <button type="button" class="cancel button">').concat(d,"</button>\n            </td>\n        </tr>\n        ")}var dt=jQuery;function lt(){var t=dt(this),n=parseInt(t.attr("min"));parseFloat(t.val()+"")<n&&t.val(n)}function rt(){var t=dt(this),n=t.closest(".condition-field,.condition-set"),e=n.data("type"),o="product-quantity"==e||"has-ordered-before"==e||"product-category"==e?"input.condition-quantity":"input.condition-value",c=n.find(o),a=u(t.val()+"");c.attr("min",a).trigger("change")}function ut(){var t=acfw_edit_coupon.within_a_period_label,n=acfw_edit_coupon.number_of_orders_label,e=dt(this),o=e.closest(".cart-quantity-field").find(".condition-type-value label");"within-a-period"==e.val()?o.text(t):o.text(n)}function pt(){var t=dt(this),n=t.closest(".condition-field").find("select.condition-select"),e=n.val()+"",o=t.val()+"",c=u(e);"."!==acfw_edit_coupon.decimal_separator&&(o=o.replace(acfw_edit_coupon.decimal_separator,".")),!n||parseFloat(o)>c-1||t.val(c)}function ft(){var t=dt(this),n=t.val();n=="0"+acfw_edit_coupon.decimal_separator&&t.val("0"),"0"!=n&&n.substring(0,2)!="0"+acfw_edit_coupon.decimal_separator&&(n=(n=n.replace(/^0+/,"")).substring(0,1)==acfw_edit_coupon.decimal_separator?"0"+n:n,t.val(n))}function _t(){var t=dt(this),n=t.closest(".condition-field"),e=n.find("select.condition-select"),o=n.find("input.condition-value");switch(t.val()){case"string":o.prop("type","text"),o.removeClass("wc_input_price"),">"!=e.val()&&"<"!=e.val()||e.val("="),e.find("option[value='>'],option[value='<']").prop("disabled",!0);break;case"number":o.prop("type","number"),o.removeClass("wc_input_price"),e.find("option[value='>'],option[value='<']").prop("disabled",!1);break;case"price":o.prop("type","text"),o.addClass("wc_input_price"),e.find("option[value='>'],option[value='<']").prop("disabled",!1)}e.trigger("change")}var vt=function(t,n){var e=acfw_edit_coupon.cart_condition_premium_notice;if(!e)return{};for(var o={},c=0,a=Object.entries(n);c<a.length;c++){var i=a[c],s=(i[0],i[1]);if("group_logic"!==s.type)for(var d=function(n,c){var a=Object.entries(t).find((function(t){t[0];return t[1].key===c.type}));if(a){var i=a[0],s=a[1],d=e.label_premium;s.title.includes(d)&&(o[i]=s)}},l=0,r=Object.entries(s.fields);l<r.length;l++){var u=r[l];u[0];d(0,u[1])}}return o},ht=function(t,n){var e=acfw_edit_coupon.cart_condition_premium_notice,o=[],c="";c='<div class="condition-notice">',c+='<a id="remove-all-premium-condition" href="javascript:void(0);" onclick="acfw_edit_coupon_triggers.remove_all_premium_condition()"><i class="dashicons dashicons-trash"></i></a>',c+='<img src="'.concat(e.logo_img,'">');var a=e.label_premium;return Object.keys(n).map((function(t){var e=n[t];o.push("<b>".concat(e.title.replace(" (".concat(a,")"),""),"</b>"))})),e.label.map((function(t){t=o.length&&t.includes("{{premium}}")?t.replace("{{premium}}",o.join(", ")):t,c+="<p>".concat(t,"</p>")})),c+='<div class="action-wrap">',e.actions.map((function(t){var n=t.url.includes("action=")?"":"target='_blank'";c+='<a href="'.concat(t.url,'" ').concat(n,' class="action-button primary">').concat(t.label,"</a>")})),c+="</div>",c+="</div>"};function gt(t){var n=acfw_edit_coupon.cart_condition_fields,e="";if(t.length){var o=vt(n,t);Object.keys(o).length&&(e+=ht(n,o),window.acfw_edit_coupon_triggers=window.acfw_edit_coupon_triggers||{},window.acfw_edit_coupon_triggers.remove_all_premium_condition=function(){jQuery(".condition-field-premium .remove-condition-field").each((function(){jQuery(this).trigger("click")})),jQuery(".condition-notice").remove(),jQuery(".empty-conditions").each((function(){jQuery(this).closest(".condition-group").find(".remove-condition-group").trigger("click")}))})}return e}var mt=jQuery;function yt(){var t=mt(this),n=t.closest(".woocommerce").find("#acfw_cart_conditions"),e=t.data("tab");n.find(".panel").hide(),n.find('.panel[data-tab="'.concat(e,'"]')).show(),function(t){mt(".acfw-cart-condition-tabs li").removeClass("active"),t.closest("li").addClass("active")}(t)}var bt=function(t,n,e,o){return new(e||(e=Promise))((function(c,a){function i(t){try{d(o.next(t))}catch(t){a(t)}}function s(t){try{d(o.throw(t))}catch(t){a(t)}}function d(t){var n;t.done?c(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(i,s)}d((o=o.apply(t,n||[])).next())}))},wt=function(t,n){var e,o,c,a,i={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(d){return function(s){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(e=1,o&&(c=2&s[0]?o.return:s[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,s[1])).done)return c;switch(o=0,c&&(s=[2&s[0],c.value]),s[0]){case 0:case 1:c=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(c=i.trys,(c=c.length>0&&c[c.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!c||s[1]>c[0]&&s[1]<c[3])){i.label=s[1];break}if(6===s[0]&&i.label<c[1]){i.label=c[1],c=s;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(s);break}c[2]&&i.ops.pop(),i.trys.pop();continue}s=n.call(t,i)}catch(t){s=[6,t],o=0}finally{e=c=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,d])}}},xt=jQuery,kt=document.querySelector("#acfw_cart_conditions");function qt(){var t=this,n=kt.querySelector(".condition-groups"),e=xt(kt).data("cart_conditions");bt(t,void 0,void 0,(function(){var t,o,c,a,i;return wt(this,(function(s){if(t="",t+=gt(e),e.length)for(o=0,c=e;o<c.length;o++)"group"==(a=c[o]).type?(i=jt(a.fields),t+=m(i)):t+=g(a.value);else t=m();return xt(n).html(t),xt(n).find("input,select").trigger("change"),xt(n).find(".condition-group.new .add-condition-trigger").trigger("click"),xt(n).find(".condition-group").removeClass("new"),[2]}))})).then((function(){setTimeout((function(){return xt("body").trigger("wc-enhanced-select-init")}),1500),c(!1)}))}function jt(t){for(var n="",e="",o=!0,c=0,a=t;c<a.length;c++){var i=a[c],s=i.type,d=i.data;if(P(s))if("logic"!=s){var l=z(s,d);l?(n+=e+l,o=!0):o=!1,e=""}else e=o?x(d):"";else o=!1}return n}function Ft(){var t=acfw_edit_coupon.upsell;return t?'\n  <div class="upsell">\n    '.concat(t.bogo_deals_type,"\n  </div>"):""}function Ct(t,n){void 0===n&&(n=!1);var e=t.products,o=t.quantity,c=t.discount_type,a=t.discount_value,i=acfw_edit_coupon.bogo_form_fields,s=acfw_edit_coupon.bogo_instructions,d=i.quantity,r=i.products,u=i.price_discount,p=i.type_to_search,f=c?t.discount_type:"override",_=n?function(t,n){void 0===n&&(n="0");var e=acfw_edit_coupon.currency_symbol,o=acfw_edit_coupon.discount_field_options,c=o.override,a=o.percent,i=o.fixed;return'\n    <td class="price">\n        <div>\n        <select class="discount_type">\n            <option value="override" '.concat("override"==t?"selected":"",">").concat(e," : ").concat(c,'</option>\n            <option value="percent" ').concat("percent"==t?"selected":"",">% : ").concat(a,'</option>\n            <option value="fixed" ').concat("fixed"==t?"selected":"",">-").concat(e," : ").concat(i,'</option>\n        </select>\n        <input type="text" class="discount_value short wc_input_price" value="').concat(n,'">\n        </div>\n    </td>\n    ')}(f,a):"",v=n?'<th class="price">'.concat(u,"</th>"):"",h=function(t){if("object"!=typeof t||!t.length)return"";for(var n="",e=0,o=t;e<o.length;e++){var c=o[e];n+='<option value="'.concat(c.product_id,'" selected>').concat(c.label,"</option>")}return n}(e),g=n?"".concat(s.combination_get," ").concat(s.combination_get_2):s.combination_buy;return'\n      <p class="instructions">'.concat(g,'</p>\n      <table class="acfw-styled-table combined-objects-form" \n          data-combined="').concat(l(JSON.stringify(t)),'"\n          data-isdeals="').concat(n,'"\n          data-type="product">\n          <thead>\n              <tr>\n                  <th class="objects-list">').concat(r,'</th>\n                  <th class="quantity">').concat(d,"</th>\n                  ").concat(v,'\n              </tr>\n          </thead>\n          <tbody>\n              <tr>\n                  <td class="objects-list object">\n                      <select class="combined-products-list wc-product-search"\n                      data-placeholder="').concat(p,'"\n                      data-action="acfw_search_products"\n                      data-exclude="" multiple>').concat(h,'</select>\n                  </td>\n                  <td class="quantity">\n                      <input type="number" class="condition-quantity" value="').concat(o,'" min="1">\n                  </td>\n                  ').concat(_,"\n              </tr>\n          </tbody>\n      </table>\n      ").concat(Ft(),"\n    ")}function St(t,n){void 0===n&&(n=!1);var e=t.categories,o=t.quantity,c=t.discount_type,a=t.discount_value,i=acfw_edit_coupon.bogo_form_fields,s=acfw_edit_coupon.bogo_instructions,d=i.quantity,r=i.categories,u=i.price_discount,p=i.type_to_search,f=c?t.discount_type:"override",_=n?function(t,n){void 0===n&&(n="0");var e=acfw_edit_coupon.currency_symbol,o=acfw_edit_coupon.discount_field_options,c=o.override,a=o.percent,i=o.fixed;return'\n    <td class="price">\n        <div>\n        <select class="discount_type">\n            <option value="override" '.concat("override"==t?"selected":"",">").concat(e," : ").concat(c,'</option>\n            <option value="percent" ').concat("percent"==t?"selected":"",">% : ").concat(a,'</option>\n            <option value="fixed" ').concat("fixed"==t?"selected":"",">-").concat(e," : ").concat(i,'</option>\n        </select>\n        <input type="text" class="discount_value short wc_input_price" value="').concat(n,'">\n        </div>\n    </td>\n    ')}(f,a):"",v=n?'<th class="price">'.concat(u,"</th>"):"",h=function(t){if("object"!=typeof t||!t.length)return"";for(var n="",e=0,o=t;e<o.length;e++){var c=o[e];n+='<option value="'.concat(c.category_id,'" selected>').concat(c.label,"</option>")}return n}(e),g=n?"".concat(s.categories_get):s.categories_buy;return'\n      <p class="instructions">'.concat(g,'</p>\n      <table class="acfw-styled-table combined-objects-form" \n          data-combined="').concat(l(JSON.stringify(t)),'"\n          data-isdeals="').concat(n,'"\n          data-type="category">\n          <thead>\n              <tr>\n                  <th class="objects-list">').concat(r,'</th>\n                  <th class="quantity">').concat(d,"</th>\n                  ").concat(v,'\n              </tr>\n          </thead>\n          <tbody>\n              <tr>\n                  <td class="objects-list object">\n                      <select class="product-categories-list wc-product-search"\n                      data-placeholder="').concat(p,'"\n                      data-action="acfw_search_product_category"\n                      data-exclude="" multiple>').concat(h,'</select>\n                  </td>\n                  <td class="quantity">\n                      <input type="number" class="condition-quantity" value="').concat(o,'" min="1">\n                  </td>\n                  ').concat(_,"\n              </tr>\n          </tbody>\n      </table>\n      ").concat(Ft(),"\n    ")}function Dt(t){var n=t.product_id,e=t.product_label;return'\n    <td class="product product-'.concat(n,' object" data-product="').concat(l(JSON.stringify(t)),'">\n        ').concat(e,"\n    </td>\n    ")}function Ot(t,n){void 0===t&&(t=3),void 0===n&&(n="product");var e=acfw_edit_coupon.no_products_added,o=acfw_edit_coupon.no_categories_added;return'\n    <tr class="no-result">\n        <td colspan="'.concat(t,'">').concat("category"==n?o:e,"</td>\n    </tr>\n    ")}function Qt(t,n){return void 0===t&&(t="override"),void 0===n&&(n="0"),'<td class="price">\n    ('.concat(t,") ").concat(n,"\n  </td>")}function Nt(t,n){return void 0===n&&(n=!1),n?function(t){var n=t.quantity,e=t.discount_type,o=t.discount_value,c=acfw_edit_coupon.currency_symbol,a=acfw_edit_coupon.discount_field_options,i=acfw_edit_coupon.bogo_form_fields,s=acfw_edit_coupon.bogo_instructions,d=a.override,r=a.percent,u=a.fixed,p=i.quantity,f=i.price_discount,_=i.discount_type,v=e?t.discount_type:"override";return'\n    <p class="instructions">'.concat(s.anyproducts_get,'</p>\n    <table class="acfw-styled-table any-products-apply-form any-products-form" data-anyproducts="').concat(l(JSON.stringify(t)),'">\n      <thead>\n        <tr>\n          <th class="quantity">').concat(p,'</th>\n          <th class="type">').concat(_,'</th>\n          <th class="price">').concat(f,'</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td class="quantity object">\n            <input type="number" class="condition-quantity" value="').concat(null!=n?n:"1",'" min="1">\n          </td>\n          <td class="type">\n            <select class="discount_type">\n              <option value="override" ').concat("override"==v?"selected":"",">").concat(c," : ").concat(d,'</option>\n              <option value="percent" ').concat("percent"==v?"selected":"",">% : ").concat(r,'</option>\n              <option value="fixed" ').concat("fixed"==v?"selected":"",">-").concat(c," : ").concat(u,'</option>\n            </select>\n          </td>\n          <td class="price">\n            <input type="text" class="discount_value short wc_input_price" value="').concat(null!=o?o:"0",'">\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    ').concat(Ft(),"\n  ")}(t):function(t){var n=t.quantity,e=acfw_edit_coupon.bogo_instructions,o=acfw_edit_coupon.bogo_form_fields;return'\n    <p class="instructions">'.concat(e.anyproducts_buy,'</p>\n    <div class="any-products-trigger-form any-products-form" data-anyproducts="').concat(l(JSON.stringify(t)),'">\n      <div class="trigger-field-row trigger-quantity-field-row">\n        <label for="any_products_trigger_qty">').concat(o.trigger_quantity,'</label>\n        <input type="number" id="any_products_trigger_qty" class="condition-quantity" value="').concat(null!=n?n:"1",'" min="1" />\n      </div>\n    </div>\n    ').concat(Ft(),"\n  ")}(t)}var It=jQuery,Lt=document.querySelector("#acfw_bogo_deals");function Mt(t){It(Lt).data("editing",t),It(Lt).find("#save-bogo-deals").prop("disabled",!t)}function At(t){var n=It(this),e=n.data("block"),o=Lt.querySelector(".bogo-conditions-block"),c=Lt.querySelector(".bogo-product-deals-block"),a=It(Lt).data("bogo_deals"),i=a.conditions?a.conditions:null,s=a.deals?a.deals:null,d="conditions"==e?a.conditions_type:a.deals_type,r=null;r="conditions"===e?a.conditions_type==n.val()?i:r:a.deals_type==n.val()?s:r;var u,p,f="deals"==e,_=!1;switch(n.val()){case"combination-products":u=Ct(null!=r?r:{},f),_=!0;break;case"product-categories":u=St(null!=r?r:[],f),_=!0;break;case"any-products":u=Nt(null!=r?r:{},f),_=!0;break;default:u=function(t,n,e){void 0===e&&(e=!1);var o=acfw_edit_coupon.add_product_label,c=acfw_edit_coupon.bogo_form_fields,a=acfw_edit_coupon.bogo_instructions,i=c.quantity,s=c.product,d=e?"".concat(a.specific_get):a.specific_buy,r=e?4:3,u=e?'<th class="price">Price/Discount</th>':"",p="",f=[];if(t.length>=1&&"specific-products"==n)for(var _=0,v=t;_<v.length;_++){var h=v[_],g=h.quantity,m=h.discount_type,y=h.discount_value,b=e?Qt(m,y):"";f.push(h.product_id),p+="\n        <tr>\n          ".concat(Dt(h),'\n          <td class="quantity">').concat(g,"</td>\n          ").concat(b,'\n          <td class="actions">\n            <a class="edit" href="javascript:void(0)"><span class="dashicons dashicons-edit"></span></a>\n            <a class="remove" href="javascript:void(0)"><span class="dashicons dashicons-no"></span></a>\n          </td>\n        </tr>\n      ')}else p=Ot(r);return'\n    <p class="instructions">'.concat(d,'</p>\n    <table class="product-quantity-condition-table acfw-styled-table" \n      data-type="product" data-exclude="').concat(l(JSON.stringify(f)),'" \n      data-isdeals="').concat(e,'">\n      <thead>\n        <tr>\n          <th class="product">').concat(s,'</th>\n          <th class="quantity">').concat(i,"</th>\n          ").concat(u,'\n          <th class="actions"></th>\n        </tr>\n      </thead>\n      <tbody>').concat(p,'</tbody>\n      <tfoot>\n        <tr>\n          <td colspan="').concat(r,'">\n            <a class="add-table-row" href="javascript:void(0);">\n              <i class="dashicons dashicons-plus"></i>\n              ').concat(o,"\n            </a>\n          </td>\n        </tr>\n      </tfoot>\n    </table>\n  ")}(null!=r?r:{},d,f),_=!1}if("conditions"==e)It(o).html(u).find("input.condition-quantity").trigger("change"===t.type?"change":"acfw_fetch_data"),p=o;else{var v=It(Lt).find(".multiple-items-desc");"specific-products"!==n.val()?v.show():v.hide(),It(c).html(u).find("input.condition-quantity").trigger("change"===t.type?"change":"acfw_fetch_data"),p=c}_&&void 0!==acfw_edit_coupon.upsell?It(p).addClass("premium-only"):It(p).removeClass("premium-only"),It("body").trigger("wc-enhanced-select-init"),It("body").trigger("init_tooltips")}function Et(){var t=It(this),n=t.closest("#acfw_bogo_deals");"repeat"===t.val()?(n.find(".repeat-limit-field-wrap").addClass("show"),n.find("#bogo-repeat-limit").prop("disabled",!1)):(n.find(".repeat-limit-field-wrap").removeClass("show"),n.find("#bogo-repeat-limit").prop("disabled",!0))}var Jt=function(){return Jt=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var c in n=arguments[e])Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c]);return t},Jt.apply(this,arguments)},Ht=jQuery,zt=document.querySelector("#acfw_bogo_deals"),Pt=woocommerce_admin_meta_boxes.post_id;function Tt(){var t,n;Ht("#acfw_bogo_deals").find(".acfw-styled-table tr.add-edit-form button.cancel").trigger("click");var e=acfw_edit_coupon.post_status,o=acfw_edit_coupon.upsell,c=zt.querySelectorAll(".bogo-conditions-block table.acfw-styled-table tbody td.object,.bogo-conditions-block .any-products-trigger-form"),a=zt.querySelectorAll(".bogo-product-deals-block table.acfw-styled-table tbody td.object"),i=zt.querySelector(".acfw-overlay"),s=zt.querySelector("input[name='bogo_type']:checked"),l=Ht(zt).find("#bogo-condition-type").val(),r=Ht(zt).find("#bogo-deals-type").val(),u=parseInt(Ht(zt).find("#bogo-repeat-limit").val()),p=Ht(zt).find(".notice-option"),f=Vt(c,l),_=Vt(a,r),v=s?s.value:null,g=!1,m=!1;if("any-products"===l&&(g=(null==f?void 0:f.quantity)<1),"any-products"===r&&(m=!(null==_?void 0:_.discount_type)||!(null==_?void 0:_.discount_value)||(null==_?void 0:_.quantity)<1),"combination-products"===l&&(g=!(null===(t=null==f?void 0:f.products)||void 0===t?void 0:t.length)||(null==f?void 0:f.quantity)<1),"combination-products"===r&&(m=!(null===(n=null==_?void 0:_.products)||void 0===n?void 0:n.length)||!(null==_?void 0:_.discount_type)||!(null==_?void 0:_.discount_value)||(null==_?void 0:_.quantity)<1),(null==f?void 0:f.length)<1||(null==_?void 0:_.length)<1||!v||g||m)return vex.dialog.alert(acfw_edit_coupon.bogo_deals_save_error_msg),void Ht(zt).addClass("save-error");if(void 0!==o&&("specific-products"!==l||"specific-products"!==r))return vex.dialog.alert(acfw_edit_coupon.bogo_deals_save_error_msg),void Ht(zt).addClass("save-error");if(["any-products","combination-products"].includes(r)&&!h(null==_?void 0:_.discount_type,null==_?void 0:_.discount_value))return vex.dialog.alert(acfw_edit_coupon.discount_type_value_error_msg),void Ht(zt).addClass("save-error");var y={message:p.find("textarea[name='acfw_bogo_notice_message_text']").val(),button_text:p.find("input[name='acfw_bogo_notice_button_text']").val(),button_url:p.find("input[name='acfw_bogo_notice_button_url']").val(),notice_type:p.find("select[name='acfw_bogo_notice_type']").val()};d(i,"show"),Ht(zt).trigger("save_bogo_deals");var b={conditions:f,deals:_,conditions_type:l,deals_type:r,repeat_limit:u,type:v,notice_settings:y,nonce:Ht(zt).data("nonce")};Ht.post(ajaxurl,Jt({action:"acfw_save_bogo_deals",coupon_id:Pt},b),(function(t){"success"==t.status?(Ht(zt).data("bogo_deals",b),"publish"!==e&&(Ht("input[name='post_title']").val()||Ht("input[name='post_title']").val("coupon-"+Pt),Ht("select[name='post_status']").append(new Option("Published","publish")).val("publish"),Ht("#publishing-action").append('\n                    <input type="hidden" name="publish" value="Publish">\n                '),Ht("input#publish").click())):t.error_msg&&vex.dialog.alert(t.error_msg),Ht(zt).find("#clear-bogo-deals").prop("disabled",!1),Mt(!1),d(i,"hide")}),"json")}function Vt(t,n){var e,o=[];switch(n){case"any-products":o=Ht(t).closest(".any-products-form").data("anyproducts");break;case"combination-products":case"product-categories":o=Ht(t).closest("table.combined-objects-form").data("combined");break;default:t.forEach((function(t){(e=jQuery(t).data("product"))&&o.push(e)}))}return o}function Wt(){var t=Ht(this);if(confirm(t.data("prompt"))){var n=zt.querySelector(".bogo-conditions-block table.acfw-styled-table tbody"),e=zt.querySelector(".bogo-product-deals-block table.acfw-styled-table tbody"),o=zt.querySelector(".acfw-overlay"),c=zt.querySelector("input[name='bogo_type']:checked");d(o,"show"),Ht.post(ajaxurl,{action:"acfw_clear_bogo_deals",coupon_id:Pt,_wpnonce:t.data("nonce")},(function(a){"success"==a.status?(Ht(n).html(Ot(3)),Ht(e).html(Ot(4)),Ht(c).prop("checked",!1),t.prop("disabled",!0),Mt(!1),"Published"!=Ht("#post-status-display").text()&&(Ht("input[name='post_title']").val()||Ht("input[name='post_title']").val("coupon-"+Pt),Ht("input#publish").click())):a.error_msg&&vex.dialog.alert(a.error_msg),d(o,"hide")}),"json")}}function Yt(){var t,n,e=Ht(this).closest("table.combined-objects-form"),o=e.data("combined"),c=e.find(".wc-product-search option:selected"),a=parseInt(e.find("input.condition-quantity").val()+""),i=e.data("type").toString(),s="category"===i?{categories:[],quantity:a}:{products:[],quantity:a};if(e.data("isdeals")){var d=e.find("select.discount_type"),l=e.find("input.discount_value"),r=parseFloat(l.val());if(r<0||isNaN(r))return l.val(o?o.discount_value:""),void vex.dialog.alert(acfw_edit_coupon.fill_form_propery_error_msg);s.discount_type=d.val(),s.discount_value=l.val()}for(n=0;n<c.length;n++)t=Ht(c[n]),"category"===i?s.categories.push({category_id:t.val(),label:t.text()}):s.products.push({product_id:t.val(),label:t.text()});e.data("combined",s),Mt(!0)}function Bt(t){Ht(zt).data("editing")&&(t.preventDefault(),Ht(zt).find("#save-bogo-deals").trigger("click"),setTimeout((function(){Ht(zt).hasClass("save-error")?Ht(zt).removeClass("save-error"):Ht("form#post").submit()}),1e3))}function Zt(t){var n=Ht(this).closest(".any-products-trigger-form"),e=parseInt(n.find("input#any_products_trigger_qty").val()),o={quantity:e&&!isNaN(e)?e:0};n.data("anyproducts",o),"change"===t.type&&Mt(!0)}function Ut(t){var n=Ht(this).closest(".any-products-apply-form"),e=parseInt(n.find("input.condition-quantity").val()),o=n.find("select.discount_type").val().toString(),c=n.find("input.discount_value").val().toString(),a={quantity:e&&!isNaN(e)?e:0,discount_type:null!=o?o:"",discount_value:null!=c?c:""};n.data("anyproducts",a),"change"===t.type&&Mt(!0)}function Rt(t,n,e,o){void 0===o&&(o=!1);var c=acfw_edit_coupon.bogo_form_fields.type_to_search,a=acfw_edit_coupon.product_table_buttons,i=a.add,s=a.edit,d=a.cancel,r=o.quantity,u="object"==typeof o?function(t,n){var e=n.category_id,o=n.product_id,c=n.category_label,a=n.product_label,i="category"==t?e:o,s="category"==t?c:a;return'<option value="'.concat(i,'">').concat(s,"</option>")}(t,o):"",p=e?function(t){var n=acfw_edit_coupon.currency_symbol,e=acfw_edit_coupon.discount_field_options,o=e.override,c=e.percent,a=e.fixed,i=t.discount_type,s=t.discount_value,d="object"==typeof t&&s?s:"0";return'\n    <td class="price">\n        <div>\n        <select class="discount_type">\n            <option value="override" '.concat("override"==i?"selected":"",">").concat(n," : ").concat(o,'</option>\n            <option value="percent" ').concat("percent"==i?"selected":"",">% : ").concat(c,'</option>\n            <option value="fixed" ').concat("fixed"==i?"selected":"",">-").concat(n," : ").concat(a,'</option>\n        </select>\n        <input type="text" class="discount_value short wc_input_price" value="').concat(d,'">\n        </div>\n    </td>\n    ')}(o):"",f="object"==typeof o?s:i;return'\n    <tr class="add-edit-form adding">\n        <td class="product" data-object="'.concat("object"==typeof o?l(JSON.stringify(o)):0,'">\n            <div class="object-search-wrap">\n                <select class="').concat("category"==t?"product-category-in-cart":"product-in-cart",' wc-product-search"\n                    data-placeholder="').concat(c,'"\n                    data-action="').concat("category"==t?"acfw_search_product_category":"acfw_search_products",'"\n                    data-exclude="').concat(l(JSON.stringify(n)),'">').concat(u,'</select>\n            </div>\n        </td>\n        <td class="quantity">\n            <input type="number" class="condition-quantity" value="').concat("object"==typeof o?r:1,'" min="1">\n        </td>\n        ').concat(p,'\n        <td class="actions">\n            <button type="button" class="condition-product-add button-primary">').concat(f,'</button>\n            <button type="button" class="cancel button">').concat(d,"</button>\n        </td>\n    </tr>\n    ")}function $t(t,n,e){var o=t.quantity,c=t.discount_type,a=t.discount_value,i=e?'<td class="price">('.concat(c,") ").concat(a,"</td>"):"";return"\n    <tr>\n      ".concat(function(t,n){switch(n){case"category":return function(t){var n=t.category_id,e=t.category_label;return'\n    <td class="category category-'.concat(n,' object" data-category="').concat(l(JSON.stringify(t)),'">\n        ').concat(e,"\n    </td>\n    ")}(t);case"product":return Dt(t)}return""}(t,n),'\n      <td class="quantity">').concat(o,"</td>\n      ").concat(i,'\n      <td class="actions">\n        <a class="edit" href="javascript:void(0)"><span class="dashicons dashicons-edit"></span></a>\n        <a class="remove" href="javascript:void(0)"><span class="dashicons dashicons-no"></span></a>\n      </td>\n    </tr>')}var Kt=jQuery;acfw_edit_coupon.bogo_form_fields;function Gt(){var t=Kt(this).closest(".acfw-styled-table"),n=t.find("tbody"),e=t.data("isdeals"),o=t.data("type"),c=t.data("exclude");n.find("tr.no-result").remove(),n.append(Rt(o,c,e)),Kt("body").trigger("wc-enhanced-select-init"),n.find("tr.add-edit-form select.enhanced").trigger("focus")}function Xt(){var t=jQuery(this),n=t.closest("tr"),e=t.closest(".acfw-styled-table"),o=e.find("tbody"),c=e.data("isdeals"),a=e.data("type"),i=n.find(".object").data(a),s=i.category_id,d=i.product_id,l=e.data("exclude"),r="category"==a?s:d;l.splice(l.indexOf(r),1),o.find("tr.no-result").remove(),n.replaceWith(Rt(a,l,c,i)),e.data("exclude",l),e.find(".wc-product-search").data("exclude",l),Kt("body").trigger("wc-enhanced-select-init")}function tn(){var t=Kt(this),n=t.closest("tr"),e=t.closest("table"),o=n.closest("tbody"),c=e.data("isdeals"),a=n.find("td").length,i=e.data("type"),s=n.find("td.product").data("object"),d=s.category_id,l=s.product_id,r=e.data("exclude"),u="category"==i?d:l;r.includes(u)?vex.dialog.alert(acfw_edit_coupon.product_exists_in_table):"object"==typeof s?(r.push(u),n.replaceWith($t(s,i,c)),e.data("exclude",r),e.find(".wc-product-search").data("exclude",r)):(n.remove(),o.find("tr").length<=0&&o.append(Ot(a,i)))}function nn(){var t=Kt(this),n=t.closest("tr"),e=t.closest("table.acfw-styled-table"),o=e.data("isdeals"),c=e.data("type"),a=n.find(".wc-product-search"),i=n.find(".condition-quantity"),s=e.data("exclude");if(!a.val()||!i.val()||i.val()<1)vex.dialog.alert(acfw_edit_coupon.fill_form_propery_error_msg);else if(s.includes(parseInt(a.val())))vex.dialog.alert(acfw_edit_coupon.product_exists_in_table);else{if(o){var d=n.find("input.discount_value").val();if(!h(n.find("select.discount_type").val(),d))return void vex.dialog.alert(acfw_edit_coupon.discount_type_value_error_msg);if(v(d)<0||isNaN(v(d)))return void vex.dialog.alert(acfw_edit_coupon.fill_form_propery_error_msg)}var l=function(t,n,e){var o={};o="category"==n?{category_id:parseInt(t.find(".wc-product-search").val()+""),quantity:parseInt(t.find(".condition-quantity").val()+""),category_label:t.find(".wc-product-search option:selected").text()}:{product_id:parseInt(t.find(".wc-product-search").val()+""),quantity:parseInt(t.find(".condition-quantity").val()+""),product_label:t.find(".wc-product-search option:selected").text()};e&&(o.discount_type=t.find("select.discount_type").val(),o.discount_value=t.find("input.discount_value").val());return o}(n,c,o),r=l.category_id,u=l.product_id;s.push("category"==c?r:u),n.replaceWith($t(l,c,o)),e.data("exclude",s),e.find(".wc-product-search").data("exclude",s),Mt(!0)}}function en(){var t,n=Kt(this).closest("tr"),e=n.closest("table"),o=n.closest("tbody"),c=n.find("td").length,a=e.data("type"),i=n.find("td.object").data(a),s=e.data("exclude");if("category"===a)t=s.indexOf(parseInt(i.category_id));else t=s.indexOf(parseInt(i.product_id));-1!==t&&s.splice(t,1),e.data("exclude",s),e.find(".wc-product-search").data("exclude",s),n.remove(),o.find("tr").length<=0&&o.append(Ot(c,a)),Mt(!0)}var on=function(){return on=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var c in n=arguments[e])Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c]);return t},on.apply(this,arguments)},cn=jQuery,an=document.querySelector("#acfw_bogo_deals");function sn(){var t=cn(this),n=t.closest("#general_coupon_data"),e=n.find("p.form-field input");if("acfw_bogo"===t.val()){n.addClass("acfw-bogo-type"),cn("#acfw_bogo_deals").show();for(var o=0;o<=e.length;o++)["expiry_date","_acfw_coupon_sort_priority","coupon_amount"].includes(cn(e[o]).prop("name"))||cn(e[o]).prop("disabled",!0)}else{n.removeClass("acfw-bogo-type"),cn("#acfw_bogo_deals").hide();for(o=0;o<=e.length;o++)["expiry_date","_acfw_coupon_sort_priority","coupon_amount"].includes(cn(e[o]).prop("name"))||cn(e[o]).prop("disabled",!1)}}function dn(){Mt(!0)}function ln(){var t=jQuery(this);t.val()<1&&t.val(1)}acfw_edit_coupon=on(on({},acfw_edit_coupon),{bogo_toggle_editing_mode:Mt});var rn=jQuery;function un(){var t=rn(this),n=t.closest(".toggle-enable-fields").find("select,textarea,input:not(.toggle-trigger-field)"),e=!t.prop("checked");n.prop("disabled",e),e?n.closest(".form-field").addClass("disabled"):n.closest(".form-field").removeClass("disabled")}var pn=jQuery;function fn(){var t=document.querySelector("#acfw_url_coupon");pn(t).on("click",".copy-coupon-url",_n),pn("input#_acfw_coupon_url").after('<button type="button" class="copy-coupon-url" data-clipboard-target="#_acfw_coupon_url">\n    <svg width="15" height="15" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 460 460" style="enable-background:new 0 0 460 460;" xml:space="preserve">\n      <g>\n        <path d="M425.934,0H171.662c-18.122,0-32.864,14.743-32.864,32.864v77.134h30V32.864c0-1.579,1.285-2.864,2.864-2.864h254.272\n          c1.579,0,2.864,1.285,2.864,2.864v254.272c0,1.58-1.285,2.865-2.864,2.865h-74.729v30h74.729\n          c18.121,0,32.864-14.743,32.864-32.865V32.864C458.797,14.743,444.055,0,425.934,0z"/>\n        <path d="M288.339,139.998H34.068c-18.122,0-32.865,14.743-32.865,32.865v254.272C1.204,445.257,15.946,460,34.068,460h254.272\n          c18.122,0,32.865-14.743,32.865-32.864V172.863C321.206,154.741,306.461,139.998,288.339,139.998z M288.341,430H34.068\n          c-1.58,0-2.865-1.285-2.865-2.864V172.863c0-1.58,1.285-2.865,2.865-2.865h254.272c1.58,0,2.865,1.285,2.865,2.865v254.273h0.001\n          C291.206,428.715,289.92,430,288.341,430z"/>\n      </g>\n    </svg>\n    </button>'),new ClipboardJS(".copy-coupon-url")}function _n(){pn(this).after('<span class="coupon-url-copied">'.concat(acfw_edit_coupon.copied_label,"</span>")),setTimeout((function(){pn("span.coupon-url-copied").fadeOut(500)}),1e3)}var vn=jQuery;function hn(){var t=document.querySelector("#acfw_scheduler"),n=t.querySelector("#_acfw_schedule_start"),e=t.querySelector("#_acfw_schedule_expire"),o=document.querySelector("#general_coupon_data p.expiry_date_field");vn(t).on("change",".date-field,.date-hour,.date-minute",yn),vn(t).on("click",".clear-scheduler-fields",bn),vn(o).css("display","none"),vn(n).trigger("change acfw_load"),vn(e).trigger("change acfw_load"),vn(t).on("change acfw_load",".acfw-section-toggle input",wn),vn(t).find(".acfw-section-toggle input").trigger("acfw_load"),vn(".wrap").on("submit","form#post",mn),function(){var t,n,e=document.querySelector("#_acfw_schedule_start"),o=document.querySelector("#_acfw_schedule_expire"),c=null!==(t=flatpickr.parseDate(o.value,"Y-m-d H:i:S"))&&void 0!==t?t:null,a=null!==(n=flatpickr.parseDate(e.value,"Y-m-d H:i:S"))&&void 0!==n?n:null;c&&c.setMinutes(c.getMinutes()-1);a&&a.setMinutes(a.getMinutes()+1);vn(e).flatpickr({allowInput:!0,enableTime:!0,altInput:!0,allowInvalidPreload:!0,altFormat:"Y-m-d h:i K",dateFormat:"Y-m-d H:i:S",maxDate:c,onChange:function(t,n,e){var c=t[0];c?(c.setMinutes(c.getMinutes()+1),o._flatpickr.set("minDate",c),gn()):o._flatpickr.set("minDate",null)}}),vn(o).flatpickr({allowInput:!0,enableTime:!0,altInput:!0,altFormat:"Y-m-d h:i K",dateFormat:"Y-m-d H:i:S",minDate:a,onChange:function(t,n,o){var c=t[0];c?(c.setMinutes(c.getMinutes()-1),e._flatpickr.set("maxDate",c),gn()):e._flatpickr.set("maxDate",null)}})}()}function gn(){flatpickr.parseDate(vn("#_acfw_schedule_start").val(),"Y-m-d H:i:S")>=flatpickr.parseDate(vn("#_acfw_schedule_expire").val(),"Y-m-d H:i:S")?(vn("#_acfw_schedule_start").parent().addClass("error"),vn("#_acfw_schedule_expire").parent().addClass("error")):(vn("#_acfw_schedule_start").parent().removeClass("error"),vn("#_acfw_schedule_expire").parent().removeClass("error"))}function mn(t){vn(".acfw-date-range-schedules-section span.date-time-field").hasClass("error")&&(t.preventDefault(),vex.dialog.alert({unsafeMessage:acfw_edit_coupon.invalid_scheduler_time}),vn("#publishing-action .spinner").removeClass("is-active"),vn("#publishing-action #publish").removeClass("disabled"))}function yn(){var t=vn(this).closest(".date-time-field").find(".date-field");t.val()?t.prop("required",!0):t.prop("required",!1)}function bn(){var t=document.querySelector("#acfw_scheduler"),n=t.querySelector("#_acfw_schedule_start"),e=t.querySelector("#_acfw_schedule_expire"),o=vn(this).siblings(".date-time-field");o.find("input").prop("required",!1).val(""),o.find("input")[0]._flatpickr.clear(),vn(n).trigger("change"),vn(e).trigger("change")}function wn(){var t=vn(this),n=t.closest(".acfw-scheduler-section").find(".options_group");t.is(":checked")?(n.removeClass("disabled"),n.find(".date-field,.days-time-field label input,textarea").prop("disabled",!1),vn("#acfw_scheduler .options_group input").trigger("acfw_load")):(n.addClass("disabled"),n.find(".date-field,.days-time-field label input,textarea").prop("disabled",!0)),n.find("input").trigger("change")}var xn=jQuery,kn=!1;function qn(){xn("#usage_limit_coupon_data").on("change","#reset_usage_limit_period",jn),xn("#usage_restriction_coupon_data .acfw_exclude_coupons_field,#usage_restriction_coupon_data .acfw_allowed_customers_field").on("click change focus","input,select",Fn),xn("#acfw-auto-apply-coupon").on("change","#acfw_auto_apply_coupon_field",Cn),xn("#acfw-virtual-coupon").on("change","#acfw_enable_virtual_coupons",Sn),xn("#acfw_cart_conditions").on("change",".condition-types",Dn),xn("#woocommerce-coupon-data").on("change acfw_load","#discount_type",On),xn("#woocommerce-coupon-data").on("change acfw_load","#discount_type",Nn),xn("#woocommerce-coupon-data").on("focusin","#discount_type",Qn),xn("#acfw_bogo_deals").on("change acfw_load","select#bogo-deals-type",In),xn("#acfw_bogo_deals").on("change","input[name='acfw_bogo_auto_add_products']",Ln),xn("#acfw_scheduler").on("change",".acfw-daytime-schedules-section .acfw-section-toggle input[type='checkbox']",Mn),xn("#woocommerce-coupon-data #discount_type").trigger("acfw_load"),xn("p.acfw_exclude_coupons_field").insertAfter("p.form-field.individual_use_field")}function jn(){var t=acfw_edit_coupon.upsell.usage_limits;vex.dialog.alert({unsafeMessage:'<div class="upsell-alert usage-limits">'.concat(t,"</div>")}),xn(this).val("none")}function Fn(){if(!kn){kn=!0;var t=acfw_edit_coupon.upsell.usage_restriction;vex.dialog.alert({unsafeMessage:'<div class="upsell-alert exclude-coupon">'.concat(t,"</div>"),afterClose:function(){return kn=!1}}),xn(this).val("").blur()}}function Cn(){var t=acfw_edit_coupon.upsell.auto_apply;vex.dialog.alert({unsafeMessage:'<div class="upsell-alert auto-apply">'.concat(t,"</div>")}),xn(this).prop("checked",!1)}function Sn(){var t=acfw_edit_coupon.upsell.virtual_coupons;vex.dialog.alert({unsafeMessage:'<div class="upsell-alert auto-apply">'.concat(t,"</div>")}),xn(this).prop("checked",!1)}function Dn(){var t=xn(this),n=t.closest("#acfw_cart_conditions"),e=t.closest(".add-condition-form"),o=n.data("premium-conditions"),c=n.find(".acfw-dyk-notice-holder"),a=e.find(".acfw-dyk-notice");a.length||(e.append(c.html()),a=e.find(".acfw-dyk-notice")),xn.inArray(t.val(),o)>=0?a.show():a.hide()}function On(){"acfw_bogo"===xn(this).val()?xn("p.acfw-dyk-notice-general").hide():xn("p.acfw-dyk-notice-general").show()}function Qn(){xn(this).data("cachedval",xn(this).val())}function Nn(){var t,n=xn(this).val(),e=acfw_edit_coupon.upsell.cashback_coupon;"acfw_percentage_cashback"!==n&&"acfw_fixed_cashback"!==n||(vex.dialog.alert({unsafeMessage:'<div class="upsell-alert usage-limits">'.concat(e,"</div>")}),xn(this).val(null!==(t=xn(this).data("cachedval"))&&void 0!==t?t:"percent"))}function In(){var t=xn(this),n=t.closest("#acfw_bogo_deals").find(".bogo-auto-add-products-field"),e=n.find("input[type='checkbox']");"specific-products"===t.val()?(e.prop("disabled",!1),n.addClass("show")):(e.prop("disabled",!1),n.removeClass("show"))}function Ln(){xn(this).prop("checked",!1);var t=acfw_edit_coupon.upsell.bogo_auto_add_get_products;vex.dialog.alert({unsafeMessage:'<div class="upsell-alert usage-limits">'.concat(t,"</div>")}),xn(this).val("none")}function Mn(){var t=xn(this),n=acfw_edit_coupon.upsell.day_time_schedules;vex.dialog.alert({unsafeMessage:'<div class="upsell-alert day-time-schedules">'.concat(n,"</div>")}),t.prop("checked",!1).trigger("acfw_load")}function An(t){var n,e,o,c,a=t.title,i=t.className,s=t.links;return acfw_edit_coupon.help_modal.is_premium&&(s=s.filter((function(t){return void 0===(null==t?void 0:t.freeOnly)||!(null==t?void 0:t.freeOnly)}))),'\n    <div class="links-list '.concat(i,'">\n      <h3>').concat(a,"</h3>\n\n      ").concat((null==t?void 0:t.search)?(n=null==t?void 0:t.search,e=n.slug,o=n.action,c=n.placeholder,'\n    <div class="search-widget search-'.concat(e,'">\n      <input class="search-input" type="text" placeholder="').concat(c,'" data-action="').concat(o,'" />\n      <button type="button" class="clear-search dashicons-before dashicons-no-alt"></button>\n      <div class="search-results"></div>\n    </div>\n  ')):"","\n\n      <ul>\n        ").concat(s.map((function(t){return"<li>".concat(function(t){var n=t.title,e=t.url,o=acfw_edit_coupon.help_modal.is_premium;return'<a href="'.concat(o&&(null==t?void 0:t.premiumUrl)?null==t?void 0:t.premiumUrl:e,'">').concat(n,"</a>")}(t),"</li>")})).join(""),"\n      </ul>\n    </div>\n  ")}function En(t){var n=acfw_edit_coupon.help_modal,e=n.labels,o=n.images_url,c=n.is_premium,a=t.target,i=t.left,s=i.title,d=i.content,l=i.videos,r=t.right,u=r.links,p=r.kbs,f=r.tutorials,_={slug:"kb-articles",action:"acfw_search_help_kb_articles",placeholder:e.search_placeholder},v=c?"acfwp":"acfwf",h="https://advancedcouponsplugin.com/pricing/?utm_source=acfwf&utm_medium=help_modal&utm_campaign=help_modal_".concat(a,"_upgrade_link"),g="https://advancedcouponsplugin.com/?utm_source=".concat(v,"&utm_medium=help_modal&utm_campaign=help_brand_link_").concat(a);return'\n    <div class="header">\n      <div class="logo">\n        <a href="'.concat(g,'" target="_blank"><img src="').concat(o,'acfw-logo.png" alt="Advanced Coupons logo" /></a>\n      </div>\n      ').concat(c?"":'\n        <div class="upgrade-link">\n          <a href="'.concat(h,'" target="_blank">\n            <span>').concat(e.upgrade_to_premium,'</span>\n            <i class="dashicons dashicons-external"></i>\n          </a>\n        </div>\n      '),'\n    </div>\n    <main>\n      <h1 class="title">').concat(s,'</h1>\n      <div class="content">\n        ').concat(d,"\n      </div>\n      ").concat(l.length?'<div class="video-gallery-placeholder"><img src="'.concat(o,'spinner-2x.gif" alt="Loading videos" /><p>').concat(e.loading_videos,"</p></div>"):"","\n    </main>\n    <aside>\n      ").concat(An({title:e.rel_links,className:"relevant-links",links:u}),"\n      ").concat(An({title:e.kb_articles,className:"knowledge-base-articles",links:p,search:_}),"\n      ").concat(An({title:e.tut_guides,className:"tutorials-guides",links:f}),"\n    </aside>\n  ")}function Jn(t){var n=acfw_edit_coupon.help_modal.images_url,e=acfw_edit_coupon.help_modal.labels,o=e.permission_request,c=e.allow,a=e.cancel;return'\n  <div id="acfw-help-modal-permission-request" data-module="'.concat(t,'">\n    <img src="').concat(n,'acfw-logo.png" />\n    <p>').concat(o,'</p>\n    <p class="actions">\n      <button class="button-primary allow" type="button">').concat(c,'</button>\n      <button class="button cancel" type="button">').concat(a,"</button>\n    </p>\n  </div>\n  ")}function Hn(){var t=acfw_edit_coupon.help_modal,n=t.images_url,e=t.labels;return'<div id="acfw-help-modal-placeholder">\n    <img src="'.concat(n,'spinner-2x.gif" />\n    <p>').concat(e.loading_content,"</p>\n  </div>")}function zn(t){return'\n  <div class="no-video" style="background-image:url('.concat(t.thumbnail,');">\n    <a href="').concat(t.url,'" rel="noreferer noopener" >\n      <span>').concat(acfw_edit_coupon.help_modal.labels.no_video,"</span>\n    </a>\n  </div>\n  ")}var Pn=jQuery,Tn=[],Vn="";function Wn(t,n){var e=acfw_edit_coupon.help_modal._secure_nonce;t.length&&Pn.post(ajaxurl,{action:"acfw_get_help_videos_oembed",urls:t.map((function(t){return t.url})),width:Pn(".acfw-help-vex .vex-content main").width(),_nonce:e},(function(e){e=e.map((function(n){var e=t.findIndex((function(t){return t.url===n.url}));return n.title=e>=0?t[e].title:"",n})),Tn=e,Vn=n,Yn(e)}),"json")}function Yn(t){var n=Pn(".acfw-help-vex .video-gallery-placeholder");n.length&&n.replaceWith(function(t){return'\n  <div class="acfw-help-video-gallery">\n    <div class="videos">\n      '.concat(t[0].embed?t[0].embed:zn(t[0]),"\n    </div>\n    ").concat(t.length>1?'\n      <ul class="thumbnails">\n        '.concat(t.map((function(t,n){return"\n            <li ".concat(0===n?'class="active"':"",'>\n              <a href="javascript:void(0);" data-videoid="').concat(t.videoid,'">\n                <img src="').concat(t.thumbnail,'" title="').concat(t.title,'" />\n              </a>\n              <span class="title">').concat(t.title,"</span>\n            </li>\n            ")})).join(""),"\n      </ul>\n      "):"","\n    \n  </div>\n  ")}(t))}function Bn(){var t=jQuery(this),n=t.closest("li"),e=t.closest(".acfw-help-video-gallery"),o=e.find(".videos"),c=e.find("ul.thumbnails li"),a=t.data("videoid");if(!n.hasClass("active")){c.removeClass("active"),n.addClass("active");var i=Tn.findIndex((function(t){return t.videoid===a}));i>=0&&o.html(Tn[i].embed?Tn[i].embed.replace("oembed","oembed&autoplay=1"):zn(Tn[i]))}}var Zn=jQuery,Un=[];function Rn(){var t=acfw_edit_coupon.help_modal.allow_fetch,n=Zn(this).closest(".acfw-help-link").data("module");vex.dialog.open({unsafeMessage:'\n      <a class="vex-close" href="javascript:void(0);"></a>\n      '.concat(t?Hn():Jn(n),"\n    "),className:"vex-theme-plain acfw-help-vex",showCloseButton:!1,buttons:{}}),t&&Kn(n)}function $n(t){var n=Zn("#acfw-help-modal-placeholder");n.length&&(n.replaceWith(t),Zn(".acfw-help-vex").find("main a,aside a").attr("target","_blank").attr("rel","noopener noreferrer nofollow"))}function Kn(t){var n,e=acfw_edit_coupon.help_modal._secure_nonce;if(n=function(t){var n=Un.findIndex((function(n){return n.target===t}));return n>=0?Un[n]:null}(t))return $n(En(n)),void function(t,n){Tn.length&&n===Vn?Yn(Tn):Wn(t,n)}(n.left.videos,t);Zn.post(ajaxurl,{action:"acfw_fetch_help_data",module:t,_nonce:e},(function(n){Un.push(n),$n(En(n)),Wn(n.left.videos,t)}),"json").fail((function(t){var n,e;$n((n=t.responseJSON,e=n.errorMsg,'\n    <div class="acfw-help-modal-error">\n      <p>'.concat(e,"</p>\n    </div>\n  ")))}))}var Gn=jQuery,Xn=null,te=null;function ne(){var t=Gn(this).closest(".search-widget"),n=t.find("input.search-input"),e=t.find(".search-results"),o=acfw_edit_coupon.help_modal,c=o.labels,a=o.images_url,i=o._secure_nonce,s=n.val();if(!s)return clearTimeout(Xn),Xn=null,e.height(0).html(""),void t.removeClass("show-clear");t.addClass("show-clear"),function(t,n,e){Xn&&(clearTimeout(Xn),Xn=null);if(t.term===(null==te?void 0:te.term))return void e(te.results);Xn=setTimeout((function(){n(),Gn.post(ajaxurl,t,e,"json")}),1e3)}({action:n.data("action"),term:n.val(),_nonce:i},(function(){e.height(35).html('<div class="loading"><img src="'.concat(a,'spinner.gif" /></div>'))}),(function(n){t.hasClass("show-clear")&&(n.length?(te={term:s,results:n},e.html(function(t,n){var e=t.map((function(t){var e=t.url,o=t.title;return'<li><a href="'.concat(function(t,n){return"".concat(t,"?utm_source=acfwf&utm_medium=help_modal&utm_campaign=kb_search&utm_term=").concat(n)}(e,n),'" rel="noopener noreferrer nofollow" target="_blank">').concat(o,"</a></li>")})).join("");return"<ul>".concat(e,"</ul>")}(n,s))):e.html('<div class="no-result">'.concat(c.search_no_results,"</div>")),e.height(e.find("ul,.no-result").height()+3))}))}function ee(){var t=Gn(this).closest(".search-widget"),n=t.find("input.search-input"),e=t.find(".search-results");clearTimeout(Xn),Xn=null,n.val(""),e.height(0).html(""),t.removeClass("show-clear")}var oe=jQuery;function ce(){var t=acfw_edit_coupon.help_modal._secure_nonce,n=jQuery(this).closest("#acfw-help-modal-permission-request"),e=n.data("module");n.replaceWith(Hn()),oe.post(ajaxurl,{action:"acfw_save_fetch_help_permission",_nonce:t},(function(){Kn(e),acfw_edit_coupon.help_modal.allow_fetch=!0}),"json")}function ae(){vex.closeAll()}var ie=jQuery;var se=acfw_edit_coupon.send_coupon.labels;function de(t){return void 0===t&&(t=!1),'\n  <div class="acfw-send-coupon-form-section '.concat(t?"current":"",'" data-section="send_coupon_to">\n    <div class="section-number">\n      <span>1</span>\n    </div>\n    <div class="section-inner">\n      <h3>').concat(se.send_coupon_to,'</h3>\n      <div class="section-content">\n        <label>\n          <input type="radio" name="acfw_send_coupon[to]" value="user" data-key="send_to" checked />\n           <span>').concat(se.existing_customer_account,'<span>\n        </label>\n        <label>\n          <input type="radio" name="acfw_send_coupon[to]" value="email" data-key="send_to" />\n           <span>').concat(se.new_customer,'<span>\n        </label>\n        <button type="button" class="button-primary acfw-next-section-btn" data-next_section="customer_details">').concat(se.next,"</button>\n      </div>\n    </div>\n  </div>\n  ")}function le(t){return void 0===t&&(t=!1),'\n  <div class="acfw-send-coupon-form-section '.concat(t?"current":"",'" data-section="customer_details">\n    <div class="section-number">\n      <span>2</span>\n    </div>\n    <div class="section-inner">\n      <h3>').concat(se.customer_details,'</h3>\n      <div class="section-content">\n        <div class="customer-details-form user-form show">\n          <select data-placeholder="').concat(se.search,'" name="acfw_send_coupon[user]" data-key="user" class="wc-customer-search" style="width:100%"></select>\n        </div>\n        <div class="customer-details-form guest-form">\n          <input type="text" placeholder="').concat(se.name,'" name="acfw_send_coupon[name]" data-key="name" />\n          <input type="email" placeholder="').concat(se.email,'" name="acfw_send_coupon[email]" data-key="email" />\n          <label>\n            <input type="checkbox" data-key="create_account" value="yes" /> \n            <span>').concat(se.create_new_user_account,'</span>\n        </div>\n        <button type="button" class="button-primary acfw-next-section-btn" data-next_section="confirm_and_send">').concat(se.next,"</button>\n      </div>\n    </div>\n  </div>\n  ")}var re=jQuery,ue=new Map;function pe(t){void 0===t&&(t="send_coupon_to"),ue.set("section",t),ue.set("send_to","user"),ue.set("user_id","0"),ue.set("name",""),ue.set("email",""),ue.set("create_account","")}function fe(){var t,n=re(this),e=n.data("key"),o=n.val()?n.val().toString():"";switch(e){case"user":var c=n.find("option:selected");ue.set("user_id",o),ue.set("name",lodash.first(c.text().split(" ("))),ue.set("email",lodash.last(c.text().split("&ndash; ")).replace(")",""));break;case"email":n.removeClass("error"),t=o,new RegExp(/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i).test(t)||""===o?(ue.set(e,o),ue.set("user_id","0")):(ue.set(e,""),n.addClass("error"));break;case"create_account":o=n.is(":checked")?o:"",ue.set(e,o);break;default:ue.set(e,o)}!function(t,n){void 0===n&&(n=!1);he(".acfw-send-coupon-modal").find("[data-section='".concat(t,"']")).replaceWith(ge(t)(n))}("confirm_and_send","confirm_and_send"===ue.get("section"))}var _e=ue;function ve(t){var n;void 0===t&&(t=!1);var e=_e.get("name")&&_e.get("email")?"":"disabled";return'\n  <div class="acfw-send-coupon-form-section '.concat(t?"current":"",'" data-section="confirm_and_send">\n    <div class="section-number">\n      <span>3</span>\n    </div>\n    <div class="section-inner">\n      <h3>').concat(se.confirm_and_send,'</h3>\n      <div class="section-content">\n        <p>\n          <strong>').concat(se.customer,":</strong> ").concat(null!==(n=_e.get("name"))&&void 0!==n?n:"","\n          ").concat(_e.get("email")?"&lt;".concat(_e.get("email"),">"):"",'\n        </p>\n        <p><a class="preview-email-link  ').concat(e,'" href="#">').concat(se.preview_email," ").concat('\n  <svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M8.90625 8.59363V1.40613C8.90625 1.23328 8.7666 1.09363 8.59375 1.09363L1.40625 1.09363C1.2334 1.09363 1.09375 1.23328 1.09375 1.40613V4.92175C1.09375 4.96472 1.12891 4.99988 1.17188 4.99988H1.71875C1.76172 4.99988 1.79688 4.96472 1.79688 4.92175V1.79675L8.20313 1.79675V8.203H5.07813C5.03516 8.203 5 8.23816 5 8.28113V8.828C5 8.87097 5.03516 8.90613 5.07813 8.90613H8.59375C8.7666 8.90613 8.90625 8.76648 8.90625 8.59363ZM4.14648 6.37976L4.65625 6.88953C4.66663 6.89985 4.6797 6.90706 4.69397 6.91033C4.70824 6.91359 4.72314 6.91279 4.73697 6.90801C4.75081 6.90323 4.76303 6.89466 4.77224 6.88328C4.78145 6.8719 4.78728 6.85816 4.78906 6.84363L4.99414 5.09167C5 5.04187 4.95801 4.9989 4.90723 5.00476L3.15527 5.20984C3.09082 5.21765 3.06348 5.29675 3.10938 5.34265L3.62109 5.85437L1.11914 8.35632C1.08887 8.3866 1.08887 8.4364 1.11914 8.46667L1.5332 8.88074C1.56348 8.91101 1.61328 8.91101 1.64356 8.88074L4.14648 6.37976Z" fill="#3A6FAC"/>\n  </svg>\n  ','</a></p>\n        <button type="button" class="button-primary acfw-send-email-btn" ').concat(e,">").concat(se.send_email," ").concat('\n  <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10.875 1.87512H1.125C0.917578 1.87512 0.75 2.0427 0.75 2.25012V9.75012C0.75 9.95754 0.917578 10.1251 1.125 10.1251H10.875C11.0824 10.1251 11.25 9.95754 11.25 9.75012V2.25012C11.25 2.0427 11.0824 1.87512 10.875 1.87512ZM10.4062 3.17356V9.28137H1.59375V3.17356L1.27031 2.92161L1.73086 2.32981L2.23242 2.72004H9.76875L10.2703 2.32981L10.7309 2.92161L10.4062 3.17356ZM9.76875 2.71887L6 5.64856L2.23125 2.71887L1.72969 2.32864L1.26914 2.92043L1.59258 3.17239L5.5957 6.28489C5.71083 6.37433 5.85246 6.42288 5.99824 6.42288C6.14403 6.42288 6.28566 6.37433 6.40078 6.28489L10.4062 3.17356L10.7297 2.92161L10.2691 2.32981L9.76875 2.71887Z" fill="white"/>\n  </svg>\n  ','</button>\n        <p class="request-message"></p>\n      </div>\n    </div>\n  </div>\n  ')}var he=jQuery;function ge(t){switch(t){case"send_coupon_to":return de;case"customer_details":return le;case"confirm_and_send":return ve}return function(){}}var me=jQuery;function ye(){me(".page-title-action").after('<button type="button" class="button acfw-send-coupon-btn">'.concat(se.title,"</button>")),pe(),me("body").on("click","button.acfw-send-coupon-btn",be),me("body").on("change clearForm",".acfw-send-coupon-form-section input[type='radio']:checked",we),me("body").on("click",".acfw-send-coupon-form-section .acfw-next-section-btn",xe),me("body").on("click",".acfw-send-coupon-form-section .section-number,.acfw-send-coupon-form-section h3",ke),me("body").on("change",".acfw-send-coupon-form-section input, .acfw-send-coupon-form-section select",fe),me("body").on("click",".acfw-send-coupon-form-section .preview-email-link",qe),me("body").on("click",".acfw-send-coupon-form-section .acfw-send-email-btn",je)}function be(){var t;vex.dialog.open({unsafeMessage:(t=_e.get("section"),'\n    <div id="acfw-send-coupon">\n      <h2>'.concat(se.title,'</h2>\n      <div class="description">\n        <p>').concat(se.description,'</p>\n      </div>\n\n      <div class="acfw-send-coupon-form-sections">\n        ').concat(ge("send_coupon_to")("send_coupon_to"===t),"\n        ").concat(ge("customer_details")("customer_details"===t),"\n        ").concat(ge("confirm_and_send")("confirm_and_send"===t),"\n      </div>\n    </div>\n  ")),className:"vex-theme-plain acfw-send-coupon-modal",showCloseButton:!0,buttons:{},afterOpen:function(){return me(document.body).trigger("wc-enhanced-select-init")}})}function we(){var t="user"===me(this).val().toString()?".user-form":".guest-form";me(".acfw-send-coupon-form-section .customer-details-form").removeClass("show").find("input,select").prop("disabled",!0),me(".acfw-send-coupon-form-section ".concat(t)).addClass("show").find("input,select").prop("disabled",!1)}function xe(){var t=me(this).data("next_section");me(".acfw-send-coupon-form-section").removeClass("current"),me(".acfw-send-coupon-form-section[data-section='".concat(t,"']")).addClass("current")}function ke(){var t=me(this).closest(".acfw-send-coupon-form-section");t.hasClass("current")||(me(".acfw-send-coupon-form-section").removeClass("current"),t.addClass("current"))}function qe(){if(!me(this).hasClass("disabled")){var t=new URLSearchParams;t.append("action","acfw_advanced_coupon_preview_email"),t.append("email_id","acfw_coupon_email"),t.append("args[coupon_id]",me("#post_ID").val()),t.append("args[name]",_e.get("name")),t.append("args[email]",_e.get("email")),t.append("args[user_id]",_e.get("user_id")),t.append("_wpnonce",acfw_edit_coupon.send_coupon.form_nonce),window.open("".concat(ajaxurl,"?").concat(t.toString()),"_blank")}}function je(){me(this).prop("disabled",!0),me("#acfw-send-coupon .request-message").html("").removeClass("success error"),wp.apiFetch({path:"/coupons/v1/sendcoupon",method:"POST",data:{coupon_id:me("#post_ID").val(),customer:parseInt(_e.get("user_id"))?_e.get("user_id"):_e.get("email"),name:_e.get("name"),create_account:_e.get("create_account")}}).then((function(t){pe("confirm_and_send"),me("#acfw-send-coupon").find("select,input[type='text'],input[type='email']").val("").trigger("change"),me("#acfw-send-coupon").find("input[type='radio']").prop("checked",!1),me("#acfw-send-coupon").find("label:first-child input[type='radio']").prop("checked",!0).trigger("clearForm"),me("#acfw-send-coupon").find("input[type='checkbox']").prop("checked",!1),Fe("success",t.message)})).catch((function(t){return Fe("error",t.message)}))}function Fe(t,n){me("#acfw-send-coupon .request-message").html(n).addClass(t)}var Ce=acfw_edit_coupon.modules,Se=acfw_edit_coupon.upsell;jQuery(document).ready((function(t){var n,e,d,l,u,p;Ce.indexOf("acfw_cart_conditions_module")>-1&&(xt(kt).on("click","#add-cart-condition-group",b),xt(kt).on("click","a.remove-condition-group",w),xt(kt).on("click",".add-condition-field",J),xt(kt).on("click","a.remove-condition-field",H),xt(kt).on("click",".add-condition-trigger",o),xt(kt).on("click",".cancel-add-condition-field",o),xt(kt).on("click",".acfw-styled-table tfoot .add-table-row",nt),xt(kt).on("click",".acfw-styled-table td.actions a.edit",et),xt(kt).on("click","tr.add-edit-form .actions .condition-product-add",ot),xt(kt).on("click","tr.add-edit-form .actions .cancel",ct),xt(kt).on("click",".acfw-styled-table td.actions a.remove",at),xt(kt).on("click","#save-cart-conditions",U),xt(kt).on("change","input[type='number']",lt),xt(kt).on("change","select.condition-select",rt),xt(kt).on("change","select.has-ordered-before-type",ut),xt(kt).on("change",".wc_input_price",pt),xt(kt).on("change","select.custom-taxonomy",a),xt(kt).on("change",".shipping-zone-region-field select.condition-select",i),xt(kt).on("blur",".wc_input_price",ft),xt(kt).on("change","select.value-type",_t),xt("form#post").on("submit",R),xt(kt).find("select").trigger("change"),xt(kt).css("min-height",xt("#coupon_options").height()),xt(kt).on("change","input,select,textarea",(function(){c(!0)})),xt(kt).find(".condition-groups").each((function(){xt(this).find(".condition-group-fields").length&&xt(this).show()})),xt(".acfw-cart-condition-tabs").on("click","li a",yt),xt(kt).on("change","input.display-notice-auto-apply-field",s),xt(kt).find("input.display-notice-auto-apply-field").trigger("change"),setTimeout(qt,500)),Ce.indexOf("acfw_bogo_deals_module")>-1&&(cn(an).on("click",".acfw-styled-table tfoot .add-table-row",Gt),cn(an).on("click",".acfw-styled-table td.actions a.edit",Xt),cn(an).on("click","tr.add-edit-form .actions .cancel",tn),cn(an).on("click","tr.add-edit-form .actions .condition-product-add",nn),cn(an).on("click",".acfw-styled-table td.actions a.remove",en),cn(an).on("click","button#save-bogo-deals",Tt),cn(an).on("click","button#clear-bogo-deals",Wt),cn(an).on("change acfw_load","select#bogo-condition-type,select#bogo-deals-type",At),cn(an).on("change acfw_fetch_data",".combined-objects-form select,.combined-objects-form input",Yt),cn(an).on("change acfw_fetch_data",".any-products-trigger-form input",Zt),cn(an).on("change acfw_fetch_data",".any-products-apply-form input,.any-products-apply-form select",Ut),cn(an).on("change",".condition-quantity",ln),cn(an).on("blur",".wc_input_price",r),cn(an).css("min-height",cn("#coupon_options").height()),cn(an).on("change","input[name='bogo_type']",dn),cn(an).on("change acfw_load","input[name='bogo_type']",Et),cn(an).on("change","#bogo-repeat-limit",dn),cn(an).on("click",".acfw-styled-table .actions .remove",dn),cn(an).find(".notice-option").on("change","input,textarea,select",dn),cn("form#post").on("submit",Bt),cn(an).find("select#bogo-condition-type,select#bogo-deals-type").trigger("acfw_load"),cn("#woocommerce-coupon-data").on("change acfw_load","select#discount_type",sn),cn("#woocommerce-coupon-data select#discount_type").trigger("acfw_load"),cn(an).find("input[name='bogo_type']:checked").trigger("acfw_load")),Ce.indexOf("acfw_url_coupons_module")>-1&&fn(),Ce.indexOf("acfw_scheduler_module")>-1&&hn(),Se&&qn(),(n=rn(".toggle-enable-fields")).on("change",".toggle-trigger-field",un),n.find(".toggle-trigger-field").trigger("change"),e=document.querySelectorAll("#post-body .acfw-help-link"),d=acfw_edit_coupon.help_modal,l=d.help_text,u=d.images_url,e.forEach((function(t){var n='\n      <a class="acfw-help-modal-trigger" href="javascript:void(0);">'.concat(l,' \n        <img class="acfw-icon" src="').concat(u,'help-icon.svg" alt="').concat(l,'" />\n      </a>\n    ');ie(t).html(n)})),ie("#post-body").on("click",".acfw-help-modal-trigger",Rn),ie("body").on("click",".acfw-help-vex .vex-close",(function(){return vex.closeAll()})),ie("body").on("click",".acfw-help-vex .acfw-help-video-gallery ul.thumbnails li a",Bn),ie("body").on("keyup",".acfw-help-vex .search-widget input.search-input",ne),ie("body").on("click",".acfw-help-vex .search-widget button.clear-search",ee),ie("body").on("click",".acfw-help-vex #acfw-help-modal-permission-request button.allow",ce),ie("body").on("click",".acfw-help-vex #acfw-help-modal-permission-request button.cancel",ae),(p=new URLSearchParams(window.location.search).get("type"))&&window.location.pathname.includes("post-new.php")&&jQuery("select#discount_type").val(p).trigger("change"),ye()}))}();
//# sourceMappingURL=acfwf-edit-advanced-coupon.js.map