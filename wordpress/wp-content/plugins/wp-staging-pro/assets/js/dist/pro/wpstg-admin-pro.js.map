{"version":3,"file":"wpstg-admin-pro.js","sources":["../../src/modules/wpstg-polyfill.js","../../src/modules/wpstg-hover-intent.js","../../src/wpstg.js","../../src/modules/wpstg-dom-utils.js","../../src/pro/modules/wpstg-clone-edit.js","../../src/pro/modules/wpstg-push-table-selection.js","../../src/pro/modules/wpstg-push-file-selection.js","../../src/modules/wpstg-loader.js","../../src/pro/modules/wpstg-remote-storage.js","../../src/modules/wpstg-directory-navigation.js","../../src/pro/modules/wpstg-clone-generate-login-link.js","../../src/pro/modules/wpstg-sync-account.js","../../src/pro/wpstg-admin-pro.js"],"sourcesContent":["/**\n * Polyfills the `Element.prototype.closest` function if not available in the browser.\n *\n * @return {Function} A function that will return the closest element, by selector, to this element.\n */\nfunction polyfillClosest() {\n  if (Element.prototype.closest) {\n    if (!Element.prototype.matches) {\n      Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n    }\n\n    Element.prototype.closest = function(s) {\n      let el = this;\n\n      do {\n        if (Element.prototype.matches.call(el, s)) return el;\n        el = el.parentElement || el.parentNode;\n      } while (el !== null && el.nodeType === 1);\n      return null;\n    };\n  }\n\n  return function(element, selector) {\n    return element instanceof Element ? element.closest(selector) : null;\n  };\n}\n\nexport const closest = polyfillClosest();\n","'use strict';\n\n/**\n * This is a namespaced port of https://github.com/tristen/hoverintent,\n * with slight modification to accept selector with dynamically added element in dom,\n * instead of just already present element.\n *\n * @param {HTMLElement} parent\n * @param {string} selector\n * @param {CallableFunction} onOver\n * @param {CallableFunction} onOut\n *\n * @return {object}\n */\nexport default function(parent, selector, onOver, onOut) {\n  let x; let y; let pX; let pY;\n  let mouseOver = false;\n  let focused = false;\n  const h = {};\n  let state = 0;\n  let timer = 0;\n\n  let options = {\n    sensitivity: 7,\n    interval: 100,\n    timeout: 0,\n    handleFocus: false,\n  };\n\n  function delay(el, e) {\n    if (timer) {\n      timer = clearTimeout(timer);\n    }\n\n    state = 0;\n    return focused ? undefined : onOut(el, e);\n  }\n\n  function tracker(e) {\n    x = e.clientX;\n    y = e.clientY;\n  }\n\n  function compare(el, e) {\n    if (timer) timer = clearTimeout(timer);\n    if ((Math.abs(pX - x) + Math.abs(pY - y)) < options.sensitivity) {\n      state = 1;\n      return focused ? undefined : onOver(el, e);\n    } else {\n      pX = x;\n      pY = y;\n      timer = setTimeout(function() {\n        compare(el, e);\n      }, options.interval);\n    }\n  }\n\n  // Public methods\n  h.options = function(opt) {\n    const focusOptionChanged = opt.handleFocus !== options.handleFocus;\n    options = Object.assign({}, options, opt);\n    if (focusOptionChanged) {\n            options.handleFocus ? addFocus() : removeFocus();\n    }\n\n    return h;\n  };\n\n  function dispatchOver(el, e) {\n    mouseOver = true;\n    if (timer) {\n      timer = clearTimeout(timer);\n    }\n\n    el.removeEventListener('mousemove', tracker, false);\n\n    if (state !== 1) {\n      pX = e.clientX;\n      pY = e.clientY;\n\n      el.addEventListener('mousemove', tracker, false);\n\n      timer = setTimeout(function() {\n        compare(el, e);\n      }, options.interval);\n    }\n\n    return this;\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchOver to support dynamically added elements to dom\n   */\n  function onMouseOver(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchOver(event.target.closest(selector), event);\n    }\n  };\n\n  function dispatchOut(el, e) {\n    mouseOver = false;\n    if (timer) {\n      timer = clearTimeout(timer);\n    }\n\n    el.removeEventListener('mousemove', tracker, false);\n\n    if (state === 1) {\n      timer = setTimeout(function() {\n        delay(el, e);\n      }, options.timeout);\n    }\n\n    return this;\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchOut to support dynamically added elements to dom\n   */\n  function onMouseOut(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchOut(event.target.closest(selector), event);\n    }\n  };\n\n  function dispatchFocus(el, e) {\n    if (!mouseOver) {\n      focused = true;\n      onOver(el, e);\n    }\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchFocus to support dynamically added elements to dom\n   */\n  function onFocus(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchFocus(event.target.closest(selector), event);\n    }\n  };\n\n  function dispatchBlur(el, e) {\n    if (!mouseOver && focused) {\n      focused = false;\n      onOut(el, e);\n    }\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchBlur to support dynamically added elements to dom\n   */\n  function onBlur(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchBlur(event.target.closest(selector), event);\n    }\n  };\n\n  /**\n   * Modified to support dynamically added element\n   */\n  function addFocus() {\n    parent.addEventListener('focus', onFocus, false);\n    parent.addEventListener('blur', onBlur, false);\n  }\n\n  /**\n   * Modified to support dynamically added element\n   */\n  function removeFocus() {\n    parent.removeEventListener('focus', onFocus, false);\n    parent.removeEventListener('blur', onBlur, false);\n  }\n\n  /**\n   * Modified to support dynamically added element\n   */\n  h.remove = function() {\n    if (!parent) {\n      return;\n    }\n\n    parent.removeEventListener('mouseover', onMouseOver, false);\n    parent.removeEventListener('mouseout', onMouseOut, false);\n    removeFocus();\n  };\n\n  /**\n   * Modified to support dynamically added element\n   */\n  if (parent) {\n    parent.addEventListener('mouseover', onMouseOver, false);\n    parent.addEventListener('mouseout', onMouseOut, false);\n  }\n\n  return h;\n};\n","import wpstgHoverIntent from './modules/wpstg-hover-intent';\n\nexport default (function($) {\n  const WPStagingCommon = {\n    continueErrorHandle: true,\n    retry: {\n      currentDelay: 0,\n      count: 0,\n      max: 10,\n      retryOnErrors: [401, 403, 404, 429, 502, 503, 504],\n      performingRequest: false,\n      incrementRetry: function(incrementRatio = 1.25) {\n        WPStagingCommon.retry.performingRequest = true;\n        if (WPStagingCommon.retry.currentDelay === 0) {\n          // start with a delay of 1sec\n          WPStagingCommon.retry.currentDelay = 1000;\n          WPStagingCommon.retry.count = 1;\n        }\n\n        WPStagingCommon.retry.currentDelay += (500 * WPStagingCommon.retry.count * incrementRatio);\n        WPStagingCommon.retry.count++;\n      },\n      canRetry: function() {\n        return WPStagingCommon.retry.count < WPStagingCommon.retry.max;\n      },\n      reset: function() {\n        WPStagingCommon.retry.currentDelay = 0;\n        WPStagingCommon.retry.count = 0;\n        WPStagingCommon.retry.performingRequest = false;\n      },\n    },\n    memoryExhaustArticleLink: 'https://wp-staging.com/docs/php-fatal-error-allowed-memory-size-of-134217728-bytes-exhausted/',\n    cache: {\n      elements: [],\n      get: function(selector) {\n        // It is already cached!\n        if ($.inArray(selector, this.elements) !== -1) {\n          return this.elements[selector];\n        }\n\n        // Create cache and return\n        this.elements[selector] = $(selector);\n\n        return this.elements[selector];\n      },\n      refresh: function(selector) {\n        selector.elements[selector] = $(selector);\n      },\n    },\n    setJobId: function(jobId) {\n      localStorage.setItem('jobIdBeingProcessed', jobId);\n    },\n    getJobId: function() {\n      return localStorage.getItem('jobIdBeingProcessed');\n    },\n    listenTooltip: function() {\n      wpstgHoverIntent(document, '.wpstg--tooltip', function(target, event) {\n        target.querySelector('.wpstg--tooltiptext').style.visibility = 'visible';\n      }, function(target, event) {\n        target.querySelector('.wpstg--tooltiptext').style.visibility = 'hidden';\n      });\n    },\n    // Get the custom themed Swal Modal for WP Staging\n    // Easy to maintain now in one place now\n    getSwalModal: function(isContentCentered = false, customClasses = {}) {\n      // common style for all swal modal used in WP Staging\n      const defaultCustomClasses = {\n        confirmButton: 'wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn wpstg-100-width',\n        cancelButton: 'wpstg--btn--cancel wpstg-blue-primary wpstg-link-btn wpstg-100-width',\n        actions: 'wpstg--modal--actions',\n        popup: isContentCentered ? 'wpstg-swal-popup centered-modal' : 'wpstg-swal-popup',\n      };\n\n      // If a attribute exists in both default and additional attributes,\n      // The class(es) of the additional attribute will overrite the default one.\n      const options = {\n        customClass: Object.assign(defaultCustomClasses, customClasses),\n        buttonsStyling: false,\n        reverseButtons: true,\n        showClass: {\n          popup: 'wpstg--swal2-show wpstg-swal-show',\n        },\n      };\n\n      return wpstgSwal.mixin(options);\n    },\n    showSuccessModal: function(htmlContent) {\n      this.getSwalModal().fire({\n        showConfirmButton: false,\n        showCancelButton: true,\n        cancelButtonText: 'OK',\n        icon: 'success',\n        title: 'Success!',\n        html: '<div class=\"wpstg--grey\" style=\"text-align: left; margin-top: 8px;\">' + htmlContent + '</div>',\n      });\n    },\n    showWarningModal: function(htmlContent) {\n      this.getSwalModal().fire({\n        showConfirmButton: false,\n        showCancelButton: true,\n        cancelButtonText: 'OK',\n        icon: 'warning',\n        title: '',\n        html: '<div class=\"wpstg--grey\" style=\"text-align: left; margin-top: 8px;\">' + htmlContent + '</div>',\n      });\n    },\n    showErrorModal: function(htmlContent) {\n      this.getSwalModal().fire({\n        showConfirmButton: false,\n        showCancelButton: true,\n        cancelButtonText: 'OK',\n        icon: 'error',\n        title: 'Error!',\n        html: '<div class=\"wpstg--grey\" style=\"text-align: left; margin-top: 8px;\">' + htmlContent + '</div>',\n      });\n    },\n    getSwalContainer: function() {\n      return wpstgSwal.getContainer();\n    },\n    closeSwalModal: function() {\n      wpstgSwal.close();\n    },\n    /**\n     * Treats a default response object generated by WordPress's\n     * wp_send_json_success() or wp_send_json_error() functions in\n     * PHP, parses it in JavaScript, and either throws if it's an error,\n     * or returns the data if the response is successful.\n     *\n     * @param {object} response\n     * @return {*}\n     */\n    getDataFromWordPressResponse(response) {\n      if (typeof response !== 'object') {\n        throw new Error('Unexpected response (ERR 1341)');\n      }\n\n      if (!response.hasOwnProperty('success')) {\n        throw new Error('Unexpected response (ERR 1342)');\n      }\n\n      if (!response.hasOwnProperty('data')) {\n        throw new Error('Unexpected response (ERR 1343)');\n      }\n\n      if (response.success === false) {\n        if (response.data instanceof Array && response.data.length > 0) {\n          throw new Error(response.data.shift());\n        } else {\n          throw new Error('Response was not successful');\n        }\n      } else {\n        // Successful response. Return the data.\n        return response.data;\n      }\n    },\n    isLoading: function(isLoading) {\n      if (!isLoading || isLoading === false) {\n        WPStagingCommon.cache.get('.wpstg-loader').hide();\n      } else {\n        WPStagingCommon.cache.get('.wpstg-loader').show();\n      }\n    },\n    /**\n     * Convert the given url to make it slug compatible\n     * @param {string} url\n     * @return {string}\n     */\n    slugify: function(url) {\n      return url.toString()\n          .toLowerCase()\n          .normalize('NFD')\n          .replace(/[\\u0300-\\u036f]/g, '')\n          .replace(/\\s+/g, '-')\n          .replace(/&/g, '-and-')\n          .replace(/[^a-z0-9\\-]/g, '')\n          .replace(/-+/g, '-')\n          .replace(/^-*/, '')\n          .replace(/-*$/, '')\n      ;\n    },\n    showAjaxFatalError: function(response, prependMessage, appendMessage) {\n      prependMessage = prependMessage ? prependMessage + '<br/><br/>' : 'Something went wrong! <br/><br/>';\n      appendMessage = appendMessage ? appendMessage + '<br/><br/>' : '<br/><br/>Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.';\n\n      if (response === false) {\n        WPStagingCommon.showError(prependMessage + ' Error: No response.' + appendMessage);\n        window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n        return;\n      }\n\n      if (typeof response.error !== 'undefined' && response.error) {\n        WPStagingCommon.showError(prependMessage + ' Error: ' + response.message + appendMessage);\n        window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n        return;\n      }\n    },\n    handleFetchErrors: function(response) {\n      if (!response.ok) {\n        WPStagingCommon.showError('Error: ' + response.status + ' - ' + response.statusText + '. Please try again or contact support.');\n      }\n      return response;\n    },\n    showError: function(message) {\n      // If retry request no need to show Error;\n      if (WPStagingCommon.retry.performingRequest) {\n        return;\n      }\n\n      WPStagingCommon.cache.get('#wpstg-try-again').css('display', 'inline-block');\n      WPStagingCommon.cache.get('#wpstg-cancel-cloning').text('Reset');\n      WPStagingCommon.cache.get('#wpstg-resume-cloning').show();\n      WPStagingCommon.cache.get('#wpstg-error-wrapper').show();\n      WPStagingCommon.cache.get('#wpstg-error-details').show().html(message);\n      WPStagingCommon.cache.get('#wpstg-removing-clone').removeClass('loading');\n      WPStagingCommon.cache.get('.wpstg-loader').hide();\n      $('.wpstg--modal--process--generic-problem').show().html(message);\n    },\n    resetErrors: function() {\n      WPStagingCommon.cache.get('#wpstg-error-details').hide().html('');\n    },\n    /**\n     * Ajax Requests\n     * @param {Object} data\n     * @param {Function} callback\n     * @param {string} dataType\n     * @param {bool} showErrors\n     * @param {int} tryCount\n     * @param {float} incrementRatio\n     * @param {function} errorCallback\n     */\n    ajax: function(data, callback, dataType, showErrors, tryCount, incrementRatio = null, errorCallback = null) {\n      if ('undefined' === typeof (dataType)) {\n        dataType = 'json';\n      }\n\n      if (false !== showErrors) {\n        showErrors = true;\n      }\n\n      tryCount = 'undefined' === typeof (tryCount) ? 0 : tryCount;\n\n      const retryLimit = 10;\n\n      let retryTimeout = 10000 * tryCount;\n\n      incrementRatio = parseInt(incrementRatio);\n      if (!isNaN(incrementRatio)) {\n        retryTimeout *= incrementRatio;\n      }\n\n      $.ajax({\n        url: ajaxurl + '?action=wpstg_processing&_=' + (Date.now() / 1000),\n        type: 'POST',\n        dataType: dataType,\n        cache: false,\n        data: data,\n        error: function(xhr, textStatus, errorThrown) {\n          console.log(xhr.status + ' ' + xhr.statusText + '---' + textStatus);\n\n          if (typeof (errorCallback) === 'function') {\n            // Custom error handler\n            errorCallback(xhr, textStatus, errorThrown);\n\n            if (!WPStagingCommon.continueErrorHandle) {\n              // Reset state\n              WPStagingCommon.continueErrorHandle = true;\n\n              return;\n            }\n          }\n\n          // Default error handler\n          tryCount++;\n          if (tryCount <= retryLimit) {\n            setTimeout(function() {\n              WPStagingCommon.ajax(data, callback, dataType, showErrors, tryCount, incrementRatio);\n              return;\n            }, retryTimeout);\n          } else {\n            const errorCode = 'undefined' === typeof (xhr.status) ? 'Unknown' : xhr.status;\n            WPStagingCommon.showError(\n                'Fatal Error:  ' + errorCode + ' Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.',\n            );\n          }\n        },\n        success: function(data) {\n          if ('function' === typeof (callback)) {\n            callback(data);\n          }\n        },\n        statusCode: {\n          404: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 404 - Can\\'t find ajax request URL! Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.');\n            }\n          },\n          500: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Fatal Error 500 - Internal server error while processing the request! Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.');\n            }\n          },\n          504: function() {\n            if (tryCount > retryLimit) {\n              WPStagingCommon.showError('Error 504 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          502: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 502 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          503: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 503 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          429: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 429 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          403: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Refresh page or login again! The process should be finished successfully. \\n\\ ');\n            }\n          },\n        },\n      });\n    },\n  };\n\n  return WPStagingCommon;\n})(jQuery);\n","import {closest} from './wpstg-polyfill';\nimport WPStagingCommon from '../wpstg.js';\n\n/**\n * WP STAGING basic jQuery replacement\n */\n\n/**\n * Shortcut for document.querySelector() or jQuery's $()\n * Return single element only\n */\nexport function qs(selector) {\n  return document.querySelector(selector);\n}\n\n/**\n * Shortcut for document.querySelector() or jQuery's $()\n * Return collection of elements\n */\nexport function all(selector) {\n  return document.querySelectorAll(selector);\n}\n\n/**\n * alternative of jQuery - $(parent).on(event, selector, handler)\n */\nexport function addEvent(parent, evt, selector, handler) {\n  if (!parent instanceof Element) {\n    return;\n  }\n\n  parent.addEventListener(evt, function(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      handler(event.target.closest(selector), event);\n    }\n  }, false);\n}\n\nexport function slideDown(element, duration = 400) {\n  element.style.display = 'block';\n  element.style.overflow = 'hidden';\n  const height = element.offsetHeight;\n  element.style.height = '0px';\n  element.style.transitionProperty = 'height';\n  element.style.transitionDuration = duration + 'ms';\n  setTimeout(() => {\n    element.style.height = height + 'px';\n    window.setTimeout(() => {\n      element.style.removeProperty('height');\n      element.style.removeProperty('overflow');\n      element.style.removeProperty('transition-duration');\n      element.style.removeProperty('transition-property');\n    }, duration);\n  }, 0);\n}\n\nexport function slideUp(element, duration = 400) {\n  element.style.display = 'block';\n  element.style.overflow = 'hidden';\n  const height = element.offsetHeight;\n  element.style.height = height + 'px';\n  element.style.transitionProperty = 'height';\n  element.style.transitionDuration = duration + 'ms';\n  setTimeout(() => {\n    element.style.height = '0px';\n    window.setTimeout(() => {\n      element.style.display = 'none';\n      element.style.removeProperty('height');\n      element.style.removeProperty('overflow');\n      element.style.removeProperty('transition-duration');\n      element.style.removeProperty('transition-property');\n    }, duration);\n  }, 0);\n}\n\nexport function fadeOut(element, duration = 300) {\n  element.style.opacity = 1;\n  element.style.transitionProperty = 'opacity';\n  element.style.transitionDuration = duration + 'ms';\n  setTimeout(() => {\n    element.style.opacity = 0;\n    window.setTimeout(() => {\n      element.style.display = 'none';\n      element.style.removeProperty('opacity');\n      element.style.removeProperty('transition-duration');\n      element.style.removeProperty('transition-property');\n    }, duration);\n  }, 0);\n}\n\nexport function getNextSibling(element, selector) {\n  let sibling = element.nextElementSibling;\n\n  while (sibling) {\n    if (sibling.matches(selector)) {\n      return sibling;\n    }\n\n    sibling = sibling.nextElementSibling;\n  }\n};\n\nexport function getParents(element, selector) {\n  const result = [];\n  for (let parent = element && element.parentElement; parent; parent = parent.parentElement) {\n    if (parent.matches(selector)) {\n      result.push(parent);\n    }\n  }\n\n  return result;\n}\n\n/**\n * Check if element has class name\n * @param element\n * @param className\n * @return {boolean}\n */\nexport function hasClass(element, className) {\n  return (' ' + element.className + ' ').indexOf(' ' + className+ ' ') > -1;\n}\n\n/**\n * Dispatches a change on an element that will trigger, depending on the element type,\n * cascading changes on elements dependant on the one that triggered the change and that\n * belong in the same container.\n *\n * @param {Element} element A reference to the Element the change was triggered from.\n *\n * @return {void} The function does not return any value and will have the side-effect of\n *                hiding or showing dependant elements.\n */\nexport function handleDisplayDependencies(element) {\n  if (!element instanceof Element || !element.id) {\n    return;\n  }\n\n  const containerSelector = '.wpstg-container';\n  // Use the default WordPress CSS class to hide and show the objects.\n  const hiddenClass = 'hidden';\n  const elementType = element.getAttribute('type');\n\n  switch (elementType) {\n    case 'checkbox':\n      // Go as high as the container that contains this element.\n      const container = closest(element, containerSelector);\n\n      if (container === null) {\n        return;\n      }\n\n      const showIfChecked = container.querySelectorAll(`[data-show-if-checked=\"${element.id}\"]`);\n      const showIfUnchecked = container.querySelectorAll(`[data-show-if-unchecked=\"${element.id}\"]`);\n      const checked = element.checked;\n\n      if (showIfChecked.length) {\n        for (const el of showIfChecked) {\n          if (checked) {\n            el.classList.remove(hiddenClass);\n          } else {\n            el.classList.add(hiddenClass);\n          }\n        }\n      }\n\n      if (showIfUnchecked.length) {\n        for (const el of showIfUnchecked) {\n          if (checked) {\n            el.classList.add(hiddenClass);\n          } else {\n            el.classList.remove(hiddenClass);\n          }\n        }\n      }\n\n      return;\n    default:\n      // Not a type we handle.\n      return;\n  }\n}\n\n/**\n * Initializes the display status of any element that depends on the status of another to\n * either hide or show.\n *\n * @return {void} The function will have the side-effect to toggle the hide/show class from\n *                elements dependant on another to hide or show.\n */\nexport function initDependantDisplay() {\n  const displayControllerSelector = '[onchange^=\"WPStaging.handleDisplayDependencies\"]';\n  const displayControllers = document.querySelectorAll(displayControllerSelector);\n  for (const displayController of displayControllers) {\n    handleDisplayDependencies(displayController);\n  }\n}\n\n/**\n * Toggle target element set in data-wpstg-target of the given element\n *\n * @param {Element} element A reference to the Element the change was triggered from.\n *\n * @return {void} The function does not return any value and will have the side-effect of\n *                hiding or showing dependant elements.\n */\nexport function handleToggleElement(element) {\n  if (!element instanceof Element || !element.getAttribute('data-wpstg-target')) {\n    return;\n  }\n\n  const containerSelector = '.wpstg_admin';\n  // Use the default WordPress CSS class to hide and show the objects.\n  const hiddenClass = 'hidden';\n\n  // Go as high as the container that contains this element.\n  const container = closest(element, containerSelector);\n\n  if (container === null) {\n    return;\n  }\n\n  const elements = container.querySelectorAll(element.getAttribute('data-wpstg-target'));\n\n  if (elements.length) {\n    for (const el of elements) {\n      el.classList.toggle(hiddenClass);\n    }\n  }\n}\n\n/**\n * Copy text in data-wpstg-copy to element(s) in data-wpstg-target\n *\n * @param {Element} element\n *\n * @return {void}\n */\nexport function handleCopyPaste(element) {\n  if (!element instanceof Element || !element.getAttribute('data-wpstg-target') || !element.getAttribute('data-wpstg-copy')) {\n    return;\n  }\n\n  const containerSelector = '.wpstg_admin';\n\n  // Go as high as the container that contains this element.\n  const container = closest(element, containerSelector);\n\n  if (container === null) {\n    return;\n  }\n\n  navigator.clipboard.writeText(element.getAttribute('data-wpstg-copy'));\n  const elements = container.querySelectorAll(element.getAttribute('data-wpstg-target'));\n\n  if (elements.length) {\n    for (const el of elements) {\n      el.value = element.getAttribute('data-wpstg-copy', '');\n    }\n  }\n}\n\n/**\n * Copy text in data-wpstg-source to clipboard\n *\n * @param {Element} element\n *\n * @return {void}\n */\nexport function handleCopyToClipboard(element) {\n  if (!element instanceof Element || !element.getAttribute('data-wpstg-source')) {\n    return;\n  }\n\n  const containerSelector = '.wpstg_admin';\n\n  // Go as high as the container that contains this element.\n  const container = closest(element, containerSelector);\n\n  if (container === null) {\n    return;\n  }\n\n  const el = container.querySelector(element.getAttribute('data-wpstg-source'));\n\n  if (el) {\n    navigator.clipboard.writeText(el.value);\n  }\n}\n\n/**\n * A confirmation modal\n *\n * @param title\n * @param html\n * @param confirmText\n * @param confirmButtonClass\n * @return Promise\n */\nexport function confirmModal(title, html, confirmText, confirmButtonClass) {\n  return WPStagingCommon.getSwalModal(false, {\n    container: 'wpstg-swal-push-container',\n    confirmButton: confirmButtonClass + ' wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn',\n  }).fire({\n    title: title,\n    icon: 'warning',\n    html: html,\n    width: '750px',\n    focusConfirm: false,\n    confirmButtonText: confirmText,\n    showCancelButton: true,\n  });\n};\n\n","\nimport * as dom from './../../modules/wpstg-dom-utils.js';\n\n// Delay time in millisecond after which the request is send to check db connection\n// This is to make sure we have not many ajax request even when they were not required i.e. while typing.\nexport const DELAY_TIME_DB_CHECK = 300;\nexport default class WpstgCloneEdit {\n  constructor(\n      workflowSelector = '#wpstg-workflow',\n      dbCheckTriggerClass = '.wpstg-edit-clone-db-inputs',\n      wpstgObject = wpstg,\n      databaseCheckAction = 'wpstg_database_connect',\n  ) {\n    this.workflow = dom.qs(workflowSelector);\n    this.dbCheckTriggerClass = dbCheckTriggerClass;\n    this.wpstgObject = wpstgObject;\n    this.databaseCheckAction = databaseCheckAction;\n    this.dbCheckTimer = null;\n    this.abortDbCheckController = null;\n    this.dbCheckCallStatus = false;\n    this.notyf = new Notyf({\n      duration: 10000,\n      position: {\n        x: 'center',\n        y: 'bottom',\n      },\n      dismissible: true,\n      types: [\n        {\n          type: 'warning',\n          background: 'orange',\n          icon: false,\n        },\n        {\n          type: 'error',\n          background: '#e01e5a',\n          duration: 2000,\n          dismissible: true,\n        },\n      ],\n    });\n    this.init();\n  }\n\n  addEvents() {\n    // early bail if workflow object not available.\n    if (this.workflow === null) {\n      return;\n    }\n\n    ['paste', 'input'].forEach( (evt) => {\n      dom.addEvent(this.workflow, evt, this.dbCheckTriggerClass, () => {\n        // abort previous database check call if it was running\n        if (this.dbCheckCallStatus === true) {\n          this.abortDbCheckController.abort();\n          this.abortDbCheckController = null;\n          this.dbCheckCallStatus = false;\n        }\n\n        // check for db connection after specific delay but reset the timer if these event occur again\n        clearTimeout(this.dbCheckTimer);\n        this.dbCheckTimer = setTimeout(() => {\n          this.checkDatabase();\n        }, DELAY_TIME_DB_CHECK);\n      });\n    });\n  }\n\n  init() {\n    this.addEvents();\n  }\n\n  checkDatabase() {\n    const idPrefix = '#wpstg-edit-clone-data-';\n    const externalDBUser = dom.qs(idPrefix + 'database-user').value;\n    const externalDBPassword = dom.qs(idPrefix + 'database-password').value;\n    const externalDBDatabase = dom.qs(idPrefix + 'database-database').value;\n    const externalDBHost = dom.qs(idPrefix + 'database-server').value;\n    const externalDBPrefix = dom.qs(idPrefix + 'database-prefix').value;\n    const externalDBSsl = dom.qs(idPrefix + 'database-ssl').checked;\n\n    if (externalDBUser === '' && externalDBPassword === '' && externalDBDatabase === '' && externalDBPrefix === '') {\n      dom.qs('#wpstg-save-clone-data').disabled = false;\n      return;\n    }\n\n    this.abortDbCheckController = new AbortController();\n    this.dbCheckCallStatus = true;\n\n    fetch(this.wpstgObject.ajaxUrl, {\n      method: 'POST',\n      signal: this.abortDbCheckController.signal,\n      credentials: 'same-origin',\n      body: new URLSearchParams({\n        action: this.databaseCheckAction,\n        accessToken: this.wpstgObject.accessToken,\n        nonce: this.wpstgObject.nonce,\n        databaseUser: externalDBUser,\n        databasePassword: externalDBPassword,\n        databaseServer: externalDBHost,\n        databaseDatabase: externalDBDatabase,\n        databasePrefix: externalDBPrefix,\n        databaseSsl: externalDBSsl,\n        databaseEnsurePrefixTableExist: true,\n      }),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }).then((response) => {\n      this.dbCheckCallStatus = false;\n      if (response.ok) {\n        return response.json();\n      }\n\n      return Promise.reject(response);\n    }).then((data) => {\n      // dismiss previous toasts\n      this.notyf.dismissAll();\n      // failed request\n      if (false === data) {\n        this.notyf.error(this.wpstgObject.i18n['dbConnectionFailed']);\n        dom.qs('#wpstg-save-clone-data').disabled = true;\n        return;\n      }\n\n      // failed db connection\n      if ('undefined' !== typeof (data.errors) && data.errors && 'undefined' !== typeof (data.success) && data.success === 'false') {\n        this.notyf.error(this.wpstgObject.i18n['dbConnectionFailed'] +'! <br/> Error: '+ data.errors);\n        dom.qs('#wpstg-save-clone-data').disabled = true;\n        return;\n      }\n\n      // prefix warning\n      if ('undefined' !== typeof (data.errors) && data.errors && 'undefined' !== typeof (data.success) && data.success === 'true') {\n        this.notyf.open({\n          type: 'warning',\n          message: 'Warning: ' + data.errors,\n        });\n        dom.qs('#wpstg-save-clone-data').disabled = true;\n        return;\n      }\n\n      // db connection successful\n      if ('undefined' !== typeof (data.success) && data.success) {\n        this.notyf.success(this.wpstgObject.i18n['dbConnectionSuccess']);\n        dom.qs('#wpstg-save-clone-data').disabled = false;\n      }\n    }).catch((error) => {\n      this.dbCheckCallStatus = false;\n      console.warn(this.wpstgObject.i18n['somethingWentWrong'], error);\n      dom.qs('#wpstg-save-clone-data').disabled = true;\n    });\n  }\n}\n","\nimport * as dom from './../../modules/wpstg-dom-utils';\n\n/**\n * Push Table Selection\n */\nexport default class WpstgPushTableSelection {\n  constructor(\n      workflowSelector = '#wpstg-workflow',\n      inputSelector = '#wpstg_select_tables_pushing',\n      wpstgObject = wpstg,\n  ) {\n    this.workflow = dom.qs(workflowSelector);\n    this.inputSelector = inputSelector;\n    this.input = dom.qs(inputSelector);\n    this.wpstgObject = wpstgObject;\n    this.cloneID = this.input.getAttribute('data-clone');\n    this.tablePrefix = this.input.getAttribute('data-prefix');\n    this.isNetwork = this.input.getAttribute('data-network') === 'true';\n    this.areAllTablesChecked = true;\n\n    this.init();\n  }\n\n  addEvents() {\n    dom.addEvent(document.body, 'click', '.wpstg-button-show-tables', (target) => {\n      this.showAllTables();\n    });\n\n    dom.addEvent(document.body, 'click', '.wpstg-button-db-prefix', () => {\n      this.selectDefaultTables();\n    });\n\n    dom.addEvent(document.body, 'click', '.wpstg-button-unselect', () => {\n      this.toggleTableSelection();\n    });\n\n    dom.addEvent(document.body, 'change', this.inputSelector, () => {\n      this.countSelectedTables();\n    });\n  }\n\n  init() {\n    this.addEvents();\n  }\n\n  showAllTables() {\n    let includedTables = this.getIncludedTables();\n    let excludedTables = this.getExcludedTables();\n\n    if (includedTables.length > excludedTables.length) {\n      includedTables = '';\n    } else if (excludedTables.length > includedTables.length) {\n      excludedTables = '';\n    }\n\n    fetch(this.wpstgObject.ajaxUrl, {\n      method: 'POST',\n      credentials: 'same-origin',\n      body: new URLSearchParams({\n        action: 'wpstg_push_tables',\n        accessToken: this.wpstgObject.accessToken,\n        nonce: this.wpstgObject.nonce,\n        clone: this.cloneID,\n        includedTables: includedTables,\n        excludedTables: excludedTables,\n        selectedTablesWithoutPrefix: this.getSelectedTablesWithoutPrefix(),\n      }),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }).then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      return Promise.reject(response);\n    }).then((data) => {\n      // Reload current page if successful.\n      if ('undefined' !== typeof (data.success) && data.success) {\n        this.input.innerHTML = data.content;\n        dom.fadeOut(dom.qs('.wpstg-button-show-tables'), 300);\n\n        this.countSelectedTables();\n        return;\n      }\n\n      // There will be message probably in case of error\n      if ('undefined' !== typeof (data.message)) {\n        this.notyf.error(data.message);\n        return;\n      }\n\n      this.notyf.error(this.wpstgObject.i18n['somethingWentWrong']);\n    }).catch((error) => {\n      console.warn(this.wpstgObject.i18n['somethingWentWrong'], error);\n    });\n  }\n\n  getRegexPattern() {\n    let pattern = '^' + this.tablePrefix;\n    if (this.wpstgObject.isMultisite === '1' && !this.isNetwork) {\n      pattern += '([^0-9])_*';\n    }\n\n    return pattern;\n  }\n\n  selectDefaultTables() {\n    const options = this.input.querySelectorAll('.wpstg-db-table');\n    const pattern = this.getRegexPattern();\n    options.forEach((option) => {\n      const name = option.getAttribute('name', '');\n      if (name.match(pattern)) {\n        option.selected = true;\n      } else {\n        option.selected = false;\n      }\n    });\n\n    this.countSelectedTables();\n  }\n\n  toggleTableSelection() {\n    if (false === this.areAllTablesChecked) {\n      this.input.querySelectorAll('.wpstg-db-table').forEach((option) => {\n        option.selected = true;\n      });\n\n      this.workflow.querySelector('.wpstg-button-unselect').innerHTML = 'Unselect All';\n      this.areAllTablesChecked = true;\n    } else {\n      this.input.querySelectorAll('.wpstg-db-table').forEach((option) => {\n        option.selected = false;\n      });\n      this.workflow.querySelector('.wpstg-button-unselect').innerHTML = 'Select All';\n      this.areAllTablesChecked = false;\n    }\n\n    this.countSelectedTables();\n  }\n\n  getSelectedTablesWithoutPrefix() {\n    const selectedTablesWithoutPrefix = [];\n    const regexPattern = this.getRegexPattern();\n    this.input.querySelectorAll('option:checked').forEach((option) => {\n      const name = option.getAttribute('name', '');\n      if (!name.match(regexPattern)) {\n        selectedTablesWithoutPrefix.push(name);\n      }\n    });\n\n    return selectedTablesWithoutPrefix.join(this.wpstgObject.settings.directorySeparator);\n  }\n\n  getIncludedTables() {\n    const tables = [];\n    const regexPattern = this.getRegexPattern();\n    this.input.querySelectorAll('option:checked').forEach((option) => {\n      const name = option.getAttribute('name', '');\n      if (name.match(regexPattern)) {\n        tables.push(name);\n      }\n    });\n\n    return tables.join(this.wpstgObject.settings.directorySeparator);\n  }\n\n  getExcludedTables() {\n    const tables = [];\n    const regexPattern = this.getRegexPattern();\n    this.input.querySelectorAll('option:not(:checked)').forEach((option) => {\n      const name = option.getAttribute('name', '');\n      if (name.match(regexPattern)) {\n        tables.push(name);\n      }\n    });\n\n    return tables.join(this.wpstgObject.settings.directorySeparator);\n  }\n\n  countSelectedTables() {\n    const tablesCount = this.input.querySelectorAll('option:checked').length;\n    const tablesCountElement = dom.qs('#wpstg-tables-count');\n    if (tablesCount === 0) {\n      tablesCountElement.classList.add('danger');\n      tablesCountElement.innerHTML = this.wpstgObject.i18n['noTableSelected'];\n    } else {\n      tablesCountElement.classList.remove('danger');\n      tablesCountElement.innerHTML = this.wpstgObject.i18n['tablesSelected'].replace('{d}', tablesCount);\n    }\n  }\n}\n","\nimport * as dom from './../../modules/wpstg-dom-utils';\n\n/**\n * Push File Selection\n */\nexport default class WpstgPushFileSelection {\n  constructor(\n      workflowSelector = '#wpstg-workflow',\n      filesTabSelector = '#wpstg-scanning-files',\n      dirSelector = '.wpstg-check-dir',\n      wpstgObject = wpstg,\n  ) {\n    this.workflow = dom.qs(workflowSelector);\n    this.filesTabSelector = filesTabSelector;\n    this.filesTab = dom.qs(filesTabSelector);\n    this.dirSelector = dirSelector;\n    this.wpstgObject = wpstgObject;\n\n    this.init();\n  }\n\n  addEvents() {\n    dom.addEvent(this.workflow, 'change', this.filesTabSelector + ' ' + this.dirSelector, (el) => {\n      this.toggleChildren(el);\n      this.countSelectedFiles();\n    });\n  }\n\n  init() {\n    this.addEvents();\n  }\n\n  toggleChildren(el) {\n    const parent = dom.getParents(el, '.wpstg-dir')[0];\n    const checkboxes = parent.querySelectorAll('.wpstg-subdir>.wpstg-dir>' + this.dirSelector);\n    checkboxes.forEach((cb) => {\n      cb.checked = el.checked;\n    });\n  }\n\n  countSelectedFiles() {\n    const filesCount = this.filesTab.querySelectorAll(this.dirSelector + ':checked').length;\n    const filesCountElement = dom.qs('#wpstg-files-count');\n    if (filesCount === 0) {\n      filesCountElement.classList.add('danger');\n      filesCountElement.innerHTML = this.wpstgObject.i18n['noFileSelected'];\n    } else {\n      let themesCount = 0;\n      let pluginsCount = 0;\n      filesCountElement.classList.remove('danger');\n      this.filesTab.querySelectorAll('.wpstg-dir:not(.wpstg-sub-dir)>.wpstg-push-expand-dirs').forEach((head) => {\n        if (head.innerHTML === 'plugins') {\n          pluginsCount = head.nextSibling.querySelectorAll(this.dirSelector + ':checked').length;\n        }\n\n        if (head.innerHTML === 'themes') {\n          themesCount = head.nextSibling.querySelectorAll(this.dirSelector + ':checked').length;\n        }\n      });\n\n      filesCountElement.innerHTML = this.wpstgObject.i18n['filesSelected'].replace('{t}', themesCount).replace('{p}', pluginsCount);\n    }\n  }\n}\n","import WPStagingCommon from './../wpstg.js';\n\n/**\n * Loader Modal\n */\nexport default class WpstgLoader {\n  constructor(\n      wpstgObject = wpstg,\n  ) {\n    this.wpstgObject = wpstgObject;\n  }\n\n  /**\n   * Show Swal alert with loader and send ajax request to fetch content of alert.\n   * @return Promise\n   */\n  showModal() {\n    const swalPromise = this.loadModal();\n    return swalPromise;\n  }\n\n  loadModal() {\n    return WPStagingCommon.getSwalModal(false, {\n      container: 'wpstg-swal2-container wpstg-swal2-loading wpstg-swal2-loading-sm',\n    }).fire({\n      title: '',\n      icon: 'warning',\n      html: this.getAjaxLoader(),\n      width: '100px',\n      focusConfirm: false,\n      showConfirmButton: false,\n      showCancelButton: false,\n    });\n  }\n\n  getAjaxLoader() {\n    return '<div class=\"wpstg-swal2-ajax-loader\"><img src=\"' + this.wpstgObject.wpstgIcon + '\" /></div>';\n  }\n}\n","\nimport WpstgLoader from '../../modules/wpstg-loader.js';\nimport * as dom from './../../modules/wpstg-dom-utils.js';\n\nexport default class WpstgRemoteStorage {\n  constructor(\n      revokeButtonSelector = '#wpstg-btn-provider-revoke',\n      revokeProviderFormSelector = '#wpstg-provider-revoke-form',\n      revokeAction = 'wpstg-provider-revoke',\n      settingsButtonSelector = '#wpstg-btn-save-provider-settings',\n      settingsFormSelector = '#wpstg-provider-settings-form',\n      settingsAction = 'wpstg-provider-settings',\n      authenticateButtonSelector = '#wpstg-btn-provider-authenticate',\n      authenticateFormSelector = '#wpstg-provider-authenticate-form',\n      authenticateAction = 'wpstg-provider-authenticate',\n      testConnectionButtonSelector = '#wpstg-btn-provider-test-connection',\n      testConnectionFieldsSelector = '#wpstg-provider-test-connection-fields',\n      testConnectionAction = 'wpstg-provider-test-connection',\n      wpstgObject = wpstg,\n  ) {\n    this.revokeButtonSelector = revokeButtonSelector;\n    this.revokeForm = dom.qs(revokeProviderFormSelector);\n    this.revokeAction = revokeAction;\n    this.settingsButtonSelector = settingsButtonSelector;\n    this.settingsForm = dom.qs(settingsFormSelector);\n    this.settingsAction = settingsAction;\n    this.authenticateButtonSelector = authenticateButtonSelector;\n    this.authenticateForm = dom.qs(authenticateFormSelector);\n    this.authenticateAction = authenticateAction;\n    this.testConnectionButtonSelector = testConnectionButtonSelector;\n    this.testConnectionFields = dom.qs(testConnectionFieldsSelector);\n    this.testConnectionAction = testConnectionAction;\n    this.wpstgObject = wpstgObject;\n    this.notyf = new Notyf({\n      duration: 2000,\n      position: {\n        x: 'center',\n        y: 'bottom',\n      },\n      dismissible: true,\n      types: [\n        {\n          type: 'warning',\n          background: 'orange',\n          icon: false,\n        },\n        {\n          type: 'error',\n          background: '#e01e5a',\n          icon: true,\n        },\n      ],\n    });\n    this.init();\n  }\n\n  addEvents() {\n    dom.addEvent(document.body, 'click', this.revokeButtonSelector, async (target) => {\n      await this.sendRevokeRequest();\n    });\n\n    dom.addEvent(document.body, 'click', this.settingsButtonSelector, async (target) => {\n      await this.sendSettingsRequest();\n    });\n\n    dom.addEvent(document.body, 'click', this.authenticateButtonSelector, async (target) => {\n      await this.sendAuthenticateRequest();\n    });\n\n    dom.addEvent(document.body, 'click', this.testConnectionButtonSelector, async (target) => {\n      await this.sendTestConnectionRequest();\n    });\n\n    dom.addEvent(document.body, 'change', '[name=\\'ftp_type\\']', async (target) => {\n      await this.toggleSftpFields();\n    });\n\n    dom.addEvent(document.body, 'change', '[name=\\'s3_provider\\']', async (target) => {\n      await this.toggleS3GenericFields();\n    });\n  }\n\n  init() {\n    this.addEvents();\n  }\n\n  async sendRevokeRequest() {\n    const provider = this.revokeForm.querySelector('input[name=\"provider\"]').value;\n    try {\n      const response = await fetch(this.wpstgObject.ajaxUrl, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: new URLSearchParams({\n          action: this.revokeAction,\n          accessToken: this.wpstgObject.accessToken,\n          nonce: this.wpstgObject.nonce,\n          provider: provider,\n        }),\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      });\n\n      if (!response.ok) {\n        console.error(`An error has occured: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      if (data.success) {\n        this.notyf.success(data.message);\n        setTimeout(() => {\n          window.location.reload();\n        }, 3000);\n        return;\n      }\n\n      this.notyf.error(data.message);\n    } catch (error) {\n      console.warn(error);\n    }\n  }\n\n  async sendSettingsRequest() {\n    const loader = new WpstgLoader();\n    const swal = loader.showModal();\n\n    const formData = new FormData(this.settingsForm);\n    formData.append('action', this.settingsAction);\n    formData.append('accessToken', this.wpstgObject.accessToken);\n    formData.append('nonce', this.wpstgObject.nonce);\n\n    const queryString = new URLSearchParams(formData);\n    try {\n      const response = await fetch(this.wpstgObject.ajaxUrl, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: queryString,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      });\n\n      if (!response.ok) {\n        console.error(`An error has occured: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      if (!data.success) {\n        this.notyf.error(data.message);\n      }\n\n      if (data.warning) {\n        this.notyf.open({\n          type: 'warning',\n          message: data.message,\n        });\n      } else {\n        this.notyf.success(data.message);\n      }\n\n      setTimeout(() => {\n        window.location.reload();\n      }, 2000);\n    } catch (error) {\n      console.warn(error);\n    } finally {\n      swal.close();\n    }\n  }\n\n  async sendAuthenticateRequest() {\n    const formData = new FormData(this.authenticateForm);\n    formData.append('action', this.authenticateAction);\n    formData.append('accessToken', this.wpstgObject.accessToken);\n    formData.append('nonce', this.wpstgObject.nonce);\n    const queryString = new URLSearchParams(formData);\n    try {\n      const response = await fetch(this.wpstgObject.ajaxUrl, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: queryString,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      });\n\n      if (!response.ok) {\n        console.error(`An error has occured: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      if (data.success) {\n        this.notyf.success(data.message);\n        setTimeout(() => {\n          window.location.reload();\n        }, 2000);\n        return;\n      }\n\n      this.notyf.error(data.message);\n    } catch (error) {\n      console.warn(error);\n    }\n  }\n\n  async sendTestConnectionRequest() {\n    const loader = new WpstgLoader();\n    const swal = loader.showModal();\n\n    const fields = this.testConnectionFields.querySelectorAll('[name]');\n    const formData = new FormData();\n    formData.append('action', this.testConnectionAction);\n    formData.append('accessToken', this.wpstgObject.accessToken);\n    formData.append('nonce', this.wpstgObject.nonce);\n    fields.forEach((element) => {\n      console.log(element);\n      if (element.type === 'check' || element.type === 'checkbox') {\n        formData.append(element.getAttribute('name'), element.checked);\n        return;\n      }\n\n      formData.append(element.getAttribute('name'), element.value);\n    });\n\n    const queryString = new URLSearchParams(formData);\n    try {\n      const response = await fetch(this.wpstgObject.ajaxUrl, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: queryString,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      });\n\n      if (!response.ok) {\n        console.error(`An error has occured: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      if (data.success) {\n        this.notyf.success(data.message);\n        return;\n      }\n\n      this.notyf.error(data.message);\n    } catch (error) {\n      console.warn(error);\n    } finally {\n      swal.close();\n    }\n  }\n\n  toggleSftpFields() {\n    const ftpType = document.querySelector('[name=\\'ftp_type\\']');\n    const sftpElements = document.querySelectorAll('.only-sftp');\n    const ftpElements = document.querySelectorAll('.only-ftp');\n    if (ftpType.value === 'ftp') {\n      if (sftpElements.length) {\n        for (const el of sftpElements) {\n          el.classList.add('hidden');\n        }\n      }\n\n      if (ftpElements.length) {\n        for (const el of ftpElements) {\n          el.classList.remove('hidden');\n        }\n      }\n\n      return;\n    }\n\n    if (sftpElements.length) {\n      for (const el of sftpElements) {\n        el.classList.remove('hidden');\n      }\n    }\n\n    if (ftpElements.length) {\n      for (const el of ftpElements) {\n        el.classList.add('hidden');\n      }\n    }\n  }\n\n  toggleS3GenericFields() {\n    const s3Provider = document.querySelector('[name=\\'s3_provider\\']');\n    const isCustomProvider = s3Provider.value === '';\n    const customFieldsContainer = document.getElementById('wpstg-s3-custom-provider-fields');\n    customFieldsContainer.style.display = isCustomProvider ? 'block' : 'none';\n  }\n}\n","import * as dom from './wpstg-dom-utils.js';\n\n/**\n * Fetch directory direct child directories\n */\nexport default class WpstgDirectoryNavigation {\n  constructor(\n      directoryListingSelector = '#wpstg-directories-listing',\n      workflowSelector = '#wpstg-workflow',\n      wpstgObject = wpstg,\n      notyf = null,\n  ) {\n    this.directoryListingContainer = dom.qs(directoryListingSelector);\n    this.workflow = dom.qs(workflowSelector);\n    this.wpstgObject = wpstgObject;\n    this.dirCheckboxSelector = '.wpstg-check-dir';\n    this.dirExpandSelector = '.wpstg-expand-dirs';\n    this.unselectAllDirsSelector = '.wpstg-unselect-dirs';\n    this.selectDefaultDirsSelector = '.wpstg-select-dirs-default';\n    this.fetchChildrenAction = 'wpstg_fetch_dir_children';\n    this.currentCheckboxElement = null;\n    this.currentParentDiv = null;\n    this.currentLoader = null;\n    this.existingExcludes = [];\n    this.excludedDirectories = [];\n    this.isDefaultSelected = false;\n    this.notyf = notyf;\n\n    this.init();\n  }\n\n  addEvents() {\n    if (this.directoryListingContainer === null) {\n      console.log('Error: directory navigation add events');\n      return;\n    }\n\n    dom.addEvent(this.directoryListingContainer, 'change', this.dirCheckboxSelector, (element, event) => {\n      event.preventDefault();\n    });\n\n    dom.addEvent(this.directoryListingContainer, 'click', this.dirExpandSelector, (element, event) => {\n      event.preventDefault();\n      if (this.toggleDirExpand(element)) {\n        this.sendRequest(this.fetchChildrenAction, element);\n      }\n    });\n\n    dom.addEvent(this.directoryListingContainer, 'click', this.unselectAllDirsSelector, () => {\n      this.unselectAll();\n    });\n\n    dom.addEvent(this.directoryListingContainer, 'click', this.selectDefaultDirsSelector, () => {\n      this.selectDefault();\n    });\n\n    dom.addEvent(this.directoryListingContainer, 'click', '.wpstg-expand-dirs', (target, event) => {\n      event.preventDefault();\n      this.toggleDirectoryNavigation(target);\n    });\n\n    dom.addEvent(this.directoryListingContainer, 'change', 'input.wpstg-check-dir', (target) => {\n      this.updateDirectorySelection(target);\n    });\n  }\n\n  init() {\n    this.addEvents();\n    this.parseExcludes();\n  }\n\n  /**\n   * Toggle Dir Expand,\n   * Return true if children aren't fetched\n   * @param {HTMLElement} element\n   * @return {boolean}\n   */\n  toggleDirExpand(element) {\n    this.currentParentDiv = element.parentElement;\n    this.currentCheckboxElement = element.previousSibling;\n    this.currentLoader = this.currentParentDiv.querySelector('.wpstg-is-dir-loading');\n    if (this.currentCheckboxElement.getAttribute('data-navigateable', 'false') === 'false') {\n      return false;\n    }\n\n    if (this.currentCheckboxElement.getAttribute('data-scanned', 'false') === 'false') {\n      return true;\n    }\n\n    return false;\n  }\n\n  sendRequest(action) {\n    if (this.currentLoader !== null) {\n      this.currentLoader.style.display = 'inline-block';\n    }\n\n    const changed = this.currentCheckboxElement.getAttribute('data-changed');\n\n    fetch(this.wpstgObject.ajaxUrl, {\n      method: 'POST',\n      credentials: 'same-origin',\n      body: new URLSearchParams({\n        action: action,\n        accessToken: this.wpstgObject.accessToken,\n        nonce: this.wpstgObject.nonce,\n        dirPath: this.currentCheckboxElement.value,\n        isChecked: this.currentCheckboxElement.checked,\n        forceDefault: changed === 'true',\n      }),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }).then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      return Promise.reject(response);\n    }).then((data) => {\n      if ('undefined' !== typeof (data.success) && data.success) {\n        this.currentCheckboxElement.setAttribute('data-scanned', true);\n        const dirContainer = document.createElement('div');\n        dirContainer.classList.add('wpstg-dir');\n        dirContainer.classList.add('wpstg-subdir');\n        dirContainer.innerHTML = JSON.parse(data.directoryListing);\n        this.currentParentDiv.appendChild(dirContainer);\n        if (this.currentLoader !== null) {\n          this.currentLoader.style.display = 'none';\n        }\n\n        dom.slideDown(dirContainer);\n\n        return;\n      }\n\n      if (this.notyf !== null) {\n        this.notyf.error(this.wpstgObject.i18n['somethingWentWrong']);\n      } else {\n        alert('Error: ' + this.wpstgObject.i18n['somethingWentWrong']);\n      }\n    }).catch((error) => {\n      console.warn(this.wpstgObject.i18n['somethingWentWrong'], error);\n    });\n  }\n\n  getExcludedDirectories() {\n    this.excludedDirectories = [];\n    this.directoryListingContainer.querySelectorAll('.wpstg-dir input:not(:checked)').forEach((element) => {\n      if (!this.isParentExcluded(element.value)) {\n        this.excludedDirectories.push(element.value);\n      }\n    });\n\n    if (!this.existingExcludes) {\n      this.existingExcludes = [];\n    }\n\n    this.existingExcludes.forEach((exclude) => {\n      if (!this.isParentExcluded(exclude) && !this.isScanned(exclude)) {\n        this.excludedDirectories.push(exclude);\n      }\n    });\n\n    return this.excludedDirectories.join(this.wpstgObject.settings.directorySeparator);\n  }\n\n  /**\n   * @param {string} path\n   * @return {bool}\n   */\n  isParentExcluded(path) {\n    let isParentAlreadyExcluded = false;\n    this.excludedDirectories.forEach((dir) => {\n      if (path.startsWith(dir + '/')) {\n        isParentAlreadyExcluded = true;\n      }\n    });\n\n    return isParentAlreadyExcluded;\n  }\n\n  getExtraDirectoriesRootOnly() {\n    this.getExcludedDirectories();\n    const extraDirectories = [];\n    this.directoryListingContainer.querySelectorAll(':not(.wpstg-subdir)>.wpstg-dir>input.wpstg-wp-non-core-dir:checked').forEach((element) => {\n      extraDirectories.push(element.value);\n    });\n\n    // Check if extra directories text area exists\n    // TODO: remove extraCustomDirectories code if no one require extraCustomDirectories...\n    const extraDirectoriesTextArea = dom.qs('#wpstg_extraDirectories');\n    if (extraDirectoriesTextArea === null || extraDirectoriesTextArea.value === '') {\n      return extraDirectories.join(this.wpstgObject.settings.directorySeparator);\n    }\n\n    const extraCustomDirectories = extraDirectoriesTextArea.value.split(/\\r?\\n/);\n\n    return extraDirectories.concat(extraCustomDirectories).join(this.wpstgObject.settings.directorySeparator);\n  }\n\n  unselectAll() {\n    this.directoryListingContainer.querySelectorAll('.wpstg-dir input').forEach((element) => {\n      element.checked = false;\n    });\n\n    this.countSelectedFiles();\n  }\n\n  selectDefault() {\n    // unselect all checkboxes\n    this.unselectAll();\n\n    // only select those checkboxes whose class is wpstg-wp-core-dir\n    this.directoryListingContainer.querySelectorAll('.wpstg-dir input.wpstg-wp-core-dir').forEach((element) => {\n      element.checked = true;\n    });\n\n    // then unselect those checkboxes whose parent has wpstg extra checkbox\n    this.directoryListingContainer.querySelectorAll('.wpstg-dir > .wpstg-wp-non-core-dir').forEach((element) => {\n      element.parentElement.querySelectorAll('input.wpstg-wp-core-dir').forEach((element) => {\n        element.checked = false;\n      });\n    });\n\n    this.isDefaultSelected = true;\n\n    this.countSelectedFiles();\n  }\n\n  parseExcludes() {\n    this.existingExcludes = this.directoryListingContainer.getAttribute('data-existing-excludes', []);\n\n    if (typeof this.existingExcludes === 'undefined' || !this.existingExcludes) {\n      this.existingExcludes = [];\n      return;\n    }\n\n    if (this.existingExcludes.length === 0) {\n      this.existingExcludes = [];\n      return;\n    }\n\n    const existingExcludes = this.existingExcludes.split(',');\n    this.existingExcludes = existingExcludes.map((exclude) => {\n      if (exclude.substr(0, 1) === '/') {\n        return exclude.slice(1);\n      }\n\n      return exclude;\n    });\n  }\n\n  isScanned(exclude) {\n    let scanned = false;\n    this.directoryListingContainer.querySelectorAll('.wpstg-dir>input').forEach((element) => {\n      if (element.value == exclude) {\n        scanned = true;\n      }\n    });\n\n    return scanned;\n  }\n\n  toggleDirectoryNavigation(element) {\n    const cbElement = element.previousSibling;\n    if (cbElement.getAttribute('data-navigateable', 'false') === 'false') {\n      return;\n    }\n\n    if (cbElement.getAttribute('data-scanned', 'false') === 'false') {\n      return;\n    }\n\n    const subDirectories = dom.getNextSibling(element, '.wpstg-subdir');\n\n    if (subDirectories.style.display === 'none') {\n      dom.slideDown(subDirectories);\n    } else {\n      dom.slideUp(subDirectories);\n    }\n  }\n\n  updateDirectorySelection(element) {\n    const parent = element.parentElement;\n    element.setAttribute('data-changed', 'true');\n    if (element.checked) {\n      dom.getParents(parent, '.wpstg-dir').forEach((parElem) => {\n        for (let i = 0; i < parElem.children.length; i++) {\n          if (parElem.children[i].matches('.wpstg-check-dir')) {\n            parElem.children[i].checked = true;\n          }\n        }\n      });\n      parent.querySelectorAll('.wpstg-expand-dirs').forEach((x) => {\n        if (x.textContent === 'wp-admin' || x.textContent === 'wp-includes') {\n          return;\n        }\n        x.classList.remove('disabled');\n      });\n      parent.querySelectorAll('.wpstg-subdir .wpstg-check-dir').forEach((x) => {\n        x.checked = true;\n      });\n    } else {\n      parent.querySelectorAll('.wpstg-expand-dirs, .wpstg-check-subdirs').forEach((x) => {\n        x.classList.add('disabled');\n      });\n      parent.querySelectorAll('.wpstg-dir .wpstg-check-dir').forEach((x) => {\n        x.checked = false;\n      });\n    }\n\n    this.countSelectedFiles();\n  }\n\n  countSelectedFiles() {\n    const themesCount = this.directoryListingContainer.querySelectorAll('[data-content-type=\"theme\"]:checked').length;\n    const pluginsCount = this.directoryListingContainer.querySelectorAll('[data-content-type=\"plugin\"]:checked').length;\n    const filesCountElement = dom.qs('#wpstg-files-count');\n    if (themesCount === 0 && pluginsCount === 0) {\n      filesCountElement.classList.add('danger');\n      filesCountElement.innerHTML = this.wpstgObject.i18n['noFileSelected'];\n    } else {\n      filesCountElement.classList.remove('danger');\n      filesCountElement.innerHTML = this.wpstgObject.i18n['filesSelected'].replace('{t}', themesCount).replace('{p}', pluginsCount);\n    }\n  }\n}\n","\nimport * as dom from '../../modules/wpstg-dom-utils.js';\n\nexport default class WpstgCloneGenerateLoginLink {\n  constructor(\n  ) {\n    this.generateLoginLink();\n  }\n\n  generateLoginLink() {\n    const notyfG = new Notyf({\n      duration: 4000,\n      position: {\n        x: 'center',\n        y: 'bottom',\n      },\n      dismissible: true,\n    });\n    const $that = this;\n\n    dom.addEvent(document.body, 'click', '.wpstg-generate-login-link-action', function(element) {\n      WPStaging.ajax(\n          {\n            action: 'wpstg_render_login_link_user_interface',\n            clone: element.getAttribute('data-clone'),\n            cloneName: element.getAttribute('data-name'),\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n          },\n          function(response) {\n            dom.qs('#wpstg-workflow').innerHTML=response;\n          },\n          'HTML',\n      );\n    });\n    dom.addEvent(document.body, 'click', '#wpstg-generate-login-link', function(element) {\n      const html = '<p class=\\'wpstg-push-confirmation-message\\'> ' + element.getAttribute('data-alert-body') + '</p>';\n      dom.confirmModal(element.getAttribute('data-alert-title'), html, element.getAttribute('data-confirm-btn-text'), 'wpstg-confirm-link-save').then(function(result) {\n        if (result.value) {\n          const idPrefix = '#wpstg-generate-login-link-';\n          const cloneID = dom.qs(idPrefix + 'clone-id').value;\n          const role = dom.qs(idPrefix + 'role').value;\n          const minutes = dom.qs(idPrefix + 'minutes').value;\n          const hours = dom.qs(idPrefix + 'hours').value;\n          const days = dom.qs(idPrefix + 'days').value;\n          const url = dom.qs(idPrefix + 'generated').getAttribute('data-url');\n          const uniqueid = Date.now().toString();\n          WPStaging.ajax({\n            action: 'wpstg_save_generated_link_data',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n            cloneID,\n            role,\n            minutes,\n            hours,\n            days,\n            uniqueid,\n          }, function(response) {\n            if (response.success) {\n              dom.qs('#wpstg-generate-login-link-head').style.display = '';\n              dom.qs('#wpstg-generate-login-link-generated').innerText=url + uniqueid;\n              notyfG.success(response.data.message);\n            } else {\n              notyfG.error(response.data.message);\n            }\n            return;\n          }, 'json');\n        }\n      });\n    });\n    dom.addEvent(document.body, 'mouseover', '#wpstg-generate-login-link-generated', function(e) {\n      dom.qs('#wpstg-generate-login-link-copy-text').innerText=dom.qs('#wpstg-generate-login-link-copy-text').getAttribute('data-copy');\n      dom.qs('#wpstg-generate-login-link-copy-text').style.display = '';\n    });\n    dom.addEvent(document.body, 'mouseleave', '#wpstg-generate-login-link-generated', function(e) {\n      dom.qs('#wpstg-generate-login-link-copy-text').style.display = 'none';\n    });\n    dom.addEvent(document.body, 'click', '#wpstg-generate-login-link-generated', function(element) {\n      navigator.clipboard.writeText(element.innerHTML);\n      dom.qs('#wpstg-generate-login-link-copy-text').innerText=dom.qs('#wpstg-generate-login-link-copy-text').getAttribute('data-copied');\n    });\n  };\n}\n","\nimport * as dom from '../../modules/wpstg-dom-utils.js';\nimport WPStagingCommon from '../../wpstg.js';\n\nexport default class WpstgSyncAccount {\n  constructor(\n  ) {\n    this.syncAccount();\n  }\n\n  syncAccount() {\n    const $that = this;\n\n    dom.addEvent(document.body, 'click', '.wpstg-sync-account', function(e) {\n      const $this = dom.qs('.wpstg-sync-account');\n      const dataset = $this.dataset;\n      const html = '<p class=\\'wpstg-push-confirmation-message\\'> ' + dataset.alertBody + '</p>';\n      $that.confirmModal(dataset.alertTitle, html, dataset.confirmBtnText, 'wpstg-confirm-sync-account').then(function(result) {\n        const cloneID = dataset.clone;\n\n        if (result.value) {\n          WPStaging.ajax({\n            action: 'wpstg_sync_account',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n            clone: cloneID,\n          }, function(response) {\n            if (response.data.message) {\n              if (response.success) {\n                WPStagingCommon.showSuccessModal(response.data.message);\n              } else {\n                WPStagingCommon.showErrorModal(response.data.message);\n              }\n            }\n          }, 'json', false);\n          return;\n        }\n      });\n    });\n  };\n\n  /**\n   * A confirmation modal\n   *\n   * @param html\n   * @param confirmText\n   * @param confirmButtonClass\n   * @return Promise\n   */\n  confirmModal(title, html, confirmText, confirmButtonClass) {\n    return WPStagingCommon.getSwalModal(false, {\n      container: 'wpstg-swal-push-container',\n      confirmButton: confirmButtonClass + ' wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn',\n    }).fire({\n      title: title,\n      icon: 'warning',\n      html: html,\n      width: '750px',\n      focusConfirm: false,\n      confirmButtonText: confirmText,\n      showCancelButton: true,\n    });\n  };\n}\n","import WpstgCloneEdit from './modules/wpstg-clone-edit.js';\nimport WpstgPushTableSelection from './modules/wpstg-push-table-selection.js';\nimport WpstgPushFileSelection from './modules/wpstg-push-file-selection.js';\nimport WpstgRemoteStorage from './modules/wpstg-remote-storage.js';\nimport WpstgDirectoryNavigation from '../modules/wpstg-directory-navigation.js';\nimport WpstgCloneGenerateLoginLink from './modules/wpstg-clone-generate-login-link.js';\nimport WpstgSyncAccount from './modules/wpstg-sync-account.js';\nimport WPStagingCommon from '../wpstg.js';\n\nconst WPStagingPro = function($) {\n  const that = {\n    isCancelled: false,\n    isFinished: false,\n    getLogs: false,\n    tableSelector: null,\n    fileSelector: null,\n    directoryNavigator: null,\n    notyf: null,\n  };\n\n  // Cache Elements\n  const cache = {elements: []};\n\n  /**\n     * Get / Set Cache for Selector\n     * @param {String} selector\n     * @return {*}\n     */\n  cache.get = function(selector) {\n    // It is already cached!\n    if ($.inArray(selector, cache.elements) !== -1) {\n      return cache.elements[selector];\n    }\n\n    // Create cache and return\n    cache.elements[selector] = jQuery(selector);\n\n    return cache.elements[selector];\n  };\n\n  /**\n     * Refreshes given cache\n     * @param {String} selector\n     */\n  cache.refresh = function(selector) {\n    selector.elements[selector] = jQuery(selector);\n  };\n\n\n  /**\n     * Ajax Scanning before starting push process\n     */\n  const startScanning = function() {\n    // Scan db and file system\n    const $workFlow = cache.get('#wpstg-workflow');\n\n\n    $workFlow\n    // Load scanning data\n        .on('click', '.wpstg-push-changes', function(e) {\n          const currentObj = this;\n          WPStaging.checkUserDbPermissions('push').then(function(data) {\n            e.preventDefault();\n\n            const $this = $(currentObj);\n\n            // Disable button\n            if ($this.attr('disabled')) {\n              return false;\n            }\n\n            // Add loading overlay\n            $workFlow.addClass('loading');\n\n            // Get clone id\n            const cloneID = $(currentObj).data('clone');\n\n            // Prepare data\n            that.data = {\n              action: 'wpstg_scan',\n              clone: cloneID,\n              accessToken: wpstg.accessToken,\n              nonce: wpstg.nonce,\n            };\n\n            // Send ajax request\n            WPStaging.ajax(\n                that.data,\n                function(response) {\n                  if (response.length < 1) {\n                    showError(\n                        'Something went wrong! No response.  Go to WP Staging > Settings and lower \\'File Copy Limit\\' and \\'DB Query Limit\\'. Also set \\'CPU Load Priority to low \\'' +\n                                  'and try again. If that does not help, ' +\n                                  '<a href=\\'https://wp-staging.com/support/\\' target=\\'_blank\\'>open a support ticket</a> ',\n                    );\n                  }\n\n                  // Styling of elements\n                  $workFlow.removeClass('loading').html(response);\n\n                  WPStaging.switchStep(2);\n\n                  cache.get('.wpstg-step3-cloning').hide();\n                  cache.get('.wpstg-step3-pushing').show();\n\n                  cache.get('.wpstg-loader').hide();\n                  that.directoryNavigator = new WpstgDirectoryNavigation('#wpstg-scanning-files', '#wpstg-workflow', wpstg, that.notyf);\n                  that.directoryNavigator.countSelectedFiles();\n                  that.tableSelector = new WpstgPushTableSelection();\n                  that.fileSelector = new WpstgPushFileSelection();\n                  that.tableSelector.countSelectedTables();\n                  that.fileSelector.countSelectedFiles();\n                },\n                'HTML',\n            );\n          });\n        })\n        // Previous Button\n        .on('click', '.wpstg-prev-step-link', function(e) {\n          e.preventDefault();\n          WPStaging.loadOverview();\n        })\n        .on('click', '#wpstg-use-target-dir', function(e) {\n          e.preventDefault();\n          $('#wpstg_clone_dir').val(this.getAttribute('data-path'));\n        })\n        .on('click', '#wpstg-use-target-hostname', function(e) {\n          e.preventDefault();\n          $('#wpstg_clone_hostname').val(this.getAttribute('data-uri'));\n        })\n        .on('change', '#wpstg-delete-upload-before-pushing', function(e) {\n          if (e.currentTarget.checked) {\n            $('#wpstg-backup-upload-container').show();\n          } else {\n            $('#wpstg-backup-upload-container').hide();\n            $('#wpstg-backup-upload-before-pushing').removeAttr('checked');\n          }\n        });\n  };\n\n\n  // Start the whole pushing process\n  const startProcess = function() {\n    const $workFlow = cache.get('#wpstg-workflow');\n\n    // Click push changes button\n    $workFlow.on('click', '#wpstg-push-changes', function(e) {\n      e.preventDefault();\n\n      // Hide db tables and folder selection\n      cache.get('.wpstg-tabs-wrapper').hide();\n      cache.get('#wpstg-push-changes').hide();\n\n      // Show confirmation modal\n      const cloneName = cache.get('#wpstg-push-changes').data('clone-name');\n      const html = '<p class=\\'wpstg-push-confirmation-message\\'>This will overwrite the production/live site and its plugins, themes and media assets with data from the staging site: \"' + cloneName + '\".  <br/><br/>Database data will be overwritten for each selected table. Take care if you use a shop system like WooCommerce and read the <a href=\"https://wp-staging.com/docs/skip-woocommerce-orders-and-products/\" target=\"_blank\">FAQ</a>. <br/><br/><b>Important:</b> Before you proceed make sure that you have a full site backup. If the pushing process is not successful contact us at <a href=\\'mailto:support@wp-staging.com\\'>support@wp-staging.com</a> or use the Contact Us button.</p>';\n\n      confirmModal('Confirm Push!', html, 'Push', 'wpstg-confirm-push').then(function(result) {\n        if (result.value) {\n          cache.get('#wpstg-push-changes').attr('disabled', true);\n          cache.get('.wpstg-prev-step-link').attr('disabled', true);\n          cache.get('#wpstg-scanning-files').hide();\n          cache.get('.wpstg-progress-bar-wrapper').show();\n          cache.get('#wpstg-cancel-pushing').show(); // show cancel button\n          WPStaging.switchStep(3);\n          window.addEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n          processing();\n\n          return;\n        }\n\n        // Show db tables and folder selection\n        cache.get('.wpstg-tabs-wrapper').show();\n        cache.get('#wpstg-push-changes').show();\n      });\n    })\n    // Cancel pushing process\n        .on('click', '#wpstg-cancel-pushing', function() {\n          if (!confirm('Are you sure you want to cancel pushing process?')) {\n            return false;\n          }\n          cancelPushingProcess();\n        });\n  };\n\n  var cancelPushingProcess = function cancelPushingProcess() {\n    WPStaging.ajax({\n      action: 'wpstg_cancel_push_processing',\n      accessToken: wpstg.accessToken,\n      nonce: wpstg.nonce,\n    }, function(response) {\n      if (response.success) {\n        that.isCancelled = true;\n        cache.get('.wpstg-loader').hide();\n        cache.get('#wpstg-cancel-pushing').hide();\n        window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n        WPStaging.loadOverview();\n        return;\n      }\n    }, 'json', false);\n  };\n\n  /**\n     * Start ajax processing\n     * @return string\n     */\n  var processing = function() {\n    // Show loader gif\n    cache.get('.wpstg-loader').show();\n\n    // Show logging window\n    cache.get('.wpstg-log-details').show();\n\n    // Get clone id\n    const cloneID = cache.get('#wpstg-push-changes').data('clone');\n\n    const deleteUploadsBeforePush = cache.get('#wpstg-delete-upload-before-pushing')[0].checked;\n    let backupUploadsBeforePush = false;\n    if (deleteUploadsBeforePush) {\n      backupUploadsBeforePush = cache.get('#wpstg-backup-upload-before-pushing')[0].checked;\n    }\n\n    let includedTables = getSelectedTablesToPush();\n    let excludedTables = getExcludedTables();\n    let allTablesExcluded = false;\n    that.isCancelled = false;\n\n    if (includedTables.length > excludedTables.length) {\n      includedTables = '';\n    } else if (excludedTables.length > includedTables.length) {\n      excludedTables = '';\n      allTablesExcluded = includedTables === '';\n    }\n\n    WPStaging.ajax(\n        {\n          action: 'wpstg_push_processing',\n          accessToken: wpstg.accessToken,\n          nonce: wpstg.nonce,\n          clone: cloneID,\n          includedTables: includedTables,\n          excludedTables: excludedTables,\n          allTablesExcluded: allTablesExcluded,\n          selectedTablesWithoutPrefix: getSelectedTablesWithoutPrefix(),\n          includedDirectories: getIncludedDirectories(),\n          excludedDirectories: getExcludedDirectories(),\n          extraDirectories: getIncludedExtraDirectories(),\n          createBackupBeforePushing: cache.get('#wpstg-create-backup-before-pushing')[0].checked,\n          deletePluginsAndThemes: cache.get('#wpstg-remove-uninstalled-plugins-themes')[0].checked,\n          deleteUploadsBeforePushing: deleteUploadsBeforePush,\n          backupUploadsBeforePushing: backupUploadsBeforePush,\n        },\n        function(response) {\n          if (that.isCancelled) {\n            cancelPushingProcess();\n            cache.get('.wpstg-loader').hide();\n            cache.get('#wpstg-cancel-pushing').hide();\n            window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n            return;\n          }\n          // Undefined Error\n          if (false === response) {\n            showError(\n                'Something went wrong! Error: No response.  Go to WP Staging > Settings and lower \\'File Copy Limit\\' and \\'DB Query Limit\\'. Also set \\'CPU Load Priority to low \\'' +\n                        'and try again. If that does not help, ' +\n                        '<a href=\\'https://wp-staging.com/support/\\' target=\\'_blank\\'>open a support ticket</a> ',\n            );\n            cache.get('.wpstg-loader').hide();\n            window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n            return;\n          }\n\n          // Throw Error\n          if ('undefined' !== typeof (response.error) && response.error) {\n            WPStaging.showError(\n                'Something went wrong! Error: ' + response.message + '.  Go to WP Staging > Settings and lower \\'File Copy Limit\\' and \\'DB Query Limit\\'. Also set \\'CPU Load Priority to low \\'' +\n                        'and try again. If that does not help, ' +\n                        '<a href=\\'https://wp-staging.com/support/\\' target=\\'_blank\\'>open a support ticket</a> ',\n            );\n            window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n            return;\n          }\n\n          // Add Log messages\n          if ('undefined' !== typeof (response.last_msg) && response.last_msg) {\n            WPStaging.getLogs(response.last_msg);\n          }\n\n          // Continue processing\n          if (false === response.status) {\n            progressBar(response);\n            setTimeout(function() {\n              cache.get('.wpstg-loader').show();\n              processing();\n            }, wpstg.delayReq);\n          } else if (true === response.status) {\n            progressBar(response);\n            processing();\n          } else if ('finished' === response.status || ('undefined' !== typeof (response.job_done) && response.job_done)) {\n            window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n            isFinished(response);\n          }\n        },\n        'json',\n        false,\n    );\n  };\n\n  /**\n     * Test database connection\n     * @return object\n     */\n  const connectDatabase = function() {\n    const $workFlow = cache.get('#wpstg-workflow');\n    $workFlow.on('click', '#wpstg-db-connect', function(e) {\n      e.preventDefault();\n      cache.get('.wpstg-loader').show();\n      cache.get('#wpstg-db-status').hide();\n      WPStaging.ajax(\n          {\n            action: 'wpstg_database_connect',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n            databaseUser: cache.get('#wpstg_db_username').val(),\n            databasePassword: cache.get('#wpstg_db_password').val(),\n            databaseServer: cache.get('#wpstg_db_server').val(),\n            databaseDatabase: cache.get('#wpstg_db_database').val(),\n            databasePrefix: cache.get('#wpstg_db_prefix').val(),\n            databaseSsl: cache.get('#wpstg_db_ssl').is(':checked'),\n          },\n          function(response) {\n            // Undefined Error\n            if (false === response) {\n              showError(\n                  'Something went wrong! Error: No response.' +\n                            'Please try again. If that does not help, ' +\n                            '<a href=\\'https://wp-staging.com/support/\\' target=\\'_blank\\'>open a support ticket</a> ',\n              );\n              cache.get('.wpstg-loader').hide();\n              cache.get('#wpstg-db-status').remove();\n              cache.get('#wpstg-error-details').hide();\n              cache.get('#wpstg-db-connect').after('<span id=\"wpstg-db-status\" class=\"wpstg-failed\"> Failed</span>');\n              return;\n            }\n\n            // Throw Error\n            if ('undefined' !== typeof (response.errors) && response.errors) {\n              WPStaging.showError(\n                  'Something went wrong! Error: ' + response.errors +\n                            ' Please try again. If that does not help, ' +\n                            '<a href=\\'https://wp-staging.com/support/\\' target=\\'_blank\\'>open a support ticket</a> ',\n              );\n              cache.get('.wpstg-loader').hide();\n              cache.get('#wpstg-db-status').hide();\n              cache.get('#wpstg-db-error').remove();\n              cache.get('#wpstg-db-connect').after('<span id=\"wpstg-db-status\" class=\"wpstg-failed\"> Failed</span><br/><span id=\"wpstg-db-error\" class=\"wpstg--red\">Error: ' + response.errors + '</span>');\n              return;\n            }\n\n            if ('undefined' !== typeof (response.success) && response.success) {\n              cache.get('.wpstg-loader').hide();\n              cache.get('#wpstg-db-status').hide();\n              cache.get('#wpstg-error-details').hide();\n              cache.get('#wpstg-db-error').hide();\n              cache.get('#wpstg-db-connect').after('<span id=\"wpstg-db-status\" class=\"wpstg-success\"> Success</span>');\n            }\n          },\n          'json',\n          false,\n      );\n    });\n\n    // Make form fields editable\n    $workFlow.on('click', '#wpstg-ext-db', function() {\n      if (this.checked) {\n        cache.get('#wpstg_db_server').removeAttr('readonly');\n        cache.get('#wpstg_db_username').removeAttr('readonly');\n        cache.get('#wpstg_db_password').removeAttr('readonly');\n        cache.get('#wpstg_db_database').removeAttr('readonly');\n        cache.get('#wpstg_db_prefix').removeAttr('readonly');\n        cache.get('#wpstg_db_ssl').removeAttr('readonly');\n      } else {\n        cache.get('#wpstg_db_server').attr('readonly', true).val('');\n        cache.get('#wpstg_db_username').attr('readonly', true).val('');\n        cache.get('#wpstg_db_password').attr('readonly', true).val('');\n        cache.get('#wpstg_db_database').attr('readonly', true).val('');\n        cache.get('#wpstg_db_prefix').attr('readonly', true).val('');\n        cache.get('#wpstg_db_ssl').attr('readonly', true).prop('checked', false);\n      }\n    });\n  };\n\n  const editCloneData = function() {\n    // Scan db and file system\n    const $workFlow = cache.get('#wpstg-workflow');\n\n    $workFlow\n    // Load scanning data\n        .on('click', '.wpstg-edit-clone-data', function(e) {\n          e.preventDefault();\n\n          const $this = $(this);\n\n          // Disable button\n          if ($this.attr('disabled')) {\n            return false;\n          }\n\n          // Get clone id\n          const cloneID = $(this).data('clone');\n\n          // Prepare data\n          that.data = {\n            action: 'wpstg_edit_clone_data',\n            clone: cloneID,\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n          };\n\n          // Send ajax request\n          WPStaging.ajax(\n              that.data,\n              function(response) {\n                $workFlow.html(response);\n              },\n              'HTML',\n          );\n        })\n        .on('click', '.wpstg-prev-step-link', function(e) {\n          e.preventDefault();\n          WPStaging.loadOverview();\n        })\n        .on('click', '#wpstg-save-clone-data', function(e) {\n          e.preventDefault();\n\n          const idPrefix = '#wpstg-edit-clone-data-';\n          const cloneID = cache.get(idPrefix + 'clone-id').val();\n          const cloneName = cache.get(idPrefix + 'clone-name').val();\n          const directoryName = cache.get(idPrefix + 'directory-name').val();\n          const path = cache.get(idPrefix + 'path').val();\n          const url = cache.get(idPrefix + 'url').val();\n          const prefix = cache.get(idPrefix + 'prefix').val();\n          const externalDBUser = cache.get(idPrefix + 'database-user').val();\n          const externalDBPassword = cache.get(idPrefix + 'database-password').val();\n          const externalDBDatabase = cache.get(idPrefix + 'database-database').val();\n          const externalDBHost = cache.get(idPrefix + 'database-server').val();\n          const externalDBPrefix = cache.get(idPrefix + 'database-prefix').val();\n          const externalDBSsl = cache.get(idPrefix + 'database-ssl').is(':checked');\n\n          // Prepare data\n          that.data = {\n            action: 'wpstg_save_clone_data',\n            clone: cloneID,\n            cloneName: cloneName,\n            directoryName: directoryName,\n            path: path,\n            url: url,\n            prefix: prefix,\n            externalDBUser: externalDBUser,\n            externalDBPassword: externalDBPassword,\n            externalDBDatabase: externalDBDatabase,\n            externalDBHost: externalDBHost,\n            externalDBPrefix: externalDBPrefix,\n            externalDBSsl: externalDBSsl,\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n          };\n\n          WPStaging.ajax(\n              that.data,\n              function(response) {\n                if (response === 'Success') {\n                  WPStaging.loadOverview();\n                } else {\n                  alert(response);\n                }\n              },\n              'HTML',\n          );\n        });\n  };\n\n  /**\n     * All jobs are finished\n     * @param {object} response\n     * @return object\n     */\n  var isFinished = function(response) {\n    progressBar(response);\n    cache.get('.wpstg-loader').hide();\n    cache.get('.wpstg-prev-step-link').attr('disabled', false);\n    cache.get('#wpstg-cancel-pushing').hide();\n\n    WPStagingCommon.getSwalModal(true, {\n      confirmButton: 'wpstg--btn--confirm wpstg-green-button wpstg-button wpstg-link-btn wpstg-100-width',\n      popup: 'wpstg-swal-popup wpstg-push-finished centered-modal',\n    }).fire({\n      title: 'Push Successful!',\n      icon: 'success',\n      html: 'Clear the site cache if changes are not visible!',\n      width: '500px',\n      focusConfirm: true,\n    });\n  };\n\n  /**\n     * Get Included (Selected) Prefixed Database Tables\n     * @return {Array}\n     */\n  var getSelectedTablesToPush = function() {\n    if (that.tableSelector === null) {\n      return '';\n    }\n\n    return that.tableSelector.getIncludedTables();\n  };\n\n  /**\n     * Get Excluded (Unchecked) Prefixed Database Tables\n     * @return {Array}\n     */\n  var getExcludedTables = function() {\n    if (that.tableSelector === null) {\n      return '';\n    }\n\n    return that.tableSelector.getExcludedTables();\n  };\n\n  /**\n     * Get Non prefixed selected Database Tables\n     * @return {Array}\n     */\n  var getSelectedTablesWithoutPrefix = function() {\n    if (that.tableSelector === null) {\n      return '';\n    }\n\n    return that.tableSelector.getSelectedTablesWithoutPrefix();\n  };\n\n\n  /**\n     * A confirmation modal\n     *\n     * @param html\n     * @param confirmText\n     * @param confirmButtonClass\n     * @return Promise\n     */\n  var confirmModal = function(title, html, confirmText, confirmButtonClass) {\n    return WPStagingCommon.getSwalModal(false, {\n      container: 'wpstg-swal-push-container',\n      confirmButton: confirmButtonClass + ' wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn',\n    }).fire({\n      title: title,\n      icon: 'warning',\n      html: html,\n      width: '750px',\n      focusConfirm: false,\n      confirmButtonText: confirmText,\n      showCancelButton: true,\n    });\n  };\n\n  /**\n     * Get Included Directories\n     * @return {Array}\n     */\n  var getIncludedDirectories = function() {\n    const includedDirectories = [];\n\n    $('.wpstg-dir input:checked').each(function() {\n      const $this = $(this);\n      if (!$this.parent('.wpstg-dir').parents('.wpstg-dir').children('.wpstg-expand-dirs').hasClass('disabled')) {\n        includedDirectories.push($this.val());\n      }\n    });\n\n    return includedDirectories;\n  };\n\n  /**\n     * Get Excluded Directories\n     * @return {Array}\n     */\n  var getExcludedDirectories = function() {\n    const excludedDirectories = [];\n\n    $('.wpstg-dir input:not(:checked)').each(function() {\n      const $this = $(this);\n      excludedDirectories.push($this.val());\n    });\n\n    return excludedDirectories;\n  };\n\n  /**\n     * Get Included Extra Directories\n     * @return {Array}\n     */\n  var getIncludedExtraDirectories = function() {\n    var extraDirectories = [];\n\n    if (!$('#wpstg_extraDirectories').val()) {\n      return extraDirectories;\n    }\n\n    var extraDirectories = $('#wpstg_extraDirectories').val().split(/\\r?\\n/);\n\n    return extraDirectories;\n  };\n\n  var progressBar = function(response, restart) {\n    if ('undefined' === typeof (response.percentage)) {\n      return false;\n    }\n\n    if (response.job === 'JobCreateBackup') {\n      cache.get('#wpstg-progress-backup').width(response.percentage * 0.15 + '%').html(response.percentage + '%');\n      cache.get('#wpstg-processing-status').html(response.percentage.toFixed(0) + '%' + ' - Step 1 of 4 Creating backup...');\n    }\n\n    if (response.job === 'jobFileScanning' || response.job === 'jobCopy') {\n      cache.get('#wpstg-progress-backup').css('background-color', '#3bc36b');\n      cache.get('#wpstg-progress-backup').html('1. Backup');\n      // Assumption: All previous steps are done.\n      // This avoids bugs where some steps are skipped and the progress bar is incomplete as a result\n      cache.get('#wpstg-progress-backup').width('15%');\n\n      let percentage;\n      if (response.job === 'jobFileScanning') {\n        percentage = response.percentage / 2;\n      } else {\n        percentage = 50 + response.percentage / 2;\n      }\n\n      cache.get('#wpstg-progress-files').width(percentage * 0.3 + '%').html(percentage.toFixed(0) + '%');\n      cache.get('#wpstg-processing-status').html(percentage.toFixed(0) + '%' + ' - Step 2 of 4 Copying files...');\n    }\n\n    if (response.job === 'jobCopyDatabaseTmp' || response.job === 'jobSearchReplace' || response.job === 'jobData') {\n      cache.get('#wpstg-progress-files').css('background-color', '#3bc36b');\n      cache.get('#wpstg-progress-files').html('2. Files');\n      cache.get('#wpstg-progress-files').width('30%');\n\n      let percentage = 0;\n      if (response.job === 'jobCopyDatabaseTmp') {\n        percentage = response.percentage / 3;\n      } else if (response.job === 'jobSearchReplace') {\n        percentage = 100 / 3 + response.percentage / 3;\n      } else {\n        percentage = 200 / 3 + response.percentage / 3;\n      }\n\n      cache.get('#wpstg-progress-data').width(percentage * 0.4 + '%').html(percentage.toFixed(0) + '%');\n      cache.get('#wpstg-processing-status').html(percentage.toFixed(0) + '%' + ' - Step 3 of 4 Copying data...');\n    }\n    if (response.job === 'jobDatabaseRename') {\n      cache.get('#wpstg-progress-data').css('background-color', '#3bc36b');\n      cache.get('#wpstg-progress-data').html('3. Data');\n      cache.get('#wpstg-progress-data').width('40%');\n\n      cache.get('#wpstg-progress-finishing').width(response.percentage * 0.15 + '%').html(response.percentage + '%');\n      cache.get('#wpstg-processing-status').html(response.percentage.toFixed(0) + '%' + ' - Step 4 of 4 Finishing migration...');\n    }\n    if (response.status === 'finished') {\n      cache.get('#wpstg-progress-finishing').css('background-color', '#3bc36b');\n      cache.get('#wpstg-progress-finishing').html('4. Finishing migration');\n      cache.get('#wpstg-progress-finishing').width('15%');\n\n      cache.get('#wpstg-processing-status').html(response.percentage.toFixed(0) + '%' + ' - Pushing Process Finished');\n    }\n  };\n\n  that.init = function() {\n    startProcess();\n    startScanning();\n    connectDatabase();\n    editCloneData();\n    new WpstgCloneEdit();\n    new WpstgRemoteStorage();\n    new WpstgCloneGenerateLoginLink();\n    new WpstgSyncAccount();\n  };\n\n  return that;\n}(jQuery);\n\njQuery(document).ready(function($) {\n  WPStagingPro.init();\n\n  jQuery(document).on('click', '#wpstg-update-mail-settings', function(e) {\n    e.preventDefault();\n\n    $('#wpstg-update-mail-settings').attr('disabled', 'disabled');\n    const data = {\n      action: 'wpstg_update_staging_mail_settings',\n      emailsAllowed: $('#wpstg_allow_emails').is(':checked'),\n      accessToken: wpstg.accessToken,\n      nonce: wpstg.nonce,\n    };\n\n    jQuery.ajax({\n      url: ajaxurl,\n      type: 'POST',\n      data: data,\n      error: function(xhr, textStatus, errorThrown) {\n        WPStagingCommon.getSwalModal().fire(\n            'Unknown error',\n            'Please get in contact with us to solve it support@wp-staging.com',\n            'error',\n        );\n      },\n      success: function(response) {\n        let alertType = 'error';\n        if (response.success) {\n          alertType = 'success';\n        }\n\n        WPStagingCommon.getSwalModal().fire('', response.message, alertType).then(function() {\n          jQuery('.wpstg-mails-notice').slideUp('fast');\n        });\n        $('#wpstg-update-mail-settings').removeAttr('disabled');\n        return true;\n      },\n      statusCode: {\n        404: function() {\n          WPStagingCommon.getSwalModal().fire(\n              '404',\n              'Something went wrong; can\\'t find ajax request URL! Please get in contact with us to solve it support@wp-staging.com',\n              'error',\n          );\n        },\n        500: function() {\n          WPStagingCommon.getSwalModal().fire(\n              '500',\n              'Something went wrong; internal server error while processing the request! Please get in contact with us to solve it support@wp-staging.com',\n              'error',\n          );\n        },\n      },\n    });\n  });\n});\n\n// export default {}\n"],"names":["polyfillClosest","Element","prototype","closest","matches","msMatchesSelector","webkitMatchesSelector","s","el","call","parentElement","parentNode","nodeType","element","selector","parent","onOver","onOut","x","y","pX","pY","mouseOver","focused","h","state","timer","options","sensitivity","interval","timeout","handleFocus","delay","e","clearTimeout","undefined","tracker","clientX","clientY","compare","Math","abs","setTimeout","opt","focusOptionChanged","Object","assign","addFocus","removeFocus","dispatchOver","removeEventListener","addEventListener","onMouseOver","event","target","dispatchOut","onMouseOut","dispatchFocus","onFocus","dispatchBlur","onBlur","remove","$","WPStagingCommon","continueErrorHandle","retry","currentDelay","count","max","retryOnErrors","performingRequest","incrementRetry","incrementRatio","canRetry","reset","memoryExhaustArticleLink","cache","elements","get","inArray","refresh","setJobId","jobId","localStorage","setItem","getJobId","getItem","listenTooltip","wpstgHoverIntent","document","querySelector","style","visibility","getSwalModal","isContentCentered","customClasses","defaultCustomClasses","confirmButton","cancelButton","actions","popup","customClass","buttonsStyling","reverseButtons","showClass","wpstgSwal","mixin","showSuccessModal","htmlContent","fire","showConfirmButton","showCancelButton","cancelButtonText","icon","title","html","showWarningModal","showErrorModal","getSwalContainer","getContainer","closeSwalModal","close","getDataFromWordPressResponse","response","Error","hasOwnProperty","success","data","Array","length","shift","isLoading","hide","show","slugify","url","toString","toLowerCase","normalize","replace","showAjaxFatalError","prependMessage","appendMessage","showError","window","WPStaging","warnIfClosingDuringProcess","error","message","handleFetchErrors","ok","status","statusText","css","text","removeClass","resetErrors","ajax","callback","dataType","showErrors","tryCount","errorCallback","retryLimit","retryTimeout","parseInt","isNaN","ajaxurl","Date","now","type","xhr","textStatus","errorThrown","console","log","errorCode","statusCode","jQuery","qs","addEvent","evt","handler","slideDown","duration","display","overflow","height","offsetHeight","transitionProperty","transitionDuration","removeProperty","slideUp","fadeOut","opacity","getNextSibling","sibling","nextElementSibling","getParents","result","push","confirmModal","confirmText","confirmButtonClass","container","width","focusConfirm","confirmButtonText","DELAY_TIME_DB_CHECK","WpstgCloneEdit","workflowSelector","dbCheckTriggerClass","wpstgObject","databaseCheckAction","wpstg","workflow","dom","dbCheckTimer","abortDbCheckController","dbCheckCallStatus","notyf","Notyf","position","dismissible","types","background","init","addEvents","forEach","abort","checkDatabase","idPrefix","externalDBUser","value","externalDBPassword","externalDBDatabase","externalDBHost","externalDBPrefix","externalDBSsl","checked","disabled","AbortController","fetch","ajaxUrl","method","signal","credentials","body","URLSearchParams","action","accessToken","nonce","databaseUser","databasePassword","databaseServer","databaseDatabase","databasePrefix","databaseSsl","databaseEnsurePrefixTableExist","headers","then","json","Promise","reject","dismissAll","i18n","errors","open","warn","WpstgPushTableSelection","inputSelector","input","cloneID","getAttribute","tablePrefix","isNetwork","areAllTablesChecked","showAllTables","selectDefaultTables","toggleTableSelection","countSelectedTables","includedTables","getIncludedTables","excludedTables","getExcludedTables","clone","selectedTablesWithoutPrefix","getSelectedTablesWithoutPrefix","innerHTML","content","getRegexPattern","pattern","isMultisite","querySelectorAll","option","name","match","selected","regexPattern","join","settings","directorySeparator","tables","tablesCount","tablesCountElement","classList","add","WpstgPushFileSelection","filesTabSelector","dirSelector","filesTab","toggleChildren","countSelectedFiles","checkboxes","cb","filesCount","filesCountElement","themesCount","pluginsCount","head","nextSibling","WpstgLoader","showModal","swalPromise","loadModal","getAjaxLoader","wpstgIcon","WpstgRemoteStorage","revokeButtonSelector","revokeProviderFormSelector","revokeAction","settingsButtonSelector","settingsFormSelector","settingsAction","authenticateButtonSelector","authenticateFormSelector","authenticateAction","testConnectionButtonSelector","testConnectionFieldsSelector","testConnectionAction","revokeForm","settingsForm","authenticateForm","testConnectionFields","sendRevokeRequest","sendSettingsRequest","sendAuthenticateRequest","sendTestConnectionRequest","toggleSftpFields","toggleS3GenericFields","provider","location","reload","loader","swal","formData","FormData","append","queryString","warning","fields","ftpType","sftpElements","ftpElements","s3Provider","isCustomProvider","customFieldsContainer","getElementById","WpstgDirectoryNavigation","directoryListingSelector","directoryListingContainer","dirCheckboxSelector","dirExpandSelector","unselectAllDirsSelector","selectDefaultDirsSelector","fetchChildrenAction","currentCheckboxElement","currentParentDiv","currentLoader","existingExcludes","excludedDirectories","isDefaultSelected","preventDefault","toggleDirExpand","sendRequest","unselectAll","selectDefault","toggleDirectoryNavigation","updateDirectorySelection","parseExcludes","previousSibling","changed","dirPath","isChecked","forceDefault","setAttribute","dirContainer","createElement","JSON","parse","directoryListing","appendChild","alert","getExcludedDirectories","isParentExcluded","exclude","isScanned","path","isParentAlreadyExcluded","dir","startsWith","getExtraDirectoriesRootOnly","extraDirectories","extraDirectoriesTextArea","extraCustomDirectories","split","concat","map","substr","slice","scanned","cbElement","subDirectories","parElem","i","children","textContent","WpstgCloneGenerateLoginLink","generateLoginLink","notyfG","cloneName","role","minutes","hours","days","uniqueid","innerText","navigator","clipboard","writeText","WpstgSyncAccount","syncAccount","$that","$this","dataset","alertBody","alertTitle","confirmBtnText","WPStagingPro","that","isCancelled","isFinished","getLogs","tableSelector","fileSelector","directoryNavigator","startScanning","$workFlow","on","currentObj","checkUserDbPermissions","attr","addClass","switchStep","loadOverview","val","currentTarget","removeAttr","startProcess","processing","confirm","cancelPushingProcess","deleteUploadsBeforePush","backupUploadsBeforePush","getSelectedTablesToPush","allTablesExcluded","includedDirectories","getIncludedDirectories","getIncludedExtraDirectories","createBackupBeforePushing","deletePluginsAndThemes","deleteUploadsBeforePushing","backupUploadsBeforePushing","last_msg","progressBar","delayReq","job_done","connectDatabase","is","after","prop","editCloneData","directoryName","prefix","each","parents","hasClass","restart","percentage","job","toFixed","ready","emailsAllowed","alertType"],"mappings":"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"}