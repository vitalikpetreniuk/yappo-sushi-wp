{"version":3,"file":"wpstg-admin-pro.min.js","sources":["../../src/modules/wpstg-hover-intent.js","../../src/modules/wpstg-polyfill.js","../../src/wpstg.js","../../src/modules/wpstg-dom-utils.js","../../src/pro/modules/wpstg-clone-edit.js","../../src/pro/modules/wpstg-push-table-selection.js","../../src/pro/modules/wpstg-push-file-selection.js","../../src/modules/wpstg-loader.js","../../src/pro/modules/wpstg-remote-storage.js","../../src/modules/wpstg-directory-navigation.js","../../src/pro/modules/wpstg-clone-generate-login-link.js","../../src/pro/modules/wpstg-sync-account.js","../../src/pro/wpstg-admin-pro.js"],"sourcesContent":["'use strict';\n\n/**\n * This is a namespaced port of https://github.com/tristen/hoverintent,\n * with slight modification to accept selector with dynamically added element in dom,\n * instead of just already present element.\n *\n * @param {HTMLElement} parent\n * @param {string} selector\n * @param {CallableFunction} onOver\n * @param {CallableFunction} onOut\n *\n * @return {object}\n */\nexport default function(parent, selector, onOver, onOut) {\n  let x; let y; let pX; let pY;\n  let mouseOver = false;\n  let focused = false;\n  const h = {};\n  let state = 0;\n  let timer = 0;\n\n  let options = {\n    sensitivity: 7,\n    interval: 100,\n    timeout: 0,\n    handleFocus: false,\n  };\n\n  function delay(el, e) {\n    if (timer) {\n      timer = clearTimeout(timer);\n    }\n\n    state = 0;\n    return focused ? undefined : onOut(el, e);\n  }\n\n  function tracker(e) {\n    x = e.clientX;\n    y = e.clientY;\n  }\n\n  function compare(el, e) {\n    if (timer) timer = clearTimeout(timer);\n    if ((Math.abs(pX - x) + Math.abs(pY - y)) < options.sensitivity) {\n      state = 1;\n      return focused ? undefined : onOver(el, e);\n    } else {\n      pX = x;\n      pY = y;\n      timer = setTimeout(function() {\n        compare(el, e);\n      }, options.interval);\n    }\n  }\n\n  // Public methods\n  h.options = function(opt) {\n    const focusOptionChanged = opt.handleFocus !== options.handleFocus;\n    options = Object.assign({}, options, opt);\n    if (focusOptionChanged) {\n            options.handleFocus ? addFocus() : removeFocus();\n    }\n\n    return h;\n  };\n\n  function dispatchOver(el, e) {\n    mouseOver = true;\n    if (timer) {\n      timer = clearTimeout(timer);\n    }\n\n    el.removeEventListener('mousemove', tracker, false);\n\n    if (state !== 1) {\n      pX = e.clientX;\n      pY = e.clientY;\n\n      el.addEventListener('mousemove', tracker, false);\n\n      timer = setTimeout(function() {\n        compare(el, e);\n      }, options.interval);\n    }\n\n    return this;\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchOver to support dynamically added elements to dom\n   */\n  function onMouseOver(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchOver(event.target.closest(selector), event);\n    }\n  };\n\n  function dispatchOut(el, e) {\n    mouseOver = false;\n    if (timer) {\n      timer = clearTimeout(timer);\n    }\n\n    el.removeEventListener('mousemove', tracker, false);\n\n    if (state === 1) {\n      timer = setTimeout(function() {\n        delay(el, e);\n      }, options.timeout);\n    }\n\n    return this;\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchOut to support dynamically added elements to dom\n   */\n  function onMouseOut(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchOut(event.target.closest(selector), event);\n    }\n  };\n\n  function dispatchFocus(el, e) {\n    if (!mouseOver) {\n      focused = true;\n      onOver(el, e);\n    }\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchFocus to support dynamically added elements to dom\n   */\n  function onFocus(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchFocus(event.target.closest(selector), event);\n    }\n  };\n\n  function dispatchBlur(el, e) {\n    if (!mouseOver && focused) {\n      focused = false;\n      onOut(el, e);\n    }\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchBlur to support dynamically added elements to dom\n   */\n  function onBlur(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchBlur(event.target.closest(selector), event);\n    }\n  };\n\n  /**\n   * Modified to support dynamically added element\n   */\n  function addFocus() {\n    parent.addEventListener('focus', onFocus, false);\n    parent.addEventListener('blur', onBlur, false);\n  }\n\n  /**\n   * Modified to support dynamically added element\n   */\n  function removeFocus() {\n    parent.removeEventListener('focus', onFocus, false);\n    parent.removeEventListener('blur', onBlur, false);\n  }\n\n  /**\n   * Modified to support dynamically added element\n   */\n  h.remove = function() {\n    if (!parent) {\n      return;\n    }\n\n    parent.removeEventListener('mouseover', onMouseOver, false);\n    parent.removeEventListener('mouseout', onMouseOut, false);\n    removeFocus();\n  };\n\n  /**\n   * Modified to support dynamically added element\n   */\n  if (parent) {\n    parent.addEventListener('mouseover', onMouseOver, false);\n    parent.addEventListener('mouseout', onMouseOut, false);\n  }\n\n  return h;\n};\n","/**\n * Polyfills the `Element.prototype.closest` function if not available in the browser.\n *\n * @return {Function} A function that will return the closest element, by selector, to this element.\n */\nfunction polyfillClosest() {\n  if (Element.prototype.closest) {\n    if (!Element.prototype.matches) {\n      Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n    }\n\n    Element.prototype.closest = function(s) {\n      let el = this;\n\n      do {\n        if (Element.prototype.matches.call(el, s)) return el;\n        el = el.parentElement || el.parentNode;\n      } while (el !== null && el.nodeType === 1);\n      return null;\n    };\n  }\n\n  return function(element, selector) {\n    return element instanceof Element ? element.closest(selector) : null;\n  };\n}\n\nexport const closest = polyfillClosest();\n","import wpstgHoverIntent from './modules/wpstg-hover-intent';\n\nexport default (function($) {\n  const WPStagingCommon = {\n    continueErrorHandle: true,\n    retry: {\n      currentDelay: 0,\n      count: 0,\n      max: 10,\n      retryOnErrors: [401, 403, 404, 429, 502, 503, 504],\n      performingRequest: false,\n      incrementRetry: function(incrementRatio = 1.25) {\n        WPStagingCommon.retry.performingRequest = true;\n        if (WPStagingCommon.retry.currentDelay === 0) {\n          // start with a delay of 1sec\n          WPStagingCommon.retry.currentDelay = 1000;\n          WPStagingCommon.retry.count = 1;\n        }\n\n        WPStagingCommon.retry.currentDelay += (500 * WPStagingCommon.retry.count * incrementRatio);\n        WPStagingCommon.retry.count++;\n      },\n      canRetry: function() {\n        return WPStagingCommon.retry.count < WPStagingCommon.retry.max;\n      },\n      reset: function() {\n        WPStagingCommon.retry.currentDelay = 0;\n        WPStagingCommon.retry.count = 0;\n        WPStagingCommon.retry.performingRequest = false;\n      },\n    },\n    memoryExhaustArticleLink: 'https://wp-staging.com/docs/php-fatal-error-allowed-memory-size-of-134217728-bytes-exhausted/',\n    cache: {\n      elements: [],\n      get: function(selector) {\n        // It is already cached!\n        if ($.inArray(selector, this.elements) !== -1) {\n          return this.elements[selector];\n        }\n\n        // Create cache and return\n        this.elements[selector] = $(selector);\n\n        return this.elements[selector];\n      },\n      refresh: function(selector) {\n        selector.elements[selector] = $(selector);\n      },\n    },\n    setJobId: function(jobId) {\n      localStorage.setItem('jobIdBeingProcessed', jobId);\n    },\n    getJobId: function() {\n      return localStorage.getItem('jobIdBeingProcessed');\n    },\n    listenTooltip: function() {\n      wpstgHoverIntent(document, '.wpstg--tooltip', function(target, event) {\n        target.querySelector('.wpstg--tooltiptext').style.visibility = 'visible';\n      }, function(target, event) {\n        target.querySelector('.wpstg--tooltiptext').style.visibility = 'hidden';\n      });\n    },\n    // Get the custom themed Swal Modal for WP Staging\n    // Easy to maintain now in one place now\n    getSwalModal: function(isContentCentered = false, customClasses = {}) {\n      // common style for all swal modal used in WP Staging\n      const defaultCustomClasses = {\n        confirmButton: 'wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn wpstg-100-width',\n        cancelButton: 'wpstg--btn--cancel wpstg-blue-primary wpstg-link-btn wpstg-100-width',\n        actions: 'wpstg--modal--actions',\n        popup: isContentCentered ? 'wpstg-swal-popup centered-modal' : 'wpstg-swal-popup',\n      };\n\n      // If a attribute exists in both default and additional attributes,\n      // The class(es) of the additional attribute will overrite the default one.\n      const options = {\n        customClass: Object.assign(defaultCustomClasses, customClasses),\n        buttonsStyling: false,\n        reverseButtons: true,\n        showClass: {\n          popup: 'wpstg--swal2-show wpstg-swal-show',\n        },\n      };\n\n      return wpstgSwal.mixin(options);\n    },\n    showSuccessModal: function(htmlContent) {\n      this.getSwalModal().fire({\n        showConfirmButton: false,\n        showCancelButton: true,\n        cancelButtonText: 'OK',\n        icon: 'success',\n        title: 'Success!',\n        html: '<div class=\"wpstg--grey\" style=\"text-align: left; margin-top: 8px;\">' + htmlContent + '</div>',\n      });\n    },\n    showWarningModal: function(htmlContent) {\n      this.getSwalModal().fire({\n        showConfirmButton: false,\n        showCancelButton: true,\n        cancelButtonText: 'OK',\n        icon: 'warning',\n        title: '',\n        html: '<div class=\"wpstg--grey\" style=\"text-align: left; margin-top: 8px;\">' + htmlContent + '</div>',\n      });\n    },\n    showErrorModal: function(htmlContent) {\n      this.getSwalModal().fire({\n        showConfirmButton: false,\n        showCancelButton: true,\n        cancelButtonText: 'OK',\n        icon: 'error',\n        title: 'Error!',\n        html: '<div class=\"wpstg--grey\" style=\"text-align: left; margin-top: 8px;\">' + htmlContent + '</div>',\n      });\n    },\n    getSwalContainer: function() {\n      return wpstgSwal.getContainer();\n    },\n    closeSwalModal: function() {\n      wpstgSwal.close();\n    },\n    /**\n     * Treats a default response object generated by WordPress's\n     * wp_send_json_success() or wp_send_json_error() functions in\n     * PHP, parses it in JavaScript, and either throws if it's an error,\n     * or returns the data if the response is successful.\n     *\n     * @param {object} response\n     * @return {*}\n     */\n    getDataFromWordPressResponse(response) {\n      if (typeof response !== 'object') {\n        throw new Error('Unexpected response (ERR 1341)');\n      }\n\n      if (!response.hasOwnProperty('success')) {\n        throw new Error('Unexpected response (ERR 1342)');\n      }\n\n      if (!response.hasOwnProperty('data')) {\n        throw new Error('Unexpected response (ERR 1343)');\n      }\n\n      if (response.success === false) {\n        if (response.data instanceof Array && response.data.length > 0) {\n          throw new Error(response.data.shift());\n        } else {\n          throw new Error('Response was not successful');\n        }\n      } else {\n        // Successful response. Return the data.\n        return response.data;\n      }\n    },\n    isLoading: function(isLoading) {\n      if (!isLoading || isLoading === false) {\n        WPStagingCommon.cache.get('.wpstg-loader').hide();\n      } else {\n        WPStagingCommon.cache.get('.wpstg-loader').show();\n      }\n    },\n    /**\n     * Convert the given url to make it slug compatible\n     * @param {string} url\n     * @return {string}\n     */\n    slugify: function(url) {\n      return url.toString()\n          .toLowerCase()\n          .normalize('NFD')\n          .replace(/[\\u0300-\\u036f]/g, '')\n          .replace(/\\s+/g, '-')\n          .replace(/&/g, '-and-')\n          .replace(/[^a-z0-9\\-]/g, '')\n          .replace(/-+/g, '-')\n          .replace(/^-*/, '')\n          .replace(/-*$/, '')\n      ;\n    },\n    showAjaxFatalError: function(response, prependMessage, appendMessage) {\n      prependMessage = prependMessage ? prependMessage + '<br/><br/>' : 'Something went wrong! <br/><br/>';\n      appendMessage = appendMessage ? appendMessage + '<br/><br/>' : '<br/><br/>Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.';\n\n      if (response === false) {\n        WPStagingCommon.showError(prependMessage + ' Error: No response.' + appendMessage);\n        window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n        return;\n      }\n\n      if (typeof response.error !== 'undefined' && response.error) {\n        WPStagingCommon.showError(prependMessage + ' Error: ' + response.message + appendMessage);\n        window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n        return;\n      }\n    },\n    handleFetchErrors: function(response) {\n      if (!response.ok) {\n        WPStagingCommon.showError('Error: ' + response.status + ' - ' + response.statusText + '. Please try again or contact support.');\n      }\n      return response;\n    },\n    showError: function(message) {\n      // If retry request no need to show Error;\n      if (WPStagingCommon.retry.performingRequest) {\n        return;\n      }\n\n      WPStagingCommon.cache.get('#wpstg-try-again').css('display', 'inline-block');\n      WPStagingCommon.cache.get('#wpstg-cancel-cloning').text('Reset');\n      WPStagingCommon.cache.get('#wpstg-resume-cloning').show();\n      WPStagingCommon.cache.get('#wpstg-error-wrapper').show();\n      WPStagingCommon.cache.get('#wpstg-error-details').show().html(message);\n      WPStagingCommon.cache.get('#wpstg-removing-clone').removeClass('loading');\n      WPStagingCommon.cache.get('.wpstg-loader').hide();\n      $('.wpstg--modal--process--generic-problem').show().html(message);\n    },\n    resetErrors: function() {\n      WPStagingCommon.cache.get('#wpstg-error-details').hide().html('');\n    },\n    /**\n     * Ajax Requests\n     * @param {Object} data\n     * @param {Function} callback\n     * @param {string} dataType\n     * @param {bool} showErrors\n     * @param {int} tryCount\n     * @param {float} incrementRatio\n     * @param {function} errorCallback\n     */\n    ajax: function(data, callback, dataType, showErrors, tryCount, incrementRatio = null, errorCallback = null) {\n      if ('undefined' === typeof (dataType)) {\n        dataType = 'json';\n      }\n\n      if (false !== showErrors) {\n        showErrors = true;\n      }\n\n      tryCount = 'undefined' === typeof (tryCount) ? 0 : tryCount;\n\n      const retryLimit = 10;\n\n      let retryTimeout = 10000 * tryCount;\n\n      incrementRatio = parseInt(incrementRatio);\n      if (!isNaN(incrementRatio)) {\n        retryTimeout *= incrementRatio;\n      }\n\n      $.ajax({\n        url: ajaxurl + '?action=wpstg_processing&_=' + (Date.now() / 1000),\n        type: 'POST',\n        dataType: dataType,\n        cache: false,\n        data: data,\n        error: function(xhr, textStatus, errorThrown) {\n          console.log(xhr.status + ' ' + xhr.statusText + '---' + textStatus);\n\n          if (typeof (errorCallback) === 'function') {\n            // Custom error handler\n            errorCallback(xhr, textStatus, errorThrown);\n\n            if (!WPStagingCommon.continueErrorHandle) {\n              // Reset state\n              WPStagingCommon.continueErrorHandle = true;\n\n              return;\n            }\n          }\n\n          // Default error handler\n          tryCount++;\n          if (tryCount <= retryLimit) {\n            setTimeout(function() {\n              WPStagingCommon.ajax(data, callback, dataType, showErrors, tryCount, incrementRatio);\n              return;\n            }, retryTimeout);\n          } else {\n            const errorCode = 'undefined' === typeof (xhr.status) ? 'Unknown' : xhr.status;\n            WPStagingCommon.showError(\n                'Fatal Error:  ' + errorCode + ' Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.',\n            );\n          }\n        },\n        success: function(data) {\n          if ('function' === typeof (callback)) {\n            callback(data);\n          }\n        },\n        statusCode: {\n          404: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 404 - Can\\'t find ajax request URL! Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.');\n            }\n          },\n          500: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Fatal Error 500 - Internal server error while processing the request! Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.');\n            }\n          },\n          504: function() {\n            if (tryCount > retryLimit) {\n              WPStagingCommon.showError('Error 504 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          502: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 502 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          503: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 503 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          429: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 429 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          403: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Refresh page or login again! The process should be finished successfully. \\n\\ ');\n            }\n          },\n        },\n      });\n    },\n  };\n\n  return WPStagingCommon;\n})(jQuery);\n","import {closest} from './wpstg-polyfill';\nimport WPStagingCommon from '../wpstg.js';\n\n/**\n * WP STAGING basic jQuery replacement\n */\n\n/**\n * Shortcut for document.querySelector() or jQuery's $()\n * Return single element only\n */\nexport function qs(selector) {\n  return document.querySelector(selector);\n}\n\n/**\n * Shortcut for document.querySelector() or jQuery's $()\n * Return collection of elements\n */\nexport function all(selector) {\n  return document.querySelectorAll(selector);\n}\n\n/**\n * alternative of jQuery - $(parent).on(event, selector, handler)\n */\nexport function addEvent(parent, evt, selector, handler) {\n  if (!parent instanceof Element) {\n    return;\n  }\n\n  parent.addEventListener(evt, function(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      handler(event.target.closest(selector), event);\n    }\n  }, false);\n}\n\nexport function slideDown(element, duration = 400) {\n  element.style.display = 'block';\n  element.style.overflow = 'hidden';\n  const height = element.offsetHeight;\n  element.style.height = '0px';\n  element.style.transitionProperty = 'height';\n  element.style.transitionDuration = duration + 'ms';\n  setTimeout(() => {\n    element.style.height = height + 'px';\n    window.setTimeout(() => {\n      element.style.removeProperty('height');\n      element.style.removeProperty('overflow');\n      element.style.removeProperty('transition-duration');\n      element.style.removeProperty('transition-property');\n    }, duration);\n  }, 0);\n}\n\nexport function slideUp(element, duration = 400) {\n  element.style.display = 'block';\n  element.style.overflow = 'hidden';\n  const height = element.offsetHeight;\n  element.style.height = height + 'px';\n  element.style.transitionProperty = 'height';\n  element.style.transitionDuration = duration + 'ms';\n  setTimeout(() => {\n    element.style.height = '0px';\n    window.setTimeout(() => {\n      element.style.display = 'none';\n      element.style.removeProperty('height');\n      element.style.removeProperty('overflow');\n      element.style.removeProperty('transition-duration');\n      element.style.removeProperty('transition-property');\n    }, duration);\n  }, 0);\n}\n\nexport function fadeOut(element, duration = 300) {\n  element.style.opacity = 1;\n  element.style.transitionProperty = 'opacity';\n  element.style.transitionDuration = duration + 'ms';\n  setTimeout(() => {\n    element.style.opacity = 0;\n    window.setTimeout(() => {\n      element.style.display = 'none';\n      element.style.removeProperty('opacity');\n      element.style.removeProperty('transition-duration');\n      element.style.removeProperty('transition-property');\n    }, duration);\n  }, 0);\n}\n\nexport function getNextSibling(element, selector) {\n  let sibling = element.nextElementSibling;\n\n  while (sibling) {\n    if (sibling.matches(selector)) {\n      return sibling;\n    }\n\n    sibling = sibling.nextElementSibling;\n  }\n};\n\nexport function getParents(element, selector) {\n  const result = [];\n  for (let parent = element && element.parentElement; parent; parent = parent.parentElement) {\n    if (parent.matches(selector)) {\n      result.push(parent);\n    }\n  }\n\n  return result;\n}\n\n/**\n * Check if element has class name\n * @param element\n * @param className\n * @return {boolean}\n */\nexport function hasClass(element, className) {\n  return (' ' + element.className + ' ').indexOf(' ' + className+ ' ') > -1;\n}\n\n/**\n * Dispatches a change on an element that will trigger, depending on the element type,\n * cascading changes on elements dependant on the one that triggered the change and that\n * belong in the same container.\n *\n * @param {Element} element A reference to the Element the change was triggered from.\n *\n * @return {void} The function does not return any value and will have the side-effect of\n *                hiding or showing dependant elements.\n */\nexport function handleDisplayDependencies(element) {\n  if (!element instanceof Element || !element.id) {\n    return;\n  }\n\n  const containerSelector = '.wpstg-container';\n  // Use the default WordPress CSS class to hide and show the objects.\n  const hiddenClass = 'hidden';\n  const elementType = element.getAttribute('type');\n\n  switch (elementType) {\n    case 'checkbox':\n      // Go as high as the container that contains this element.\n      const container = closest(element, containerSelector);\n\n      if (container === null) {\n        return;\n      }\n\n      const showIfChecked = container.querySelectorAll(`[data-show-if-checked=\"${element.id}\"]`);\n      const showIfUnchecked = container.querySelectorAll(`[data-show-if-unchecked=\"${element.id}\"]`);\n      const checked = element.checked;\n\n      if (showIfChecked.length) {\n        for (const el of showIfChecked) {\n          if (checked) {\n            el.classList.remove(hiddenClass);\n          } else {\n            el.classList.add(hiddenClass);\n          }\n        }\n      }\n\n      if (showIfUnchecked.length) {\n        for (const el of showIfUnchecked) {\n          if (checked) {\n            el.classList.add(hiddenClass);\n          } else {\n            el.classList.remove(hiddenClass);\n          }\n        }\n      }\n\n      return;\n    default:\n      // Not a type we handle.\n      return;\n  }\n}\n\n/**\n * Initializes the display status of any element that depends on the status of another to\n * either hide or show.\n *\n * @return {void} The function will have the side-effect to toggle the hide/show class from\n *                elements dependant on another to hide or show.\n */\nexport function initDependantDisplay() {\n  const displayControllerSelector = '[onchange^=\"WPStaging.handleDisplayDependencies\"]';\n  const displayControllers = document.querySelectorAll(displayControllerSelector);\n  for (const displayController of displayControllers) {\n    handleDisplayDependencies(displayController);\n  }\n}\n\n/**\n * Toggle target element set in data-wpstg-target of the given element\n *\n * @param {Element} element A reference to the Element the change was triggered from.\n *\n * @return {void} The function does not return any value and will have the side-effect of\n *                hiding or showing dependant elements.\n */\nexport function handleToggleElement(element) {\n  if (!element instanceof Element || !element.getAttribute('data-wpstg-target')) {\n    return;\n  }\n\n  const containerSelector = '.wpstg_admin';\n  // Use the default WordPress CSS class to hide and show the objects.\n  const hiddenClass = 'hidden';\n\n  // Go as high as the container that contains this element.\n  const container = closest(element, containerSelector);\n\n  if (container === null) {\n    return;\n  }\n\n  const elements = container.querySelectorAll(element.getAttribute('data-wpstg-target'));\n\n  if (elements.length) {\n    for (const el of elements) {\n      el.classList.toggle(hiddenClass);\n    }\n  }\n}\n\n/**\n * Copy text in data-wpstg-copy to element(s) in data-wpstg-target\n *\n * @param {Element} element\n *\n * @return {void}\n */\nexport function handleCopyPaste(element) {\n  if (!element instanceof Element || !element.getAttribute('data-wpstg-target') || !element.getAttribute('data-wpstg-copy')) {\n    return;\n  }\n\n  const containerSelector = '.wpstg_admin';\n\n  // Go as high as the container that contains this element.\n  const container = closest(element, containerSelector);\n\n  if (container === null) {\n    return;\n  }\n\n  navigator.clipboard.writeText(element.getAttribute('data-wpstg-copy'));\n  const elements = container.querySelectorAll(element.getAttribute('data-wpstg-target'));\n\n  if (elements.length) {\n    for (const el of elements) {\n      el.value = element.getAttribute('data-wpstg-copy', '');\n    }\n  }\n}\n\n/**\n * Copy text in data-wpstg-source to clipboard\n *\n * @param {Element} element\n *\n * @return {void}\n */\nexport function handleCopyToClipboard(element) {\n  if (!element instanceof Element || !element.getAttribute('data-wpstg-source')) {\n    return;\n  }\n\n  const containerSelector = '.wpstg_admin';\n\n  // Go as high as the container that contains this element.\n  const container = closest(element, containerSelector);\n\n  if (container === null) {\n    return;\n  }\n\n  const el = container.querySelector(element.getAttribute('data-wpstg-source'));\n\n  if (el) {\n    navigator.clipboard.writeText(el.value);\n  }\n}\n\n/**\n * A confirmation modal\n *\n * @param title\n * @param html\n * @param confirmText\n * @param confirmButtonClass\n * @return Promise\n */\nexport function confirmModal(title, html, confirmText, confirmButtonClass) {\n  return WPStagingCommon.getSwalModal(false, {\n    container: 'wpstg-swal-push-container',\n    confirmButton: confirmButtonClass + ' wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn',\n  }).fire({\n    title: title,\n    icon: 'warning',\n    html: html,\n    width: '750px',\n    focusConfirm: false,\n    confirmButtonText: confirmText,\n    showCancelButton: true,\n  });\n};\n\n","\nimport * as dom from './../../modules/wpstg-dom-utils.js';\n\n// Delay time in millisecond after which the request is send to check db connection\n// This is to make sure we have not many ajax request even when they were not required i.e. while typing.\nexport const DELAY_TIME_DB_CHECK = 300;\nexport default class WpstgCloneEdit {\n  constructor(\n      workflowSelector = '#wpstg-workflow',\n      dbCheckTriggerClass = '.wpstg-edit-clone-db-inputs',\n      wpstgObject = wpstg,\n      databaseCheckAction = 'wpstg_database_connect',\n  ) {\n    this.workflow = dom.qs(workflowSelector);\n    this.dbCheckTriggerClass = dbCheckTriggerClass;\n    this.wpstgObject = wpstgObject;\n    this.databaseCheckAction = databaseCheckAction;\n    this.dbCheckTimer = null;\n    this.abortDbCheckController = null;\n    this.dbCheckCallStatus = false;\n    this.notyf = new Notyf({\n      duration: 10000,\n      position: {\n        x: 'center',\n        y: 'bottom',\n      },\n      dismissible: true,\n      types: [\n        {\n          type: 'warning',\n          background: 'orange',\n          icon: false,\n        },\n        {\n          type: 'error',\n          background: '#e01e5a',\n          duration: 2000,\n          dismissible: true,\n        },\n      ],\n    });\n    this.init();\n  }\n\n  addEvents() {\n    // early bail if workflow object not available.\n    if (this.workflow === null) {\n      return;\n    }\n\n    ['paste', 'input'].forEach( (evt) => {\n      dom.addEvent(this.workflow, evt, this.dbCheckTriggerClass, () => {\n        // abort previous database check call if it was running\n        if (this.dbCheckCallStatus === true) {\n          this.abortDbCheckController.abort();\n          this.abortDbCheckController = null;\n          this.dbCheckCallStatus = false;\n        }\n\n        // check for db connection after specific delay but reset the timer if these event occur again\n        clearTimeout(this.dbCheckTimer);\n        this.dbCheckTimer = setTimeout(() => {\n          this.checkDatabase();\n        }, DELAY_TIME_DB_CHECK);\n      });\n    });\n  }\n\n  init() {\n    this.addEvents();\n  }\n\n  checkDatabase() {\n    const idPrefix = '#wpstg-edit-clone-data-';\n    const externalDBUser = dom.qs(idPrefix + 'database-user').value;\n    const externalDBPassword = dom.qs(idPrefix + 'database-password').value;\n    const externalDBDatabase = dom.qs(idPrefix + 'database-database').value;\n    const externalDBHost = dom.qs(idPrefix + 'database-server').value;\n    const externalDBPrefix = dom.qs(idPrefix + 'database-prefix').value;\n    const externalDBSsl = dom.qs(idPrefix + 'database-ssl').checked;\n\n    if (externalDBUser === '' && externalDBPassword === '' && externalDBDatabase === '' && externalDBPrefix === '') {\n      dom.qs('#wpstg-save-clone-data').disabled = false;\n      return;\n    }\n\n    this.abortDbCheckController = new AbortController();\n    this.dbCheckCallStatus = true;\n\n    fetch(this.wpstgObject.ajaxUrl, {\n      method: 'POST',\n      signal: this.abortDbCheckController.signal,\n      credentials: 'same-origin',\n      body: new URLSearchParams({\n        action: this.databaseCheckAction,\n        accessToken: this.wpstgObject.accessToken,\n        nonce: this.wpstgObject.nonce,\n        databaseUser: externalDBUser,\n        databasePassword: externalDBPassword,\n        databaseServer: externalDBHost,\n        databaseDatabase: externalDBDatabase,\n        databasePrefix: externalDBPrefix,\n        databaseSsl: externalDBSsl,\n        databaseEnsurePrefixTableExist: true,\n      }),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }).then((response) => {\n      this.dbCheckCallStatus = false;\n      if (response.ok) {\n        return response.json();\n      }\n\n      return Promise.reject(response);\n    }).then((data) => {\n      // dismiss previous toasts\n      this.notyf.dismissAll();\n      // failed request\n      if (false === data) {\n        this.notyf.error(this.wpstgObject.i18n['dbConnectionFailed']);\n        dom.qs('#wpstg-save-clone-data').disabled = true;\n        return;\n      }\n\n      // failed db connection\n      if ('undefined' !== typeof (data.errors) && data.errors && 'undefined' !== typeof (data.success) && data.success === 'false') {\n        this.notyf.error(this.wpstgObject.i18n['dbConnectionFailed'] +'! <br/> Error: '+ data.errors);\n        dom.qs('#wpstg-save-clone-data').disabled = true;\n        return;\n      }\n\n      // prefix warning\n      if ('undefined' !== typeof (data.errors) && data.errors && 'undefined' !== typeof (data.success) && data.success === 'true') {\n        this.notyf.open({\n          type: 'warning',\n          message: 'Warning: ' + data.errors,\n        });\n        dom.qs('#wpstg-save-clone-data').disabled = true;\n        return;\n      }\n\n      // db connection successful\n      if ('undefined' !== typeof (data.success) && data.success) {\n        this.notyf.success(this.wpstgObject.i18n['dbConnectionSuccess']);\n        dom.qs('#wpstg-save-clone-data').disabled = false;\n      }\n    }).catch((error) => {\n      this.dbCheckCallStatus = false;\n      console.warn(this.wpstgObject.i18n['somethingWentWrong'], error);\n      dom.qs('#wpstg-save-clone-data').disabled = true;\n    });\n  }\n}\n","\nimport * as dom from './../../modules/wpstg-dom-utils';\n\n/**\n * Push Table Selection\n */\nexport default class WpstgPushTableSelection {\n  constructor(\n      workflowSelector = '#wpstg-workflow',\n      inputSelector = '#wpstg_select_tables_pushing',\n      wpstgObject = wpstg,\n  ) {\n    this.workflow = dom.qs(workflowSelector);\n    this.inputSelector = inputSelector;\n    this.input = dom.qs(inputSelector);\n    this.wpstgObject = wpstgObject;\n    this.cloneID = this.input.getAttribute('data-clone');\n    this.tablePrefix = this.input.getAttribute('data-prefix');\n    this.isNetwork = this.input.getAttribute('data-network') === 'true';\n    this.areAllTablesChecked = true;\n\n    this.init();\n  }\n\n  addEvents() {\n    dom.addEvent(document.body, 'click', '.wpstg-button-show-tables', (target) => {\n      this.showAllTables();\n    });\n\n    dom.addEvent(document.body, 'click', '.wpstg-button-db-prefix', () => {\n      this.selectDefaultTables();\n    });\n\n    dom.addEvent(document.body, 'click', '.wpstg-button-unselect', () => {\n      this.toggleTableSelection();\n    });\n\n    dom.addEvent(document.body, 'change', this.inputSelector, () => {\n      this.countSelectedTables();\n    });\n  }\n\n  init() {\n    this.addEvents();\n  }\n\n  showAllTables() {\n    let includedTables = this.getIncludedTables();\n    let excludedTables = this.getExcludedTables();\n\n    if (includedTables.length > excludedTables.length) {\n      includedTables = '';\n    } else if (excludedTables.length > includedTables.length) {\n      excludedTables = '';\n    }\n\n    fetch(this.wpstgObject.ajaxUrl, {\n      method: 'POST',\n      credentials: 'same-origin',\n      body: new URLSearchParams({\n        action: 'wpstg_push_tables',\n        accessToken: this.wpstgObject.accessToken,\n        nonce: this.wpstgObject.nonce,\n        clone: this.cloneID,\n        includedTables: includedTables,\n        excludedTables: excludedTables,\n        selectedTablesWithoutPrefix: this.getSelectedTablesWithoutPrefix(),\n      }),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }).then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      return Promise.reject(response);\n    }).then((data) => {\n      // Reload current page if successful.\n      if ('undefined' !== typeof (data.success) && data.success) {\n        this.input.innerHTML = data.content;\n        dom.fadeOut(dom.qs('.wpstg-button-show-tables'), 300);\n\n        this.countSelectedTables();\n        return;\n      }\n\n      // There will be message probably in case of error\n      if ('undefined' !== typeof (data.message)) {\n        this.notyf.error(data.message);\n        return;\n      }\n\n      this.notyf.error(this.wpstgObject.i18n['somethingWentWrong']);\n    }).catch((error) => {\n      console.warn(this.wpstgObject.i18n['somethingWentWrong'], error);\n    });\n  }\n\n  getRegexPattern() {\n    let pattern = '^' + this.tablePrefix;\n    if (this.wpstgObject.isMultisite === '1' && !this.isNetwork) {\n      pattern += '([^0-9])_*';\n    }\n\n    return pattern;\n  }\n\n  selectDefaultTables() {\n    const options = this.input.querySelectorAll('.wpstg-db-table');\n    const pattern = this.getRegexPattern();\n    options.forEach((option) => {\n      const name = option.getAttribute('name', '');\n      if (name.match(pattern)) {\n        option.selected = true;\n      } else {\n        option.selected = false;\n      }\n    });\n\n    this.countSelectedTables();\n  }\n\n  toggleTableSelection() {\n    if (false === this.areAllTablesChecked) {\n      this.input.querySelectorAll('.wpstg-db-table').forEach((option) => {\n        option.selected = true;\n      });\n\n      this.workflow.querySelector('.wpstg-button-unselect').innerHTML = 'Unselect All';\n      this.areAllTablesChecked = true;\n    } else {\n      this.input.querySelectorAll('.wpstg-db-table').forEach((option) => {\n        option.selected = false;\n      });\n      this.workflow.querySelector('.wpstg-button-unselect').innerHTML = 'Select All';\n      this.areAllTablesChecked = false;\n    }\n\n    this.countSelectedTables();\n  }\n\n  getSelectedTablesWithoutPrefix() {\n    const selectedTablesWithoutPrefix = [];\n    const regexPattern = this.getRegexPattern();\n    this.input.querySelectorAll('option:checked').forEach((option) => {\n      const name = option.getAttribute('name', '');\n      if (!name.match(regexPattern)) {\n        selectedTablesWithoutPrefix.push(name);\n      }\n    });\n\n    return selectedTablesWithoutPrefix.join(this.wpstgObject.settings.directorySeparator);\n  }\n\n  getIncludedTables() {\n    const tables = [];\n    const regexPattern = this.getRegexPattern();\n    this.input.querySelectorAll('option:checked').forEach((option) => {\n      const name = option.getAttribute('name', '');\n      if (name.match(regexPattern)) {\n        tables.push(name);\n      }\n    });\n\n    return tables.join(this.wpstgObject.settings.directorySeparator);\n  }\n\n  getExcludedTables() {\n    const tables = [];\n    const regexPattern = this.getRegexPattern();\n    this.input.querySelectorAll('option:not(:checked)').forEach((option) => {\n      const name = option.getAttribute('name', '');\n      if (name.match(regexPattern)) {\n        tables.push(name);\n      }\n    });\n\n    return tables.join(this.wpstgObject.settings.directorySeparator);\n  }\n\n  countSelectedTables() {\n    const tablesCount = this.input.querySelectorAll('option:checked').length;\n    const tablesCountElement = dom.qs('#wpstg-tables-count');\n    if (tablesCount === 0) {\n      tablesCountElement.classList.add('danger');\n      tablesCountElement.innerHTML = this.wpstgObject.i18n['noTableSelected'];\n    } else {\n      tablesCountElement.classList.remove('danger');\n      tablesCountElement.innerHTML = this.wpstgObject.i18n['tablesSelected'].replace('{d}', tablesCount);\n    }\n  }\n}\n","\nimport * as dom from './../../modules/wpstg-dom-utils';\n\n/**\n * Push File Selection\n */\nexport default class WpstgPushFileSelection {\n  constructor(\n      workflowSelector = '#wpstg-workflow',\n      filesTabSelector = '#wpstg-scanning-files',\n      dirSelector = '.wpstg-check-dir',\n      wpstgObject = wpstg,\n  ) {\n    this.workflow = dom.qs(workflowSelector);\n    this.filesTabSelector = filesTabSelector;\n    this.filesTab = dom.qs(filesTabSelector);\n    this.dirSelector = dirSelector;\n    this.wpstgObject = wpstgObject;\n\n    this.init();\n  }\n\n  addEvents() {\n    dom.addEvent(this.workflow, 'change', this.filesTabSelector + ' ' + this.dirSelector, (el) => {\n      this.toggleChildren(el);\n      this.countSelectedFiles();\n    });\n  }\n\n  init() {\n    this.addEvents();\n  }\n\n  toggleChildren(el) {\n    const parent = dom.getParents(el, '.wpstg-dir')[0];\n    const checkboxes = parent.querySelectorAll('.wpstg-subdir>.wpstg-dir>' + this.dirSelector);\n    checkboxes.forEach((cb) => {\n      cb.checked = el.checked;\n    });\n  }\n\n  countSelectedFiles() {\n    const filesCount = this.filesTab.querySelectorAll(this.dirSelector + ':checked').length;\n    const filesCountElement = dom.qs('#wpstg-files-count');\n    if (filesCount === 0) {\n      filesCountElement.classList.add('danger');\n      filesCountElement.innerHTML = this.wpstgObject.i18n['noFileSelected'];\n    } else {\n      let themesCount = 0;\n      let pluginsCount = 0;\n      filesCountElement.classList.remove('danger');\n      this.filesTab.querySelectorAll('.wpstg-dir:not(.wpstg-sub-dir)>.wpstg-push-expand-dirs').forEach((head) => {\n        if (head.innerHTML === 'plugins') {\n          pluginsCount = head.nextSibling.querySelectorAll(this.dirSelector + ':checked').length;\n        }\n\n        if (head.innerHTML === 'themes') {\n          themesCount = head.nextSibling.querySelectorAll(this.dirSelector + ':checked').length;\n        }\n      });\n\n      filesCountElement.innerHTML = this.wpstgObject.i18n['filesSelected'].replace('{t}', themesCount).replace('{p}', pluginsCount);\n    }\n  }\n}\n","import WPStagingCommon from './../wpstg.js';\n\n/**\n * Loader Modal\n */\nexport default class WpstgLoader {\n  constructor(\n      wpstgObject = wpstg,\n  ) {\n    this.wpstgObject = wpstgObject;\n  }\n\n  /**\n   * Show Swal alert with loader and send ajax request to fetch content of alert.\n   * @return Promise\n   */\n  showModal() {\n    const swalPromise = this.loadModal();\n    return swalPromise;\n  }\n\n  loadModal() {\n    return WPStagingCommon.getSwalModal(false, {\n      container: 'wpstg-swal2-container wpstg-swal2-loading wpstg-swal2-loading-sm',\n    }).fire({\n      title: '',\n      icon: 'warning',\n      html: this.getAjaxLoader(),\n      width: '100px',\n      focusConfirm: false,\n      showConfirmButton: false,\n      showCancelButton: false,\n    });\n  }\n\n  getAjaxLoader() {\n    return '<div class=\"wpstg-swal2-ajax-loader\"><img src=\"' + this.wpstgObject.wpstgIcon + '\" /></div>';\n  }\n}\n","\nimport WpstgLoader from '../../modules/wpstg-loader.js';\nimport * as dom from './../../modules/wpstg-dom-utils.js';\n\nexport default class WpstgRemoteStorage {\n  constructor(\n      revokeButtonSelector = '#wpstg-btn-provider-revoke',\n      revokeProviderFormSelector = '#wpstg-provider-revoke-form',\n      revokeAction = 'wpstg-provider-revoke',\n      settingsButtonSelector = '#wpstg-btn-save-provider-settings',\n      settingsFormSelector = '#wpstg-provider-settings-form',\n      settingsAction = 'wpstg-provider-settings',\n      authenticateButtonSelector = '#wpstg-btn-provider-authenticate',\n      authenticateFormSelector = '#wpstg-provider-authenticate-form',\n      authenticateAction = 'wpstg-provider-authenticate',\n      testConnectionButtonSelector = '#wpstg-btn-provider-test-connection',\n      testConnectionFieldsSelector = '#wpstg-provider-test-connection-fields',\n      testConnectionAction = 'wpstg-provider-test-connection',\n      wpstgObject = wpstg,\n  ) {\n    this.revokeButtonSelector = revokeButtonSelector;\n    this.revokeForm = dom.qs(revokeProviderFormSelector);\n    this.revokeAction = revokeAction;\n    this.settingsButtonSelector = settingsButtonSelector;\n    this.settingsForm = dom.qs(settingsFormSelector);\n    this.settingsAction = settingsAction;\n    this.authenticateButtonSelector = authenticateButtonSelector;\n    this.authenticateForm = dom.qs(authenticateFormSelector);\n    this.authenticateAction = authenticateAction;\n    this.testConnectionButtonSelector = testConnectionButtonSelector;\n    this.testConnectionFields = dom.qs(testConnectionFieldsSelector);\n    this.testConnectionAction = testConnectionAction;\n    this.wpstgObject = wpstgObject;\n    this.notyf = new Notyf({\n      duration: 2000,\n      position: {\n        x: 'center',\n        y: 'bottom',\n      },\n      dismissible: true,\n      types: [\n        {\n          type: 'warning',\n          background: 'orange',\n          icon: false,\n        },\n        {\n          type: 'error',\n          background: '#e01e5a',\n          icon: true,\n        },\n      ],\n    });\n    this.init();\n  }\n\n  addEvents() {\n    dom.addEvent(document.body, 'click', this.revokeButtonSelector, async (target) => {\n      await this.sendRevokeRequest();\n    });\n\n    dom.addEvent(document.body, 'click', this.settingsButtonSelector, async (target) => {\n      await this.sendSettingsRequest();\n    });\n\n    dom.addEvent(document.body, 'click', this.authenticateButtonSelector, async (target) => {\n      await this.sendAuthenticateRequest();\n    });\n\n    dom.addEvent(document.body, 'click', this.testConnectionButtonSelector, async (target) => {\n      await this.sendTestConnectionRequest();\n    });\n\n    dom.addEvent(document.body, 'change', '[name=\\'ftp_type\\']', async (target) => {\n      await this.toggleSftpFields();\n    });\n\n    dom.addEvent(document.body, 'change', '[name=\\'s3_provider\\']', async (target) => {\n      await this.toggleS3GenericFields();\n    });\n  }\n\n  init() {\n    this.addEvents();\n  }\n\n  async sendRevokeRequest() {\n    const provider = this.revokeForm.querySelector('input[name=\"provider\"]').value;\n    try {\n      const response = await fetch(this.wpstgObject.ajaxUrl, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: new URLSearchParams({\n          action: this.revokeAction,\n          accessToken: this.wpstgObject.accessToken,\n          nonce: this.wpstgObject.nonce,\n          provider: provider,\n        }),\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      });\n\n      if (!response.ok) {\n        console.error(`An error has occured: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      if (data.success) {\n        this.notyf.success(data.message);\n        setTimeout(() => {\n          window.location.reload();\n        }, 3000);\n        return;\n      }\n\n      this.notyf.error(data.message);\n    } catch (error) {\n      console.warn(error);\n    }\n  }\n\n  async sendSettingsRequest() {\n    const loader = new WpstgLoader();\n    const swal = loader.showModal();\n\n    const formData = new FormData(this.settingsForm);\n    formData.append('action', this.settingsAction);\n    formData.append('accessToken', this.wpstgObject.accessToken);\n    formData.append('nonce', this.wpstgObject.nonce);\n\n    const queryString = new URLSearchParams(formData);\n    try {\n      const response = await fetch(this.wpstgObject.ajaxUrl, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: queryString,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      });\n\n      if (!response.ok) {\n        console.error(`An error has occured: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      if (!data.success) {\n        this.notyf.error(data.message);\n      }\n\n      if (data.warning) {\n        this.notyf.open({\n          type: 'warning',\n          message: data.message,\n        });\n      } else {\n        this.notyf.success(data.message);\n      }\n\n      setTimeout(() => {\n        window.location.reload();\n      }, 2000);\n    } catch (error) {\n      console.warn(error);\n    } finally {\n      swal.close();\n    }\n  }\n\n  async sendAuthenticateRequest() {\n    const formData = new FormData(this.authenticateForm);\n    formData.append('action', this.authenticateAction);\n    formData.append('accessToken', this.wpstgObject.accessToken);\n    formData.append('nonce', this.wpstgObject.nonce);\n    const queryString = new URLSearchParams(formData);\n    try {\n      const response = await fetch(this.wpstgObject.ajaxUrl, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: queryString,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      });\n\n      if (!response.ok) {\n        console.error(`An error has occured: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      if (data.success) {\n        this.notyf.success(data.message);\n        setTimeout(() => {\n          window.location.reload();\n        }, 2000);\n        return;\n      }\n\n      this.notyf.error(data.message);\n    } catch (error) {\n      console.warn(error);\n    }\n  }\n\n  async sendTestConnectionRequest() {\n    const loader = new WpstgLoader();\n    const swal = loader.showModal();\n\n    const fields = this.testConnectionFields.querySelectorAll('[name]');\n    const formData = new FormData();\n    formData.append('action', this.testConnectionAction);\n    formData.append('accessToken', this.wpstgObject.accessToken);\n    formData.append('nonce', this.wpstgObject.nonce);\n    fields.forEach((element) => {\n      console.log(element);\n      if (element.type === 'check' || element.type === 'checkbox') {\n        formData.append(element.getAttribute('name'), element.checked);\n        return;\n      }\n\n      formData.append(element.getAttribute('name'), element.value);\n    });\n\n    const queryString = new URLSearchParams(formData);\n    try {\n      const response = await fetch(this.wpstgObject.ajaxUrl, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: queryString,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      });\n\n      if (!response.ok) {\n        console.error(`An error has occured: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      if (data.success) {\n        this.notyf.success(data.message);\n        return;\n      }\n\n      this.notyf.error(data.message);\n    } catch (error) {\n      console.warn(error);\n    } finally {\n      swal.close();\n    }\n  }\n\n  toggleSftpFields() {\n    const ftpType = document.querySelector('[name=\\'ftp_type\\']');\n    const sftpElements = document.querySelectorAll('.only-sftp');\n    const ftpElements = document.querySelectorAll('.only-ftp');\n    if (ftpType.value === 'ftp') {\n      if (sftpElements.length) {\n        for (const el of sftpElements) {\n          el.classList.add('hidden');\n        }\n      }\n\n      if (ftpElements.length) {\n        for (const el of ftpElements) {\n          el.classList.remove('hidden');\n        }\n      }\n\n      return;\n    }\n\n    if (sftpElements.length) {\n      for (const el of sftpElements) {\n        el.classList.remove('hidden');\n      }\n    }\n\n    if (ftpElements.length) {\n      for (const el of ftpElements) {\n        el.classList.add('hidden');\n      }\n    }\n  }\n\n  toggleS3GenericFields() {\n    const s3Provider = document.querySelector('[name=\\'s3_provider\\']');\n    const isCustomProvider = s3Provider.value === '';\n    const customFieldsContainer = document.getElementById('wpstg-s3-custom-provider-fields');\n    customFieldsContainer.style.display = isCustomProvider ? 'block' : 'none';\n  }\n}\n","import * as dom from './wpstg-dom-utils.js';\n\n/**\n * Fetch directory direct child directories\n */\nexport default class WpstgDirectoryNavigation {\n  constructor(\n      directoryListingSelector = '#wpstg-directories-listing',\n      workflowSelector = '#wpstg-workflow',\n      wpstgObject = wpstg,\n      notyf = null,\n  ) {\n    this.directoryListingContainer = dom.qs(directoryListingSelector);\n    this.workflow = dom.qs(workflowSelector);\n    this.wpstgObject = wpstgObject;\n    this.dirCheckboxSelector = '.wpstg-check-dir';\n    this.dirExpandSelector = '.wpstg-expand-dirs';\n    this.unselectAllDirsSelector = '.wpstg-unselect-dirs';\n    this.selectDefaultDirsSelector = '.wpstg-select-dirs-default';\n    this.fetchChildrenAction = 'wpstg_fetch_dir_children';\n    this.currentCheckboxElement = null;\n    this.currentParentDiv = null;\n    this.currentLoader = null;\n    this.existingExcludes = [];\n    this.excludedDirectories = [];\n    this.isDefaultSelected = false;\n    this.notyf = notyf;\n\n    this.init();\n  }\n\n  addEvents() {\n    if (this.directoryListingContainer === null) {\n      console.log('Error: directory navigation add events');\n      return;\n    }\n\n    dom.addEvent(this.directoryListingContainer, 'change', this.dirCheckboxSelector, (element, event) => {\n      event.preventDefault();\n    });\n\n    dom.addEvent(this.directoryListingContainer, 'click', this.dirExpandSelector, (element, event) => {\n      event.preventDefault();\n      if (this.toggleDirExpand(element)) {\n        this.sendRequest(this.fetchChildrenAction, element);\n      }\n    });\n\n    dom.addEvent(this.directoryListingContainer, 'click', this.unselectAllDirsSelector, () => {\n      this.unselectAll();\n    });\n\n    dom.addEvent(this.directoryListingContainer, 'click', this.selectDefaultDirsSelector, () => {\n      this.selectDefault();\n    });\n\n    dom.addEvent(this.directoryListingContainer, 'click', '.wpstg-expand-dirs', (target, event) => {\n      event.preventDefault();\n      this.toggleDirectoryNavigation(target);\n    });\n\n    dom.addEvent(this.directoryListingContainer, 'change', 'input.wpstg-check-dir', (target) => {\n      this.updateDirectorySelection(target);\n    });\n  }\n\n  init() {\n    this.addEvents();\n    this.parseExcludes();\n  }\n\n  /**\n   * Toggle Dir Expand,\n   * Return true if children aren't fetched\n   * @param {HTMLElement} element\n   * @return {boolean}\n   */\n  toggleDirExpand(element) {\n    this.currentParentDiv = element.parentElement;\n    this.currentCheckboxElement = element.previousSibling;\n    this.currentLoader = this.currentParentDiv.querySelector('.wpstg-is-dir-loading');\n    if (this.currentCheckboxElement.getAttribute('data-navigateable', 'false') === 'false') {\n      return false;\n    }\n\n    if (this.currentCheckboxElement.getAttribute('data-scanned', 'false') === 'false') {\n      return true;\n    }\n\n    return false;\n  }\n\n  sendRequest(action) {\n    if (this.currentLoader !== null) {\n      this.currentLoader.style.display = 'inline-block';\n    }\n\n    const changed = this.currentCheckboxElement.getAttribute('data-changed');\n\n    fetch(this.wpstgObject.ajaxUrl, {\n      method: 'POST',\n      credentials: 'same-origin',\n      body: new URLSearchParams({\n        action: action,\n        accessToken: this.wpstgObject.accessToken,\n        nonce: this.wpstgObject.nonce,\n        dirPath: this.currentCheckboxElement.value,\n        isChecked: this.currentCheckboxElement.checked,\n        forceDefault: changed === 'true',\n      }),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }).then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      return Promise.reject(response);\n    }).then((data) => {\n      if ('undefined' !== typeof (data.success) && data.success) {\n        this.currentCheckboxElement.setAttribute('data-scanned', true);\n        const dirContainer = document.createElement('div');\n        dirContainer.classList.add('wpstg-dir');\n        dirContainer.classList.add('wpstg-subdir');\n        dirContainer.innerHTML = JSON.parse(data.directoryListing);\n        this.currentParentDiv.appendChild(dirContainer);\n        if (this.currentLoader !== null) {\n          this.currentLoader.style.display = 'none';\n        }\n\n        dom.slideDown(dirContainer);\n\n        return;\n      }\n\n      if (this.notyf !== null) {\n        this.notyf.error(this.wpstgObject.i18n['somethingWentWrong']);\n      } else {\n        alert('Error: ' + this.wpstgObject.i18n['somethingWentWrong']);\n      }\n    }).catch((error) => {\n      console.warn(this.wpstgObject.i18n['somethingWentWrong'], error);\n    });\n  }\n\n  getExcludedDirectories() {\n    this.excludedDirectories = [];\n    this.directoryListingContainer.querySelectorAll('.wpstg-dir input:not(:checked)').forEach((element) => {\n      if (!this.isParentExcluded(element.value)) {\n        this.excludedDirectories.push(element.value);\n      }\n    });\n\n    if (!this.existingExcludes) {\n      this.existingExcludes = [];\n    }\n\n    this.existingExcludes.forEach((exclude) => {\n      if (!this.isParentExcluded(exclude) && !this.isScanned(exclude)) {\n        this.excludedDirectories.push(exclude);\n      }\n    });\n\n    return this.excludedDirectories.join(this.wpstgObject.settings.directorySeparator);\n  }\n\n  /**\n   * @param {string} path\n   * @return {bool}\n   */\n  isParentExcluded(path) {\n    let isParentAlreadyExcluded = false;\n    this.excludedDirectories.forEach((dir) => {\n      if (path.startsWith(dir + '/')) {\n        isParentAlreadyExcluded = true;\n      }\n    });\n\n    return isParentAlreadyExcluded;\n  }\n\n  getExtraDirectoriesRootOnly() {\n    this.getExcludedDirectories();\n    const extraDirectories = [];\n    this.directoryListingContainer.querySelectorAll(':not(.wpstg-subdir)>.wpstg-dir>input.wpstg-wp-non-core-dir:checked').forEach((element) => {\n      extraDirectories.push(element.value);\n    });\n\n    // Check if extra directories text area exists\n    // TODO: remove extraCustomDirectories code if no one require extraCustomDirectories...\n    const extraDirectoriesTextArea = dom.qs('#wpstg_extraDirectories');\n    if (extraDirectoriesTextArea === null || extraDirectoriesTextArea.value === '') {\n      return extraDirectories.join(this.wpstgObject.settings.directorySeparator);\n    }\n\n    const extraCustomDirectories = extraDirectoriesTextArea.value.split(/\\r?\\n/);\n\n    return extraDirectories.concat(extraCustomDirectories).join(this.wpstgObject.settings.directorySeparator);\n  }\n\n  unselectAll() {\n    this.directoryListingContainer.querySelectorAll('.wpstg-dir input').forEach((element) => {\n      element.checked = false;\n    });\n\n    this.countSelectedFiles();\n  }\n\n  selectDefault() {\n    // unselect all checkboxes\n    this.unselectAll();\n\n    // only select those checkboxes whose class is wpstg-wp-core-dir\n    this.directoryListingContainer.querySelectorAll('.wpstg-dir input.wpstg-wp-core-dir').forEach((element) => {\n      element.checked = true;\n    });\n\n    // then unselect those checkboxes whose parent has wpstg extra checkbox\n    this.directoryListingContainer.querySelectorAll('.wpstg-dir > .wpstg-wp-non-core-dir').forEach((element) => {\n      element.parentElement.querySelectorAll('input.wpstg-wp-core-dir').forEach((element) => {\n        element.checked = false;\n      });\n    });\n\n    this.isDefaultSelected = true;\n\n    this.countSelectedFiles();\n  }\n\n  parseExcludes() {\n    this.existingExcludes = this.directoryListingContainer.getAttribute('data-existing-excludes', []);\n\n    if (typeof this.existingExcludes === 'undefined' || !this.existingExcludes) {\n      this.existingExcludes = [];\n      return;\n    }\n\n    if (this.existingExcludes.length === 0) {\n      this.existingExcludes = [];\n      return;\n    }\n\n    const existingExcludes = this.existingExcludes.split(',');\n    this.existingExcludes = existingExcludes.map((exclude) => {\n      if (exclude.substr(0, 1) === '/') {\n        return exclude.slice(1);\n      }\n\n      return exclude;\n    });\n  }\n\n  isScanned(exclude) {\n    let scanned = false;\n    this.directoryListingContainer.querySelectorAll('.wpstg-dir>input').forEach((element) => {\n      if (element.value == exclude) {\n        scanned = true;\n      }\n    });\n\n    return scanned;\n  }\n\n  toggleDirectoryNavigation(element) {\n    const cbElement = element.previousSibling;\n    if (cbElement.getAttribute('data-navigateable', 'false') === 'false') {\n      return;\n    }\n\n    if (cbElement.getAttribute('data-scanned', 'false') === 'false') {\n      return;\n    }\n\n    const subDirectories = dom.getNextSibling(element, '.wpstg-subdir');\n\n    if (subDirectories.style.display === 'none') {\n      dom.slideDown(subDirectories);\n    } else {\n      dom.slideUp(subDirectories);\n    }\n  }\n\n  updateDirectorySelection(element) {\n    const parent = element.parentElement;\n    element.setAttribute('data-changed', 'true');\n    if (element.checked) {\n      dom.getParents(parent, '.wpstg-dir').forEach((parElem) => {\n        for (let i = 0; i < parElem.children.length; i++) {\n          if (parElem.children[i].matches('.wpstg-check-dir')) {\n            parElem.children[i].checked = true;\n          }\n        }\n      });\n      parent.querySelectorAll('.wpstg-expand-dirs').forEach((x) => {\n        if (x.textContent === 'wp-admin' || x.textContent === 'wp-includes') {\n          return;\n        }\n        x.classList.remove('disabled');\n      });\n      parent.querySelectorAll('.wpstg-subdir .wpstg-check-dir').forEach((x) => {\n        x.checked = true;\n      });\n    } else {\n      parent.querySelectorAll('.wpstg-expand-dirs, .wpstg-check-subdirs').forEach((x) => {\n        x.classList.add('disabled');\n      });\n      parent.querySelectorAll('.wpstg-dir .wpstg-check-dir').forEach((x) => {\n        x.checked = false;\n      });\n    }\n\n    this.countSelectedFiles();\n  }\n\n  countSelectedFiles() {\n    const themesCount = this.directoryListingContainer.querySelectorAll('[data-content-type=\"theme\"]:checked').length;\n    const pluginsCount = this.directoryListingContainer.querySelectorAll('[data-content-type=\"plugin\"]:checked').length;\n    const filesCountElement = dom.qs('#wpstg-files-count');\n    if (themesCount === 0 && pluginsCount === 0) {\n      filesCountElement.classList.add('danger');\n      filesCountElement.innerHTML = this.wpstgObject.i18n['noFileSelected'];\n    } else {\n      filesCountElement.classList.remove('danger');\n      filesCountElement.innerHTML = this.wpstgObject.i18n['filesSelected'].replace('{t}', themesCount).replace('{p}', pluginsCount);\n    }\n  }\n}\n","\nimport * as dom from '../../modules/wpstg-dom-utils.js';\n\nexport default class WpstgCloneGenerateLoginLink {\n  constructor(\n  ) {\n    this.generateLoginLink();\n  }\n\n  generateLoginLink() {\n    const notyfG = new Notyf({\n      duration: 4000,\n      position: {\n        x: 'center',\n        y: 'bottom',\n      },\n      dismissible: true,\n    });\n    const $that = this;\n\n    dom.addEvent(document.body, 'click', '.wpstg-generate-login-link-action', function(element) {\n      WPStaging.ajax(\n          {\n            action: 'wpstg_render_login_link_user_interface',\n            clone: element.getAttribute('data-clone'),\n            cloneName: element.getAttribute('data-name'),\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n          },\n          function(response) {\n            dom.qs('#wpstg-workflow').innerHTML=response;\n          },\n          'HTML',\n      );\n    });\n    dom.addEvent(document.body, 'click', '#wpstg-generate-login-link', function(element) {\n      const html = '<p class=\\'wpstg-push-confirmation-message\\'> ' + element.getAttribute('data-alert-body') + '</p>';\n      dom.confirmModal(element.getAttribute('data-alert-title'), html, element.getAttribute('data-confirm-btn-text'), 'wpstg-confirm-link-save').then(function(result) {\n        if (result.value) {\n          const idPrefix = '#wpstg-generate-login-link-';\n          const cloneID = dom.qs(idPrefix + 'clone-id').value;\n          const role = dom.qs(idPrefix + 'role').value;\n          const minutes = dom.qs(idPrefix + 'minutes').value;\n          const hours = dom.qs(idPrefix + 'hours').value;\n          const days = dom.qs(idPrefix + 'days').value;\n          const url = dom.qs(idPrefix + 'generated').getAttribute('data-url');\n          const uniqueid = Date.now().toString();\n          WPStaging.ajax({\n            action: 'wpstg_save_generated_link_data',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n            cloneID,\n            role,\n            minutes,\n            hours,\n            days,\n            uniqueid,\n          }, function(response) {\n            if (response.success) {\n              dom.qs('#wpstg-generate-login-link-head').style.display = '';\n              dom.qs('#wpstg-generate-login-link-generated').innerText=url + uniqueid;\n              notyfG.success(response.data.message);\n            } else {\n              notyfG.error(response.data.message);\n            }\n            return;\n          }, 'json');\n        }\n      });\n    });\n    dom.addEvent(document.body, 'mouseover', '#wpstg-generate-login-link-generated', function(e) {\n      dom.qs('#wpstg-generate-login-link-copy-text').innerText=dom.qs('#wpstg-generate-login-link-copy-text').getAttribute('data-copy');\n      dom.qs('#wpstg-generate-login-link-copy-text').style.display = '';\n    });\n    dom.addEvent(document.body, 'mouseleave', '#wpstg-generate-login-link-generated', function(e) {\n      dom.qs('#wpstg-generate-login-link-copy-text').style.display = 'none';\n    });\n    dom.addEvent(document.body, 'click', '#wpstg-generate-login-link-generated', function(element) {\n      navigator.clipboard.writeText(element.innerHTML);\n      dom.qs('#wpstg-generate-login-link-copy-text').innerText=dom.qs('#wpstg-generate-login-link-copy-text').getAttribute('data-copied');\n    });\n  };\n}\n","\nimport * as dom from '../../modules/wpstg-dom-utils.js';\nimport WPStagingCommon from '../../wpstg.js';\n\nexport default class WpstgSyncAccount {\n  constructor(\n  ) {\n    this.syncAccount();\n  }\n\n  syncAccount() {\n    const $that = this;\n\n    dom.addEvent(document.body, 'click', '.wpstg-sync-account', function(e) {\n      const $this = dom.qs('.wpstg-sync-account');\n      const dataset = $this.dataset;\n      const html = '<p class=\\'wpstg-push-confirmation-message\\'> ' + dataset.alertBody + '</p>';\n      $that.confirmModal(dataset.alertTitle, html, dataset.confirmBtnText, 'wpstg-confirm-sync-account').then(function(result) {\n        const cloneID = dataset.clone;\n\n        if (result.value) {\n          WPStaging.ajax({\n            action: 'wpstg_sync_account',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n            clone: cloneID,\n          }, function(response) {\n            if (response.data.message) {\n              if (response.success) {\n                WPStagingCommon.showSuccessModal(response.data.message);\n              } else {\n                WPStagingCommon.showErrorModal(response.data.message);\n              }\n            }\n          }, 'json', false);\n          return;\n        }\n      });\n    });\n  };\n\n  /**\n   * A confirmation modal\n   *\n   * @param html\n   * @param confirmText\n   * @param confirmButtonClass\n   * @return Promise\n   */\n  confirmModal(title, html, confirmText, confirmButtonClass) {\n    return WPStagingCommon.getSwalModal(false, {\n      container: 'wpstg-swal-push-container',\n      confirmButton: confirmButtonClass + ' wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn',\n    }).fire({\n      title: title,\n      icon: 'warning',\n      html: html,\n      width: '750px',\n      focusConfirm: false,\n      confirmButtonText: confirmText,\n      showCancelButton: true,\n    });\n  };\n}\n","import WpstgCloneEdit from './modules/wpstg-clone-edit.js';\nimport WpstgPushTableSelection from './modules/wpstg-push-table-selection.js';\nimport WpstgPushFileSelection from './modules/wpstg-push-file-selection.js';\nimport WpstgRemoteStorage from './modules/wpstg-remote-storage.js';\nimport WpstgDirectoryNavigation from '../modules/wpstg-directory-navigation.js';\nimport WpstgCloneGenerateLoginLink from './modules/wpstg-clone-generate-login-link.js';\nimport WpstgSyncAccount from './modules/wpstg-sync-account.js';\nimport WPStagingCommon from '../wpstg.js';\n\nconst WPStagingPro = function($) {\n  const that = {\n    isCancelled: false,\n    isFinished: false,\n    getLogs: false,\n    tableSelector: null,\n    fileSelector: null,\n    directoryNavigator: null,\n    notyf: null,\n  };\n\n  // Cache Elements\n  const cache = {elements: []};\n\n  /**\n     * Get / Set Cache for Selector\n     * @param {String} selector\n     * @return {*}\n     */\n  cache.get = function(selector) {\n    // It is already cached!\n    if ($.inArray(selector, cache.elements) !== -1) {\n      return cache.elements[selector];\n    }\n\n    // Create cache and return\n    cache.elements[selector] = jQuery(selector);\n\n    return cache.elements[selector];\n  };\n\n  /**\n     * Refreshes given cache\n     * @param {String} selector\n     */\n  cache.refresh = function(selector) {\n    selector.elements[selector] = jQuery(selector);\n  };\n\n\n  /**\n     * Ajax Scanning before starting push process\n     */\n  const startScanning = function() {\n    // Scan db and file system\n    const $workFlow = cache.get('#wpstg-workflow');\n\n\n    $workFlow\n    // Load scanning data\n        .on('click', '.wpstg-push-changes', function(e) {\n          const currentObj = this;\n          WPStaging.checkUserDbPermissions('push').then(function(data) {\n            e.preventDefault();\n\n            const $this = $(currentObj);\n\n            // Disable button\n            if ($this.attr('disabled')) {\n              return false;\n            }\n\n            // Add loading overlay\n            $workFlow.addClass('loading');\n\n            // Get clone id\n            const cloneID = $(currentObj).data('clone');\n\n            // Prepare data\n            that.data = {\n              action: 'wpstg_scan',\n              clone: cloneID,\n              accessToken: wpstg.accessToken,\n              nonce: wpstg.nonce,\n            };\n\n            // Send ajax request\n            WPStaging.ajax(\n                that.data,\n                function(response) {\n                  if (response.length < 1) {\n                    showError(\n                        'Something went wrong! No response.  Go to WP Staging > Settings and lower \\'File Copy Limit\\' and \\'DB Query Limit\\'. Also set \\'CPU Load Priority to low \\'' +\n                                  'and try again. If that does not help, ' +\n                                  '<a href=\\'https://wp-staging.com/support/\\' target=\\'_blank\\'>open a support ticket</a> ',\n                    );\n                  }\n\n                  // Styling of elements\n                  $workFlow.removeClass('loading').html(response);\n\n                  WPStaging.switchStep(2);\n\n                  cache.get('.wpstg-step3-cloning').hide();\n                  cache.get('.wpstg-step3-pushing').show();\n\n                  cache.get('.wpstg-loader').hide();\n                  that.directoryNavigator = new WpstgDirectoryNavigation('#wpstg-scanning-files', '#wpstg-workflow', wpstg, that.notyf);\n                  that.directoryNavigator.countSelectedFiles();\n                  that.tableSelector = new WpstgPushTableSelection();\n                  that.fileSelector = new WpstgPushFileSelection();\n                  that.tableSelector.countSelectedTables();\n                  that.fileSelector.countSelectedFiles();\n                },\n                'HTML',\n            );\n          });\n        })\n        // Previous Button\n        .on('click', '.wpstg-prev-step-link', function(e) {\n          e.preventDefault();\n          WPStaging.loadOverview();\n        })\n        .on('click', '#wpstg-use-target-dir', function(e) {\n          e.preventDefault();\n          $('#wpstg_clone_dir').val(this.getAttribute('data-path'));\n        })\n        .on('click', '#wpstg-use-target-hostname', function(e) {\n          e.preventDefault();\n          $('#wpstg_clone_hostname').val(this.getAttribute('data-uri'));\n        })\n        .on('change', '#wpstg-delete-upload-before-pushing', function(e) {\n          if (e.currentTarget.checked) {\n            $('#wpstg-backup-upload-container').show();\n          } else {\n            $('#wpstg-backup-upload-container').hide();\n            $('#wpstg-backup-upload-before-pushing').removeAttr('checked');\n          }\n        });\n  };\n\n\n  // Start the whole pushing process\n  const startProcess = function() {\n    const $workFlow = cache.get('#wpstg-workflow');\n\n    // Click push changes button\n    $workFlow.on('click', '#wpstg-push-changes', function(e) {\n      e.preventDefault();\n\n      // Hide db tables and folder selection\n      cache.get('.wpstg-tabs-wrapper').hide();\n      cache.get('#wpstg-push-changes').hide();\n\n      // Show confirmation modal\n      const cloneName = cache.get('#wpstg-push-changes').data('clone-name');\n      const html = '<p class=\\'wpstg-push-confirmation-message\\'>This will overwrite the production/live site and its plugins, themes and media assets with data from the staging site: \"' + cloneName + '\".  <br/><br/>Database data will be overwritten for each selected table. Take care if you use a shop system like WooCommerce and read the <a href=\"https://wp-staging.com/docs/skip-woocommerce-orders-and-products/\" target=\"_blank\">FAQ</a>. <br/><br/><b>Important:</b> Before you proceed make sure that you have a full site backup. If the pushing process is not successful contact us at <a href=\\'mailto:support@wp-staging.com\\'>support@wp-staging.com</a> or use the Contact Us button.</p>';\n\n      confirmModal('Confirm Push!', html, 'Push', 'wpstg-confirm-push').then(function(result) {\n        if (result.value) {\n          cache.get('#wpstg-push-changes').attr('disabled', true);\n          cache.get('.wpstg-prev-step-link').attr('disabled', true);\n          cache.get('#wpstg-scanning-files').hide();\n          cache.get('.wpstg-progress-bar-wrapper').show();\n          cache.get('#wpstg-cancel-pushing').show(); // show cancel button\n          WPStaging.switchStep(3);\n          window.addEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n          processing();\n\n          return;\n        }\n\n        // Show db tables and folder selection\n        cache.get('.wpstg-tabs-wrapper').show();\n        cache.get('#wpstg-push-changes').show();\n      });\n    })\n    // Cancel pushing process\n        .on('click', '#wpstg-cancel-pushing', function() {\n          if (!confirm('Are you sure you want to cancel pushing process?')) {\n            return false;\n          }\n          cancelPushingProcess();\n        });\n  };\n\n  var cancelPushingProcess = function cancelPushingProcess() {\n    WPStaging.ajax({\n      action: 'wpstg_cancel_push_processing',\n      accessToken: wpstg.accessToken,\n      nonce: wpstg.nonce,\n    }, function(response) {\n      if (response.success) {\n        that.isCancelled = true;\n        cache.get('.wpstg-loader').hide();\n        cache.get('#wpstg-cancel-pushing').hide();\n        window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n        WPStaging.loadOverview();\n        return;\n      }\n    }, 'json', false);\n  };\n\n  /**\n     * Start ajax processing\n     * @return string\n     */\n  var processing = function() {\n    // Show loader gif\n    cache.get('.wpstg-loader').show();\n\n    // Show logging window\n    cache.get('.wpstg-log-details').show();\n\n    // Get clone id\n    const cloneID = cache.get('#wpstg-push-changes').data('clone');\n\n    const deleteUploadsBeforePush = cache.get('#wpstg-delete-upload-before-pushing')[0].checked;\n    let backupUploadsBeforePush = false;\n    if (deleteUploadsBeforePush) {\n      backupUploadsBeforePush = cache.get('#wpstg-backup-upload-before-pushing')[0].checked;\n    }\n\n    let includedTables = getSelectedTablesToPush();\n    let excludedTables = getExcludedTables();\n    let allTablesExcluded = false;\n    that.isCancelled = false;\n\n    if (includedTables.length > excludedTables.length) {\n      includedTables = '';\n    } else if (excludedTables.length > includedTables.length) {\n      excludedTables = '';\n      allTablesExcluded = includedTables === '';\n    }\n\n    WPStaging.ajax(\n        {\n          action: 'wpstg_push_processing',\n          accessToken: wpstg.accessToken,\n          nonce: wpstg.nonce,\n          clone: cloneID,\n          includedTables: includedTables,\n          excludedTables: excludedTables,\n          allTablesExcluded: allTablesExcluded,\n          selectedTablesWithoutPrefix: getSelectedTablesWithoutPrefix(),\n          includedDirectories: getIncludedDirectories(),\n          excludedDirectories: getExcludedDirectories(),\n          extraDirectories: getIncludedExtraDirectories(),\n          createBackupBeforePushing: cache.get('#wpstg-create-backup-before-pushing')[0].checked,\n          deletePluginsAndThemes: cache.get('#wpstg-remove-uninstalled-plugins-themes')[0].checked,\n          deleteUploadsBeforePushing: deleteUploadsBeforePush,\n          backupUploadsBeforePushing: backupUploadsBeforePush,\n        },\n        function(response) {\n          if (that.isCancelled) {\n            cancelPushingProcess();\n            cache.get('.wpstg-loader').hide();\n            cache.get('#wpstg-cancel-pushing').hide();\n            window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n            return;\n          }\n          // Undefined Error\n          if (false === response) {\n            showError(\n                'Something went wrong! Error: No response.  Go to WP Staging > Settings and lower \\'File Copy Limit\\' and \\'DB Query Limit\\'. Also set \\'CPU Load Priority to low \\'' +\n                        'and try again. If that does not help, ' +\n                        '<a href=\\'https://wp-staging.com/support/\\' target=\\'_blank\\'>open a support ticket</a> ',\n            );\n            cache.get('.wpstg-loader').hide();\n            window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n            return;\n          }\n\n          // Throw Error\n          if ('undefined' !== typeof (response.error) && response.error) {\n            WPStaging.showError(\n                'Something went wrong! Error: ' + response.message + '.  Go to WP Staging > Settings and lower \\'File Copy Limit\\' and \\'DB Query Limit\\'. Also set \\'CPU Load Priority to low \\'' +\n                        'and try again. If that does not help, ' +\n                        '<a href=\\'https://wp-staging.com/support/\\' target=\\'_blank\\'>open a support ticket</a> ',\n            );\n            window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n            return;\n          }\n\n          // Add Log messages\n          if ('undefined' !== typeof (response.last_msg) && response.last_msg) {\n            WPStaging.getLogs(response.last_msg);\n          }\n\n          // Continue processing\n          if (false === response.status) {\n            progressBar(response);\n            setTimeout(function() {\n              cache.get('.wpstg-loader').show();\n              processing();\n            }, wpstg.delayReq);\n          } else if (true === response.status) {\n            progressBar(response);\n            processing();\n          } else if ('finished' === response.status || ('undefined' !== typeof (response.job_done) && response.job_done)) {\n            window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n            isFinished(response);\n          }\n        },\n        'json',\n        false,\n    );\n  };\n\n  /**\n     * Test database connection\n     * @return object\n     */\n  const connectDatabase = function() {\n    const $workFlow = cache.get('#wpstg-workflow');\n    $workFlow.on('click', '#wpstg-db-connect', function(e) {\n      e.preventDefault();\n      cache.get('.wpstg-loader').show();\n      cache.get('#wpstg-db-status').hide();\n      WPStaging.ajax(\n          {\n            action: 'wpstg_database_connect',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n            databaseUser: cache.get('#wpstg_db_username').val(),\n            databasePassword: cache.get('#wpstg_db_password').val(),\n            databaseServer: cache.get('#wpstg_db_server').val(),\n            databaseDatabase: cache.get('#wpstg_db_database').val(),\n            databasePrefix: cache.get('#wpstg_db_prefix').val(),\n            databaseSsl: cache.get('#wpstg_db_ssl').is(':checked'),\n          },\n          function(response) {\n            // Undefined Error\n            if (false === response) {\n              showError(\n                  'Something went wrong! Error: No response.' +\n                            'Please try again. If that does not help, ' +\n                            '<a href=\\'https://wp-staging.com/support/\\' target=\\'_blank\\'>open a support ticket</a> ',\n              );\n              cache.get('.wpstg-loader').hide();\n              cache.get('#wpstg-db-status').remove();\n              cache.get('#wpstg-error-details').hide();\n              cache.get('#wpstg-db-connect').after('<span id=\"wpstg-db-status\" class=\"wpstg-failed\"> Failed</span>');\n              return;\n            }\n\n            // Throw Error\n            if ('undefined' !== typeof (response.errors) && response.errors) {\n              WPStaging.showError(\n                  'Something went wrong! Error: ' + response.errors +\n                            ' Please try again. If that does not help, ' +\n                            '<a href=\\'https://wp-staging.com/support/\\' target=\\'_blank\\'>open a support ticket</a> ',\n              );\n              cache.get('.wpstg-loader').hide();\n              cache.get('#wpstg-db-status').hide();\n              cache.get('#wpstg-db-error').remove();\n              cache.get('#wpstg-db-connect').after('<span id=\"wpstg-db-status\" class=\"wpstg-failed\"> Failed</span><br/><span id=\"wpstg-db-error\" class=\"wpstg--red\">Error: ' + response.errors + '</span>');\n              return;\n            }\n\n            if ('undefined' !== typeof (response.success) && response.success) {\n              cache.get('.wpstg-loader').hide();\n              cache.get('#wpstg-db-status').hide();\n              cache.get('#wpstg-error-details').hide();\n              cache.get('#wpstg-db-error').hide();\n              cache.get('#wpstg-db-connect').after('<span id=\"wpstg-db-status\" class=\"wpstg-success\"> Success</span>');\n            }\n          },\n          'json',\n          false,\n      );\n    });\n\n    // Make form fields editable\n    $workFlow.on('click', '#wpstg-ext-db', function() {\n      if (this.checked) {\n        cache.get('#wpstg_db_server').removeAttr('readonly');\n        cache.get('#wpstg_db_username').removeAttr('readonly');\n        cache.get('#wpstg_db_password').removeAttr('readonly');\n        cache.get('#wpstg_db_database').removeAttr('readonly');\n        cache.get('#wpstg_db_prefix').removeAttr('readonly');\n        cache.get('#wpstg_db_ssl').removeAttr('readonly');\n      } else {\n        cache.get('#wpstg_db_server').attr('readonly', true).val('');\n        cache.get('#wpstg_db_username').attr('readonly', true).val('');\n        cache.get('#wpstg_db_password').attr('readonly', true).val('');\n        cache.get('#wpstg_db_database').attr('readonly', true).val('');\n        cache.get('#wpstg_db_prefix').attr('readonly', true).val('');\n        cache.get('#wpstg_db_ssl').attr('readonly', true).prop('checked', false);\n      }\n    });\n  };\n\n  const editCloneData = function() {\n    // Scan db and file system\n    const $workFlow = cache.get('#wpstg-workflow');\n\n    $workFlow\n    // Load scanning data\n        .on('click', '.wpstg-edit-clone-data', function(e) {\n          e.preventDefault();\n\n          const $this = $(this);\n\n          // Disable button\n          if ($this.attr('disabled')) {\n            return false;\n          }\n\n          // Get clone id\n          const cloneID = $(this).data('clone');\n\n          // Prepare data\n          that.data = {\n            action: 'wpstg_edit_clone_data',\n            clone: cloneID,\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n          };\n\n          // Send ajax request\n          WPStaging.ajax(\n              that.data,\n              function(response) {\n                $workFlow.html(response);\n              },\n              'HTML',\n          );\n        })\n        .on('click', '.wpstg-prev-step-link', function(e) {\n          e.preventDefault();\n          WPStaging.loadOverview();\n        })\n        .on('click', '#wpstg-save-clone-data', function(e) {\n          e.preventDefault();\n\n          const idPrefix = '#wpstg-edit-clone-data-';\n          const cloneID = cache.get(idPrefix + 'clone-id').val();\n          const cloneName = cache.get(idPrefix + 'clone-name').val();\n          const directoryName = cache.get(idPrefix + 'directory-name').val();\n          const path = cache.get(idPrefix + 'path').val();\n          const url = cache.get(idPrefix + 'url').val();\n          const prefix = cache.get(idPrefix + 'prefix').val();\n          const externalDBUser = cache.get(idPrefix + 'database-user').val();\n          const externalDBPassword = cache.get(idPrefix + 'database-password').val();\n          const externalDBDatabase = cache.get(idPrefix + 'database-database').val();\n          const externalDBHost = cache.get(idPrefix + 'database-server').val();\n          const externalDBPrefix = cache.get(idPrefix + 'database-prefix').val();\n          const externalDBSsl = cache.get(idPrefix + 'database-ssl').is(':checked');\n\n          // Prepare data\n          that.data = {\n            action: 'wpstg_save_clone_data',\n            clone: cloneID,\n            cloneName: cloneName,\n            directoryName: directoryName,\n            path: path,\n            url: url,\n            prefix: prefix,\n            externalDBUser: externalDBUser,\n            externalDBPassword: externalDBPassword,\n            externalDBDatabase: externalDBDatabase,\n            externalDBHost: externalDBHost,\n            externalDBPrefix: externalDBPrefix,\n            externalDBSsl: externalDBSsl,\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n          };\n\n          WPStaging.ajax(\n              that.data,\n              function(response) {\n                if (response === 'Success') {\n                  WPStaging.loadOverview();\n                } else {\n                  alert(response);\n                }\n              },\n              'HTML',\n          );\n        });\n  };\n\n  /**\n     * All jobs are finished\n     * @param {object} response\n     * @return object\n     */\n  var isFinished = function(response) {\n    progressBar(response);\n    cache.get('.wpstg-loader').hide();\n    cache.get('.wpstg-prev-step-link').attr('disabled', false);\n    cache.get('#wpstg-cancel-pushing').hide();\n\n    WPStagingCommon.getSwalModal(true, {\n      confirmButton: 'wpstg--btn--confirm wpstg-green-button wpstg-button wpstg-link-btn wpstg-100-width',\n      popup: 'wpstg-swal-popup wpstg-push-finished centered-modal',\n    }).fire({\n      title: 'Push Successful!',\n      icon: 'success',\n      html: 'Clear the site cache if changes are not visible!',\n      width: '500px',\n      focusConfirm: true,\n    });\n  };\n\n  /**\n     * Get Included (Selected) Prefixed Database Tables\n     * @return {Array}\n     */\n  var getSelectedTablesToPush = function() {\n    if (that.tableSelector === null) {\n      return '';\n    }\n\n    return that.tableSelector.getIncludedTables();\n  };\n\n  /**\n     * Get Excluded (Unchecked) Prefixed Database Tables\n     * @return {Array}\n     */\n  var getExcludedTables = function() {\n    if (that.tableSelector === null) {\n      return '';\n    }\n\n    return that.tableSelector.getExcludedTables();\n  };\n\n  /**\n     * Get Non prefixed selected Database Tables\n     * @return {Array}\n     */\n  var getSelectedTablesWithoutPrefix = function() {\n    if (that.tableSelector === null) {\n      return '';\n    }\n\n    return that.tableSelector.getSelectedTablesWithoutPrefix();\n  };\n\n\n  /**\n     * A confirmation modal\n     *\n     * @param html\n     * @param confirmText\n     * @param confirmButtonClass\n     * @return Promise\n     */\n  var confirmModal = function(title, html, confirmText, confirmButtonClass) {\n    return WPStagingCommon.getSwalModal(false, {\n      container: 'wpstg-swal-push-container',\n      confirmButton: confirmButtonClass + ' wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn',\n    }).fire({\n      title: title,\n      icon: 'warning',\n      html: html,\n      width: '750px',\n      focusConfirm: false,\n      confirmButtonText: confirmText,\n      showCancelButton: true,\n    });\n  };\n\n  /**\n     * Get Included Directories\n     * @return {Array}\n     */\n  var getIncludedDirectories = function() {\n    const includedDirectories = [];\n\n    $('.wpstg-dir input:checked').each(function() {\n      const $this = $(this);\n      if (!$this.parent('.wpstg-dir').parents('.wpstg-dir').children('.wpstg-expand-dirs').hasClass('disabled')) {\n        includedDirectories.push($this.val());\n      }\n    });\n\n    return includedDirectories;\n  };\n\n  /**\n     * Get Excluded Directories\n     * @return {Array}\n     */\n  var getExcludedDirectories = function() {\n    const excludedDirectories = [];\n\n    $('.wpstg-dir input:not(:checked)').each(function() {\n      const $this = $(this);\n      excludedDirectories.push($this.val());\n    });\n\n    return excludedDirectories;\n  };\n\n  /**\n     * Get Included Extra Directories\n     * @return {Array}\n     */\n  var getIncludedExtraDirectories = function() {\n    var extraDirectories = [];\n\n    if (!$('#wpstg_extraDirectories').val()) {\n      return extraDirectories;\n    }\n\n    var extraDirectories = $('#wpstg_extraDirectories').val().split(/\\r?\\n/);\n\n    return extraDirectories;\n  };\n\n  var progressBar = function(response, restart) {\n    if ('undefined' === typeof (response.percentage)) {\n      return false;\n    }\n\n    if (response.job === 'JobCreateBackup') {\n      cache.get('#wpstg-progress-backup').width(response.percentage * 0.15 + '%').html(response.percentage + '%');\n      cache.get('#wpstg-processing-status').html(response.percentage.toFixed(0) + '%' + ' - Step 1 of 4 Creating backup...');\n    }\n\n    if (response.job === 'jobFileScanning' || response.job === 'jobCopy') {\n      cache.get('#wpstg-progress-backup').css('background-color', '#3bc36b');\n      cache.get('#wpstg-progress-backup').html('1. Backup');\n      // Assumption: All previous steps are done.\n      // This avoids bugs where some steps are skipped and the progress bar is incomplete as a result\n      cache.get('#wpstg-progress-backup').width('15%');\n\n      let percentage;\n      if (response.job === 'jobFileScanning') {\n        percentage = response.percentage / 2;\n      } else {\n        percentage = 50 + response.percentage / 2;\n      }\n\n      cache.get('#wpstg-progress-files').width(percentage * 0.3 + '%').html(percentage.toFixed(0) + '%');\n      cache.get('#wpstg-processing-status').html(percentage.toFixed(0) + '%' + ' - Step 2 of 4 Copying files...');\n    }\n\n    if (response.job === 'jobCopyDatabaseTmp' || response.job === 'jobSearchReplace' || response.job === 'jobData') {\n      cache.get('#wpstg-progress-files').css('background-color', '#3bc36b');\n      cache.get('#wpstg-progress-files').html('2. Files');\n      cache.get('#wpstg-progress-files').width('30%');\n\n      let percentage = 0;\n      if (response.job === 'jobCopyDatabaseTmp') {\n        percentage = response.percentage / 3;\n      } else if (response.job === 'jobSearchReplace') {\n        percentage = 100 / 3 + response.percentage / 3;\n      } else {\n        percentage = 200 / 3 + response.percentage / 3;\n      }\n\n      cache.get('#wpstg-progress-data').width(percentage * 0.4 + '%').html(percentage.toFixed(0) + '%');\n      cache.get('#wpstg-processing-status').html(percentage.toFixed(0) + '%' + ' - Step 3 of 4 Copying data...');\n    }\n    if (response.job === 'jobDatabaseRename') {\n      cache.get('#wpstg-progress-data').css('background-color', '#3bc36b');\n      cache.get('#wpstg-progress-data').html('3. Data');\n      cache.get('#wpstg-progress-data').width('40%');\n\n      cache.get('#wpstg-progress-finishing').width(response.percentage * 0.15 + '%').html(response.percentage + '%');\n      cache.get('#wpstg-processing-status').html(response.percentage.toFixed(0) + '%' + ' - Step 4 of 4 Finishing migration...');\n    }\n    if (response.status === 'finished') {\n      cache.get('#wpstg-progress-finishing').css('background-color', '#3bc36b');\n      cache.get('#wpstg-progress-finishing').html('4. Finishing migration');\n      cache.get('#wpstg-progress-finishing').width('15%');\n\n      cache.get('#wpstg-processing-status').html(response.percentage.toFixed(0) + '%' + ' - Pushing Process Finished');\n    }\n  };\n\n  that.init = function() {\n    startProcess();\n    startScanning();\n    connectDatabase();\n    editCloneData();\n    new WpstgCloneEdit();\n    new WpstgRemoteStorage();\n    new WpstgCloneGenerateLoginLink();\n    new WpstgSyncAccount();\n  };\n\n  return that;\n}(jQuery);\n\njQuery(document).ready(function($) {\n  WPStagingPro.init();\n\n  jQuery(document).on('click', '#wpstg-update-mail-settings', function(e) {\n    e.preventDefault();\n\n    $('#wpstg-update-mail-settings').attr('disabled', 'disabled');\n    const data = {\n      action: 'wpstg_update_staging_mail_settings',\n      emailsAllowed: $('#wpstg_allow_emails').is(':checked'),\n      accessToken: wpstg.accessToken,\n      nonce: wpstg.nonce,\n    };\n\n    jQuery.ajax({\n      url: ajaxurl,\n      type: 'POST',\n      data: data,\n      error: function(xhr, textStatus, errorThrown) {\n        WPStagingCommon.getSwalModal().fire(\n            'Unknown error',\n            'Please get in contact with us to solve it support@wp-staging.com',\n            'error',\n        );\n      },\n      success: function(response) {\n        let alertType = 'error';\n        if (response.success) {\n          alertType = 'success';\n        }\n\n        WPStagingCommon.getSwalModal().fire('', response.message, alertType).then(function() {\n          jQuery('.wpstg-mails-notice').slideUp('fast');\n        });\n        $('#wpstg-update-mail-settings').removeAttr('disabled');\n        return true;\n      },\n      statusCode: {\n        404: function() {\n          WPStagingCommon.getSwalModal().fire(\n              '404',\n              'Something went wrong; can\\'t find ajax request URL! Please get in contact with us to solve it support@wp-staging.com',\n              'error',\n          );\n        },\n        500: function() {\n          WPStagingCommon.getSwalModal().fire(\n              '500',\n              'Something went wrong; internal server error while processing the request! Please get in contact with us to solve it support@wp-staging.com',\n              'error',\n          );\n        },\n      },\n    });\n  });\n});\n\n// export default {}\n"],"names":["parent","selector","onOver","onOut","x","y","pX","pY","mouseOver","focused","h","state","timer","options","sensitivity","interval","timeout","handleFocus","tracker","e","clientX","clientY","compare","el","clearTimeout","Math","abs","undefined","setTimeout","dispatchOver","removeEventListener","addEventListener","this","onMouseOver","event","target","matches","closest","dispatchOut","delay","onMouseOut","onFocus","onBlur","removeFocus","opt","focusOptionChanged","Object","assign","remove","Element","prototype","msMatchesSelector","webkitMatchesSelector","s","call","parentElement","parentNode","nodeType","$","WPStagingCommon","continueErrorHandle","retry","currentDelay","count","max","retryOnErrors","performingRequest","incrementRetry","incrementRatio","canRetry","reset","memoryExhaustArticleLink","cache","elements","get","inArray","refresh","setJobId","jobId","localStorage","setItem","getJobId","getItem","listenTooltip","wpstgHoverIntent","document","querySelector","style","visibility","getSwalModal","isContentCentered","customClasses","defaultCustomClasses","confirmButton","cancelButton","actions","popup","customClass","buttonsStyling","reverseButtons","showClass","wpstgSwal","mixin","showSuccessModal","htmlContent","fire","showConfirmButton","showCancelButton","cancelButtonText","icon","title","html","showWarningModal","showErrorModal","getSwalContainer","getContainer","closeSwalModal","close","getDataFromWordPressResponse","response","Error","hasOwnProperty","success","data","Array","length","shift","isLoading","show","hide","slugify","url","toString","toLowerCase","normalize","replace","showAjaxFatalError","prependMessage","appendMessage","showError","window","WPStaging","warnIfClosingDuringProcess","error","message","handleFetchErrors","ok","status","statusText","css","text","removeClass","resetErrors","ajax","callback","dataType","showErrors","tryCount","errorCallback","retryLimit","retryTimeout","parseInt","isNaN","ajaxurl","Date","now","type","xhr","textStatus","errorThrown","console","log","errorCode","statusCode","jQuery","qs","addEvent","evt","handler","slideDown","element","duration","display","overflow","height","offsetHeight","transitionProperty","transitionDuration","removeProperty","getParents","result","push","WpstgCloneEdit","workflowSelector","dbCheckTriggerClass","wpstgObject","databaseCheckAction","wpstg","workflow","dom","dbCheckTimer","abortDbCheckController","dbCheckCallStatus","notyf","Notyf","position","dismissible","types","background","init","addEvents","forEach","_this","abort","checkDatabase","idPrefix","externalDBUser","value","externalDBPassword","externalDBDatabase","externalDBHost","externalDBPrefix","externalDBSsl","checked","AbortController","fetch","ajaxUrl","method","signal","credentials","body","URLSearchParams","action","accessToken","nonce","databaseUser","databasePassword","databaseServer","databaseDatabase","databasePrefix","databaseSsl","databaseEnsurePrefixTableExist","headers","then","_this2","json","Promise","reject","dismissAll","i18n","disabled","errors","open","warn","WpstgPushTableSelection","inputSelector","input","cloneID","getAttribute","tablePrefix","isNetwork","areAllTablesChecked","showAllTables","selectDefaultTables","toggleTableSelection","countSelectedTables","includedTables","getIncludedTables","excludedTables","getExcludedTables","clone","selectedTablesWithoutPrefix","getSelectedTablesWithoutPrefix","innerHTML","content","opacity","getRegexPattern","pattern","isMultisite","querySelectorAll","option","match","selected","regexPattern","name","join","settings","directorySeparator","tables","tablesCount","tablesCountElement","classList","add","WpstgPushFileSelection","filesTabSelector","dirSelector","filesTab","toggleChildren","countSelectedFiles","cb","filesCount","filesCountElement","themesCount","pluginsCount","head","nextSibling","WpstgLoader","showModal","loadModal","container","getAjaxLoader","width","focusConfirm","wpstgIcon","WpstgRemoteStorage","revokeButtonSelector","revokeProviderFormSelector","revokeAction","settingsButtonSelector","settingsFormSelector","settingsAction","authenticateButtonSelector","authenticateFormSelector","authenticateAction","testConnectionButtonSelector","testConnectionFieldsSelector","testConnectionAction","revokeForm","settingsForm","authenticateForm","testConnectionFields","sendRevokeRequest","sendSettingsRequest","sendAuthenticateRequest","sendTestConnectionRequest","toggleSftpFields","toggleS3GenericFields","provider","location","reload","loader","swal","formData","FormData","append","queryString","warning","fields","ftpType","sftpElements","ftpElements","isCustomProvider","getElementById","WpstgDirectoryNavigation","directoryListingSelector","directoryListingContainer","dirCheckboxSelector","dirExpandSelector","unselectAllDirsSelector","selectDefaultDirsSelector","fetchChildrenAction","currentCheckboxElement","currentParentDiv","currentLoader","existingExcludes","excludedDirectories","isDefaultSelected","preventDefault","toggleDirExpand","sendRequest","unselectAll","selectDefault","toggleDirectoryNavigation","updateDirectorySelection","parseExcludes","previousSibling","changed","dirPath","isChecked","forceDefault","setAttribute","dirContainer","createElement","JSON","parse","directoryListing","appendChild","alert","getExcludedDirectories","_this3","isParentExcluded","exclude","isScanned","path","isParentAlreadyExcluded","dir","startsWith","getExtraDirectoriesRootOnly","extraDirectories","extraDirectoriesTextArea","extraCustomDirectories","split","concat","map","substr","slice","scanned","cbElement","subDirectories","sibling","nextElementSibling","parElem","i","children","textContent","WpstgCloneGenerateLoginLink","generateLoginLink","notyfG","cloneName","confirmText","confirmButtonClass","confirmButtonText","role","minutes","hours","days","uniqueid","innerText","navigator","clipboard","writeText","WpstgSyncAccount","syncAccount","$that","dataset","alertBody","confirmModal","alertTitle","confirmBtnText","WPStagingPro","that","isCancelled","isFinished","getLogs","tableSelector","fileSelector","directoryNavigator","cancelPushingProcess","loadOverview","processing","deleteUploadsBeforePush","backupUploadsBeforePush","getSelectedTablesToPush","allTablesExcluded","includedDirectories","getIncludedDirectories","getIncludedExtraDirectories","createBackupBeforePushing","deletePluginsAndThemes","deleteUploadsBeforePushing","backupUploadsBeforePushing","last_msg","progressBar","delayReq","job_done","attr","each","$this","parents","hasClass","val","restart","percentage","job","toFixed","$workFlow","on","switchStep","confirm","currentObj","checkUserDbPermissions","addClass","currentTarget","removeAttr","is","after","prop","connectDatabase","directoryName","prefix","editCloneData","ready","emailsAllowed","alertType","slideUp"],"mappings":"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"}