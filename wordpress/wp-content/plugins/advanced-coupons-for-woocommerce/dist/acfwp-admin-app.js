!function(){"use strict";var e=function(){return e=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},e.apply(this,arguments)},t=function(){var t=acfwpElements.element,n=t.useEffect,a=t.useState,l=t.Fragment,c=acfwpElements.antd,m=acfwpElements.antdIcons.CheckCircleFilled,s=c.Form,i=c.Input,r=c.Button,p=c.Typography,o=c.Skeleton,f=c.message,E=p.Link,u=a({key:!1}),w=u[0],d=u[1],v=a(!1),y=v[0],g=v[1],_=a(!1),h=_[0],k=_[1],N=s.useForm()[0],b=acfwAdminApp.license_page,j=b.title,x=b.desc,A=b.indicator,C=b.license_status,F=b.premium_content,I=b.specs,T=b.formlabels,O=b.spinner_img;n((function(){jQuery.ajax({url:ajaxurl,data:{action:"acfw_get_license_details"},dataType:"json"}).done((function(e){"success"===e.status&&d({key:e.license_key?e.license_key:"",email:e.email?e.email:"",is_active:e.is_active})})).always((function(){return g(!0)}))}),[d,g]);return acfwpElements.element.createElement("div",{id:"license-placeholder"},acfwpElements.element.createElement("div",{className:"overview"},acfwpElements.element.createElement("img",{className:"acfw-logo",src:acfwAdminApp.logo,alt:"acfw logo"}),acfwpElements.element.createElement("h1",null,j),acfwpElements.element.createElement("p",null,x)),acfwpElements.element.createElement("div",{className:"license-info ".concat(h?"show":"")},acfwpElements.element.createElement("div",{className:"heading"},acfwpElements.element.createElement("div",{className:"left"},acfwpElements.element.createElement("span",null,C.label)),acfwpElements.element.createElement("div",{className:"right"},acfwpElements.element.createElement("span",{className:"action-button active-indicator no-hover ".concat("yes"==w.is_active?"activated":"")},"yes"==w.is_active&&acfwpElements.element.createElement(m,null),"yes"==w.is_active?A.active:A.inactive))),acfwpElements.element.createElement("div",{className:"content"},acfwpElements.element.createElement("h2",null,F.title),acfwpElements.element.createElement("p",null,F.text),acfwpElements.element.createElement("table",{className:"license-specs"},acfwpElements.element.createElement("thead",null,acfwpElements.element.createElement("tr",null,I.map((function(e){return acfwpElements.element.createElement("th",{key:e.label},e.label)})))),acfwpElements.element.createElement("tbody",null,acfwpElements.element.createElement("tr",null,I.map((function(e){return acfwpElements.element.createElement("td",{key:e.value},e.value)})))))),acfwpElements.element.createElement("div",{className:"license-form"},y?acfwpElements.element.createElement(l,null,acfwpElements.element.createElement(s,{layout:"vertical",form:N,initialValues:w,onFinish:function(t){k(!0),function(e){var t=acfwAdminApp.license_page._formNonce;return e.action="acfw_activate_license",jQuery.ajax({method:"post",url:ajaxurl,data:{action:"acfw_activate_license","activation-email":e.email,"license-key":e.key,"ajax-nonce":t},dataType:"json"})}(t).done((function(t){"success"===t.status?(f.success(t.success_msg),d(e(e({},w),{is_active:"yes"}))):(["inactive","expired"].includes(t.license_status)&&d(e(e({},w),{is_active:"no"})),f.error(t.error_msg))})).always((function(){return k(!1)}))}},acfwpElements.element.createElement(s.Item,{className:"license-form-item",label:T.license_key,name:"key"},acfwpElements.element.createElement(i,{type:"password",autocomplete:"off"})),acfwpElements.element.createElement(s.Item,{className:"license-form-item",label:T.email,name:"email"},acfwpElements.element.createElement(i,{type:"email",autocomplete:"off"})),acfwpElements.element.createElement(s.Item,{className:"license-form-item form-action ".concat("yes"==w.is_active?"grayed":"")},acfwpElements.element.createElement(r,{type:"primary",htmlType:"submit"},T.button))),acfwpElements.element.createElement("div",{className:"help-row"},T.help.text," ",acfwpElements.element.createElement(E,{href:T.help.link,target:"_blank"},T.help.login))):acfwpElements.element.createElement(o,{loading:!0,active:!0,paragraph:{rows:1}})),acfwpElements.element.createElement("div",{className:"overlay"},acfwpElements.element.createElement("img",{src:O,alt:"spinner"}))))},n=function(e){var t=acfwpElements.element,n=acfwpElements.antd,a=t.useState,l=n.Button,c=n.message,m=e.id,s=e.nonce,i=e.button,r=i.text,p=i.action,o=i.type,f=a(!1),E=f[0],u=f[1],w=function(e){var t;u(!0),(t={action:m,type:e,nonce:s},jQuery.ajax({method:"post",url:ajaxurl,data:t,dataType:"json"})).done((function(e){"success"===e.status?c.success(e.message):"warning"===e.status?c.warning(e.message):c.error(e.error_msg)})).always((function(){u(!1)}))};return acfwpElements.element.createElement(l,{type:o,onClick:function(){return w(p)},loading:E},r)},a=function(e){var t=acfwpElements.antd,a=t.Col,l=t.Card,c=e.card,m=c.title,s=c.desc,i=c.nonce,r=c.id,p=c.buttons;return acfwpElements.element.createElement(a,{className:"utility-card",span:8},acfwpElements.element.createElement(l,null,acfwpElements.element.createElement("h2",null,m),acfwpElements.element.createElement("p",null,s),acfwpElements.element.createElement("div",{className:"actions"},p.map((function(e,t){return acfwpElements.element.createElement(n,{id:r,nonce:i,button:e,key:t})})))))},l=function(){var e=acfwpElements.antd.Row;if(!acfwAdminApp.help_page.utilities)return null;var t=acfwAdminApp.help_page.utilities,n=t.title,l=t.cards;return acfwpElements.element.createElement("div",{className:"utility-block"},acfwpElements.element.createElement("h1",null,n),acfwpElements.element.createElement(e,{gutter:10},l.map((function(e,t){return acfwpElements.element.createElement(a,{card:e,key:t})}))))};acfwpElements.LicensePremium=t,acfwpElements.HelpPremium=l}();
//# sourceMappingURL=acfwp-admin-app.js.map